/*! For license information please see login.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/ArcSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var o,r=n("./src/Drawer.ts"),i=n("./node_modules/vector2d/src/Vec2D.js"),s=n("./src/Segment.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e,n,o,r,i,s){var a=t.call(this)||this;return a.center=e,a.radius=n,a.startAngle=o,a.endAngle=r,a.counterClockwise=i,a.isCollidable=s,a}return a(e,t),e.prototype.draw=function(t,e){var n=t.canvas.width/2e3,o=t.canvas.height/2e3;t.lineCap="round",t.strokeStyle=e,1==this.isCollidable&&(t.beginPath(),t.arc(this.center.x*n,this.center.y*o,this.radius*Math.min(n,o),this.startAngle,this.endAngle,this.counterClockwise),t.stroke(),t.closePath())},e.prototype.drawDebug=function(t,e){var n=this.counterClockwise?-Math.PI:Math.PI;n+=this.endAngle,t.lineCap="round",(0,r.drawDot)(this.center.x,this.center.y,5,"#000000"),(0,r.drawArrow)(t,new i.Vector(this.endPoint.x,this.endPoint.y),new i.Vector(this.endPoint.x+this.radius*Math.cos(n),this.endPoint.y+this.radius*Math.sin(n))),(0,r.drawArc)(this.center.x,this.center.y,this.radius,0,0,!1)},Object.defineProperty(e.prototype,"endPoint",{get:function(){return new i.Vector(this.center.x+this.radius*Math.cos(this.endAngle),this.center.y+this.radius*Math.sin(this.endAngle))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"penpendicularEndAngle",{get:function(){return this.isCounterClockwise?this.endAngle-Math.PI/2:this.endAngle+Math.PI/2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"penpendicularStartAngle",{get:function(){return this.isCounterClockwise?this.startAngle-Math.PI/2:this.startAngle+Math.PI/2},enumerable:!1,configurable:!0}),e.prototype.isCounterClockwise=function(){return this.counterClockwise},e.prototype.getContinuingSegment=function(t){return new e(this.center.clone().add(t),this.radius,this.endAngle,this.endAngle,this.counterClockwise,this.isCollidable)},e}(s.default)},"./src/Drawer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArc:()=>a,drawArrow:()=>c,drawDot:()=>s,drawGrid:()=>i});var o=n("./node_modules/vector2d/src/Vec2D.js"),r=n("./src/index.ts");function i(){var t=r.backgroundCanvasCtx.canvas.width/2e3,e=r.backgroundCanvasCtx.canvas.height/2e3;r.backgroundCanvasCtx.clearRect(0,0,r.backgroundCanvas.width,r.backgroundCanvas.height),r.backgroundCanvasCtx.strokeStyle="rgba(0, 0, 0, 0.3)",r.backgroundCanvasCtx.lineWidth=2;for(var n=r.gridSize;n<r.backgroundCanvas.width;n+=r.gridSize*t)r.backgroundCanvasCtx.beginPath(),r.backgroundCanvasCtx.moveTo(n,0),r.backgroundCanvasCtx.lineTo(n,r.backgroundCanvas.height),r.backgroundCanvasCtx.stroke();for(var o=r.gridSize;o<r.backgroundCanvas.height;o+=r.gridSize*e)r.backgroundCanvasCtx.beginPath(),r.backgroundCanvasCtx.moveTo(0,o),r.backgroundCanvasCtx.lineTo(r.backgroundCanvas.width,o),r.backgroundCanvasCtx.stroke()}function s(t,e,n,o){r.backgroundCanvasCtx.beginPath(),r.backgroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),r.backgroundCanvasCtx.fillStyle=o,r.backgroundCanvasCtx.fill(),r.backgroundCanvasCtx.closePath()}function a(t,e,n,o,i,s){r.backgroundCanvasCtx.lineCap="round",r.backgroundCanvasCtx.strokeStyle="#3466aa",r.backgroundCanvasCtx.beginPath(),r.backgroundCanvasCtx.arc(t,e,n,0,2*Math.PI,s),r.backgroundCanvasCtx.lineWidth=5,r.backgroundCanvasCtx.stroke(),r.backgroundCanvasCtx.closePath()}function c(t,e,n){if(e.x!=n.x&&e.y!=n.y){var r=Math.atan2(n.y-e.y,n.x-e.x),i=10,s=new o.Vector(n.x,n.y);s.x-=11.5*Math.cos(r),s.y-=11.5*Math.sin(r),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(s.x,s.y),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(s.x-i*Math.cos(r-Math.PI/7),s.y-i*Math.sin(r-Math.PI/7)),t.lineTo(s.x-i*Math.cos(r+Math.PI/7),s.y-i*Math.sin(r+Math.PI/7)),t.lineTo(s.x,s.y),t.lineTo(s.x-i*Math.cos(r-Math.PI/7),s.y-i*Math.sin(r-Math.PI/7)),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.fillStyle="#bbbbbb",t.fill(),t.closePath()}}},"./src/InputManager.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var o=n("./src/WebSocketClient/websocket.ts");const r=function(){function t(t,e,n){this.keyMap={},window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this)),this.snake=t,this.leftKey=e,this.rightKey=n}return t.prototype.onKeyDown=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();if(e==this.leftKey||e==this.rightKey){if(this.keyMap[this.rightKey]&&e==this.leftKey)this.keyMap[this.rightKey]=!1;else if(this.keyMap[this.leftKey]&&e==this.rightKey)this.keyMap[this.leftKey]=!1;else if(this.keyMap[e])return;this.keyMap[e]=!0,(0,o.sendKeyEventToServer)(e==this.rightKey?1:0,!0)}}},t.prototype.onKeyUp=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();this.keyMap[e]&&(this.keyMap[e]=!1,(0,o.sendKeyEventToServer)(e==this.rightKey?1:0,!1))}},t.prototype.dispose=function(){window.removeEventListener("keydown",this.onKeyDown.bind(this)),window.removeEventListener("keyup",this.onKeyUp.bind(this))},t}()},"./src/LineSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var o,r=n("./src/Segment.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.isCollidable=!0,i.startPoint=e,i.endPoint=n,i.isCollidable=o,i.endAngle=r,i}return i(e,t),e.prototype.draw=function(t,e){var n=t.canvas.width/2e3,o=t.canvas.height/2e3;t.strokeStyle=e,t.lineCap="round",1==this.isCollidable&&(t.beginPath(),t.moveTo(this.startPoint.x*n,this.startPoint.y*o),t.lineTo(this.endPoint.x*n,this.endPoint.y*o),t.stroke(),t.closePath())},e.prototype.calcEndAngle=function(){return Math.atan((this.endPoint.y-this.startPoint.y)/(this.endPoint.x-this.startPoint.x))},Object.defineProperty(e.prototype,"length",{get:function(){return Math.sqrt(Math.pow(this.startPoint.x-this.endPoint.x,2)+Math.pow(this.startPoint.y-this.endPoint.y,2))},enumerable:!1,configurable:!0}),e.prototype.getContinuingSegment=function(t){var n=this.endPoint.clone().add(t);return new e(n,n,this.isCollidable,this.endAngle)},e}(r.default)},"./src/MenuManager/login.ts":(t,e,n)=>{n.r(e),n.d(e,{currentPlayer:()=>c,currentRoom:()=>a,handleReadyState:()=>S,handleRoomAction:()=>P,showErrorAnimation:()=>_,showRoomView:()=>k,switchGameView:()=>j,updateButton:()=>w,updateColorPicker:()=>A,updatePlayerColor:()=>O,updateRoomList:()=>M});var o=n("./src/index.ts"),r=n("./src/ViewModels/Player.ts"),i=n("./src/ViewModels/Room.ts"),s=n("./src/WebSocketClient/websocket.ts"),a=null,c=null,l=document.getElementById("roomCodeInput"),u=document.getElementById("usernameInput"),d=document.getElementById("joinButton"),h=document.getElementById("readyButton"),y=document.getElementById("login-div"),p=document.getElementById("room-div"),f=document.getElementById("game-canvas-container"),g=document.getElementById("color-picker"),m=document.getElementById("room-users-list"),v=document.getElementById("room-code"),b=document.getElementById("player-count"),x=document.getElementById("color-picker-container"),C=document.getElementById("start-progress-bar");function w(){""==u.value.trim()?d.disabled=!0:d.disabled=!1,5==l.value.trim().length?d.textContent="JOIN ROOM":d.textContent="CREATE ROOM"}function P(){var t=u.value;t&&(c=new r.Player(t),"CREATE ROOM"===d.innerText?(0,s.createRoom)(u.value):(0,s.joinRoom)(l.value.toUpperCase(),u.value))}function S(){c.isReady=!c.isReady,(0,s.setPlayerData)(c,a.getCode()),c.isReady?(h.classList.remove("red-button"),h.classList.add("green-button")):(h.classList.add("red-button"),h.classList.remove("green-button"))}function k(t){var e=JSON.parse(t.toString());a=new i.Room(e.room.code,e.room.host,e.room.players,e.room.maxSize),c.username==a.getHost().username&&document.getElementById("startButton").classList.remove("display-none"),x.style.backgroundColor=c.color,g.value=c.color,document.getElementById("color-label").style.color=E(g.value,"#FFFFFF","#000000"),y.classList.add("display-none"),p.classList.add("display-flex"),l.value=a.getCode(),v.innerHTML=a.getCode(),(0,s.setPlayerData)(c,a.getCode()),M(t)}function M(t){var e,n,o=JSON.parse(t.toString());a.setPlayers(o.room.players),a.setHost(o.room.host),a.setMaxSize(o.room.maxSize),b.innerHTML="".concat(Object.keys(a.getPlayers()).length,"/").concat(a.getMaxSize()),m.innerHTML="",Object.values(a.getPlayers()).forEach((function(t){var e=document.createElement("li");e.textContent=t.username+"",t.username==a.getHost().username?e.insertAdjacentHTML("afterbegin",'<i class="fa-solid fa-crown" style="color: '.concat(t.color,';"></i>')):e.insertAdjacentHTML("afterbegin",'<i class="fa-solid fa-circle" style="color: '.concat(t.color,'; margin-left: 4px"></i>')),t.isReady?e.insertAdjacentHTML("beforeend",' <i class="fa-solid fa-circle" style="color: #37cb48;"></i>'):e.insertAdjacentHTML("beforeend",' <i class="fa-solid fa-circle" style="color: #cb3737;"></i>'),m.appendChild(e)})),c.username==a.getHost().username&&document.getElementById("startButton").classList.remove("display-none"),e=Object.values(a.getPlayers()).filter((function(t){return t.isReady})).length,0!=(n=a.getMaxSize())&&(C.style.width=Math.floor(e/n*100)+"%")}function _(){d.classList.add("red-button"),d.classList.add("wiggle"),setTimeout((function(){d.classList.remove("red-button"),d.classList.remove("wiggle")}),600)}function A(){x.style.backgroundColor=g.value}function O(){c.color=g.value,document.getElementById("color-label").style.color=E(g.value,"#FFFFFF","#000000"),(0,s.setPlayerData)(c,a.getCode())}function E(t,e,n){var o="#"===t.charAt(0)?t.substring(1,7):t,r=[parseInt(o.substring(0,2),16)/255,parseInt(o.substring(2,4),16)/255,parseInt(o.substring(4,6),16)/255].map((function(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]>.4?n:e}function j(t){switch(t.state){case 0:a.setGameState(0),y.classList.add("display-none"),p.classList.add("display-none"),p.classList.remove("display-flex"),f.classList.remove("display-none"),f.classList.add("display-flex"),(0,o.updateCanvasSize)();break;case 1:a.setGameState(1),y.classList.add("display-none"),p.classList.add("display-flex"),f.classList.add("display-none")}}window.onload=function(){w()},window.updateButton=w,window.handleRoomAction=P,window.handleReadyState=S,window.updateColorPicker=A,window.updatePlayerColor=O,window.startGame=function(){c.username==a.getHost().username&&(0,s.sendStartCommand)(a.getCode())}},"./src/ParticleSystem/Emitter.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var o=n("./src/ParticleSystem/Particle.ts"),r=n("./src/ParticleSystem/ParticleSystemUtils.ts"),i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};const s=function(){function t(t,e,n,o,r,i,s,a,c,l,u){void 0===r&&(r="circle"),void 0===a&&(a=!0),void 0===c&&(c=!0),void 0===u&&(u=0),this.aliveParticles=[],this.ticks=0,this.position=t,this.emitTime=e,this.size=n,this.speed=o,this.shape=r,this.color=i,this.canvasCtx=s,this.fadeColor=a,this.fadeSize=c,this.particleMaxAge=l,this.emitTimeMillis=u}return t.prototype.tick=function(t){this.emitTimeMillis+this.particleMaxAge<0||(this.emitTimeMillis-=t,this.ticks%this.emitTime==0&&this.emitTimeMillis>0&&(this.aliveParticles.push(new o.default(this.position.clone(),(0,r.getRandomDirection)(),this.size,this.speed,this.shape,i({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new o.default(this.position.clone(),(0,r.getRandomDirection)(),this.size,this.speed,this.shape,i({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new o.default(this.position.clone(),(0,r.getRandomDirection)(),this.size,this.speed,this.shape,i({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize))),this.aliveParticles.forEach((function(e){e.tick(t)})),this.aliveParticles=this.aliveParticles.filter((function(t){return t.age>0})),this.ticks++)},t.prototype.draw=function(){this.aliveParticles.forEach((function(t){t.draw()}))},t}()},"./src/ParticleSystem/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});const o=function(){function t(t,e,n,o,r,i,s,a,c,l){void 0===r&&(r="circle"),this.position=t,this.velocity=e,this.size=n,this.speed=o,this.shape=r,this.color=i,this.canvasCtx=s,this.fadeColor=c,this.fadeSize=l,this.age=a,this.colorFadeAmount=this.color.a/this.age,this.sizeFadeAmount=this.size/this.age}return t.prototype.tick=function(t){this.position.add(this.velocity.clone().multiplyByScalar(t*this.speed)),this.fadeColor&&(this.color.a-=this.colorFadeAmount),this.fadeSize&&(this.size-=this.sizeFadeAmount),this.age--},t.prototype.draw=function(){switch(this.canvasCtx.moveTo(this.position.x,this.position.y),this.canvasCtx.fillStyle="rgba(".concat(this.color.r,",").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.color.a,")"),this.canvasCtx.beginPath(),this.shape){case"circle":this.canvasCtx.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),this.canvasCtx.fill();break;case"square":this.canvasCtx.fillRect(this.position.x-this.size,this.position.y-this.size,2*this.size,2*this.size)}this.canvasCtx.closePath()},t}()},"./src/ParticleSystem/ParticleSystemUtils.ts":(t,e,n)=>{n.r(e),n.d(e,{getRandomDirection:()=>r,hexToRgb:()=>i});var o=n("./node_modules/vector2d/src/Vec2D.js");function r(){return new o.Vector(2*Math.random()-1,2*Math.random()-1)}function i(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},"./src/Segment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});const o=function(){}},"./src/Snake.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var o=n("./src/ParticleSystem/Emitter.ts"),r=n("./src/ParticleSystem/ParticleSystemUtils.ts"),i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};const s=function(){function t(t,e,n){this.segments=[],this.isAlive=!0,this.turnRadius=60,this.emitter=null,this.addSegment(t),this.color=e,this.canvasCtx=n}return t.prototype.addSegment=function(t){this.segments.push(t)},Object.defineProperty(t.prototype,"head",{get:function(){return this.segments.slice(-1).pop()},enumerable:!1,configurable:!0}),t.prototype.draw=function(){var t=this,e=this.canvasCtx.canvas.width/2e3,n=this.canvasCtx.canvas.height/2e3;this.canvasCtx.lineWidth=12*Math.min(e,n),this.segments.forEach((function(o,r){o.draw(t.canvasCtx,t.color),t.head==o&&(t.canvasCtx.beginPath(),t.canvasCtx.arc(o.endPoint.x*e,o.endPoint.y*n,.5*Math.min(e,n),0,2*Math.PI),t.canvasCtx.stroke(),t.canvasCtx.closePath())}))},t.prototype.kill=function(){console.log("SNAKE DEAD"),this.isAlive=!1,this.emitter=new o.default(this.head.endPoint,1,7,4,"circle",i(i({},(0,r.hexToRgb)(this.color)),{a:1}),this.canvasCtx,!0,!0,70,4)},t.prototype.updateEmitter=function(t){this.emitter&&(this.emitter.tick(t),this.emitter.draw())},t}()},"./src/ViewModels/Player.ts":(t,e,n)=>{n.r(e),n.d(e,{Player:()=>o});var o=function(){function t(t,e){void 0===e&&(e=!1),this.username=t,this.isReady=e,this.color="#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}))}return t.prototype.toJSON=function(){return{username:this.username,isReady:this.isReady,color:this.color}},t}()},"./src/ViewModels/Room.ts":(t,e,n)=>{n.r(e),n.d(e,{Room:()=>o});var o=function(){function t(t,e,n,o){void 0===o&&(o=5),this.players={},this.code=t,this.host=e,this.maxSize=o,null!=n?this.players=n:this.addPlayer(e)}return t.prototype.addPlayer=function(t){return!(Object.keys(this.players).length>=this.maxSize||(this.players[t.username]=t,0))},t.prototype.getCode=function(){return this.code},t.prototype.getPlayers=function(){return this.players},t.prototype.getHost=function(){return this.host},t.prototype.setHost=function(t){this.host=t},t.prototype.setPlayers=function(t){this.players=t},t.prototype.setMaxSize=function(t){this.maxSize=t},t.prototype.getMaxSize=function(){return this.maxSize},t.prototype.setGameState=function(t){this.gameState=t},t.prototype.getGameState=function(){return this.gameState},t}()},"./src/WebSocketClient/websocket.ts":(t,e,n)=>{n.r(e),n.d(e,{createRoom:()=>s,joinRoom:()=>a,sendKeyEventToServer:()=>l,sendStartCommand:()=>u,setPlayerData:()=>c});var o,r=n("./src/index.ts"),i=n("./src/MenuManager/login.ts");function s(t){o&&o.readyState===WebSocket.OPEN?o.send(JSON.stringify({type:"CREATE_ROOM",username:t})):console.error("WebSocket connection is not open")}function a(t,e){o&&o.readyState===WebSocket.OPEN?o.send(JSON.stringify({type:"JOIN_ROOM",roomCode:t,username:e})):console.error("WebSocket connection is not open")}function c(t,e){o&&o.readyState===WebSocket.OPEN?o.send(JSON.stringify({type:"PLAYER_DATA",player:t,roomCode:e})):console.error("WebSocket connection is not open")}function l(t,e){o&&o.readyState===WebSocket.OPEN?o.send(JSON.stringify({type:"KEY_EVENT",roomCode:i.currentRoom.getCode(),username:i.currentPlayer.username,key:t,pressed:e})):console.error("WebSocket connection is not open")}function u(t){o&&o.readyState===WebSocket.OPEN?o.send(JSON.stringify({type:"BEGIN_GAME",roomCode:t})):console.error("WebSocket connection is not open")}(o=new WebSocket("ws://".concat(window.location.hostname,":8080"))).onopen=function(){console.log("WebSocket connection established")},o.onmessage=function(t){var e=JSON.parse(t.data);switch(e.type){case"JOINED_ROOM":(0,i.showRoomView)(t.data);break;case"ROOM_DOES_NOT_EXIST":(0,i.showErrorAnimation)();break;case"ROOM_DATA":(0,i.updateRoomList)(t.data);break;case"GAME_STATE":(0,i.switchGameView)(e);break;case"GAMEPLAY_DATA":(0,r.updateGameState)(e);break;case"ERROR":alert("Error: ".concat(e.message))}},o.onclose=function(){console.log("WebSocket connection closed")},o.onerror=function(t){console.error("WebSocket error:",t)}},"./src/index.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>p,backgroundCanvasCtx:()=>f,fps:()=>d,gameCanvas:()=>h,gameCanvasCtx:()=>y,gridSize:()=>g,updateCanvasSize:()=>m,updateGameState:()=>C});var o=n("./node_modules/vector2d/src/Vec2D.js"),r=n("./src/ArcSegment.ts"),i=n("./src/Drawer.ts"),s=n("./src/InputManager.ts"),a=n("./src/LineSegment.ts"),c=n("./src/Snake.ts"),l=n("./src/MenuManager/login.ts"),u=document.createElement("div");u.style.position="absolute",u.style.top="10px",u.style.left="10px",u.style.color="black",document.body.appendChild(u);var d=60,h=document.getElementById("game-canvas"),y=h.getContext("2d"),p=document.getElementById("background-canvas"),f=p.getContext("2d");p.width=p.getBoundingClientRect().width,p.height=p.getBoundingClientRect().height,h.width=h.getBoundingClientRect().width,h.height=h.getBoundingClientRect().height;var g=60;function m(){h.width=h.getBoundingClientRect().width,h.height=h.getBoundingClientRect().height,p.width=p.getBoundingClientRect().width,p.height=p.getBoundingClientRect().height,(0,i.drawGrid)()}var v=0,b=performance.now()/10;window.addEventListener("resize",m),(0,i.drawGrid)();var x=!1;function C(t){x?t.snakeHeads.forEach((function(t){var e=t.lastSegment,n=t.username,i=e.endPoint,s=l.currentRoom.getPlayers()[n].snake;if(e.isNewThisTick){if("LineSegment"==t.segmentType){var c=e.startPoint;s.addSegment(new a.default(new o.Vector(c.x,c.y),new o.Vector(i.x,i.y),e.isCollidable,e.endAngle))}else if("ArcSegment"==t.segmentType){var u=e.center;s.addSegment(new r.default(new o.Vector(u.x,u.y),e.radius,e.startAngle,e.endAngle,e.counterClockwise,e.isCollidable))}}else"LineSegment"==t.segmentType?(c=e.startPoint,s.segments[s.segments.length-1]=new a.default(new o.Vector(c.x,c.y),new o.Vector(i.x,i.y),e.isCollidable,e.endAngle)):"ArcSegment"==t.segmentType&&(u=e.center,s.segments[s.segments.length-1]=new r.default(new o.Vector(u.x,u.y),e.radius,e.startAngle,e.endAngle,e.counterClockwise,e.isCollidable))})):(t.snakeHeads.forEach((function(t){var e=t.lastSegment,n=t.username,r=e.endPoint;l.currentRoom.getPlayers()[n].snake=new c.default(new a.default(new o.Vector(r.x,r.y),new o.Vector(r.x,r.y),e.isCollidable,e.endAngle),l.currentRoom.getPlayers()[n].color,y)})),new s.default(l.currentRoom.getPlayers()[l.currentPlayer.username].snake,"A","D"),x=!0),++v%10==0&&(d=function(){var t=performance.now()/10,e=t-b,n=Math.round(1e3/e);return b=t,n}(),u.innerText="FPS: ".concat(d)),y.clearRect(0,0,h.width,h.height),Object.values(l.currentRoom.getPlayers()).forEach((function(t){t.snake.draw(),t.snake.updateEmitter((performance.now()/10-b)/10)}))}},"./node_modules/vector2d/src/AbstractVector.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],o=function(){function t(t){this.ctor=t}return t.prototype.setAxes=function(t,e){return this.x=t,this.y=e,this},t.prototype.getX=function(){return this.x},t.prototype.setX=function(t){return this.x=t,this},t.prototype.getY=function(){return this.y},t.prototype.setY=function(t){return this.y=t,this},t.prototype.toString=function(t){return void 0===t&&(t=!1),t?"("+Math.round(this.x)+", "+Math.round(this.y)+")":"("+this.x+", "+this.y+")"},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.multiplyByVector=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.mulV=function(t){return this.multiplyByVector(t)},t.prototype.divideByVector=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divV=function(t){return this.divideByVector(t)},t.prototype.multiplyByScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.mulS=function(t){return this.multiplyByScalar(t)},t.prototype.divideByScalar=function(t){return this.x/=t,this.y/=t,this},t.prototype.divS=function(t){return this.divideByScalar(t)},t.prototype.normalise=function(){return this.divideByScalar(this.magnitude())},t.prototype.normalize=function(){return this.normalise()},t.prototype.unit=function(){return this.normalise()},t.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.length=function(){return this.magnitude()},t.prototype.lengthSq=function(){var t=this.x,e=this.y;return t*t+e*e},t.prototype.dot=function(t){return t.x*this.x+t.y*this.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t.prototype.zero=function(){return this.x=this.y=0,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),o=this.x,r=this.y;return this.x=o*e-r*n,this.y=o*n+r*e,this},t.prototype.round=function(t){void 0===t&&(t=2);var e=n[t];return this.x=(.5+this.x*e<<0)/e,this.y=(.5+this.y*e<<0)/e,this},t.prototype.clone=function(){return new this.ctor(this.x,this.y)},t}();e.AbstractVector=o},"./node_modules/vector2d/src/ArrayVector.js":function(t,e,n){var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(n,o){var r=t.call(this,e)||this;return r.axes=[n,o],r.ctor=e,r}return r(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.ArrayVector=i},"./node_modules/vector2d/src/Float32Vector.js":function(t,e,n){var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(n,o){var r=t.call(this,e)||this;return r.axes=new Float32Array(2),r.axes[0]=n,r.axes[1]=o,r}return r(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Float32Vector=i},"./node_modules/vector2d/src/Vec2D.js":(t,e,n)=>{function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n("./node_modules/vector2d/src/AbstractVector.js")),o(n("./node_modules/vector2d/src/ArrayVector.js")),o(n("./node_modules/vector2d/src/Float32Vector.js")),o(n("./node_modules/vector2d/src/Vector.js"))},"./node_modules/vector2d/src/Vector.js":function(t,e,n){var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(n,o){var r=t.call(this,e)||this;return r._x=n,r._y=o,r}return r(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Vector=i}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/MenuManager/login.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEksZUFBZUMsRUFBUzRFLE9BQU9DLFlBQWEsQ0FBRTdQLE1BQU8sV0FFN0RtQyxPQUFPNEksZUFBZUMsRUFBUyxhQUFjLENBQUVoTCxPQUFPLEdBQU8sRUNGcENpUCxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvQXJjU2VnbWVudC50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0RyYXdlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0lucHV0TWFuYWdlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0xpbmVTZWdtZW50LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvTWVudU1hbmFnZXIvbG9naW4udHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9QYXJ0aWNsZVN5c3RlbS9FbWl0dGVyLnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvUGFydGljbGVTeXN0ZW0vUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9QYXJ0aWNsZVN5c3RlbS9QYXJ0aWNsZVN5c3RlbVV0aWxzLnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvU2VnbWVudC50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL1NuYWtlLnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvVmlld01vZGVscy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9WaWV3TW9kZWxzL1Jvb20udHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9XZWJTb2NrZXRDbGllbnQvd2Vic29ja2V0LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL25vZGVfbW9kdWxlcy92ZWN0b3IyZC9zcmMvQWJzdHJhY3RWZWN0b3IuanMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL25vZGVfbW9kdWxlcy92ZWN0b3IyZC9zcmMvQXJyYXlWZWN0b3IuanMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL25vZGVfbW9kdWxlcy92ZWN0b3IyZC9zcmMvRmxvYXQzMlZlY3Rvci5qcyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vbm9kZV9tb2R1bGVzL3ZlY3RvcjJkL3NyYy9WZWMyRC5qcyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vbm9kZV9tb2R1bGVzL3ZlY3RvcjJkL3NyYy9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHJhd0FyYywgZHJhd0Fycm93LCBkcmF3RG90IH0gZnJvbSBcIi4vRHJhd2VyXCI7XHJcbmltcG9ydCAqIGFzIFZlYzJEIGZyb20gJ3ZlY3RvcjJkJztcclxuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vU2VnbWVudFwiO1xyXG5pbXBvcnQgeyBnYW1lQ2FudmFzQ3R4IH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyY1NlZ21lbnQgZXh0ZW5kcyBTZWdtZW50IHtcclxuXHJcblxyXG4gICAgcHVibGljIGNlbnRlcjogVmVjMkQuVmVjdG9yO1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyO1xyXG4gICAgcHVibGljIHN0YXJ0QW5nbGU6IG51bWJlcjtcclxuICAgIHB1YmxpYyBlbmRBbmdsZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjb3VudGVyQ2xvY2t3aXNlOiBib29sZWFuO1xyXG4gICAgcHVibGljIGlzQ29sbGlkYWJsZTogYm9vbGVhbjtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoY2VudGVyOiBWZWMyRC5WZWN0b3IsIHJhZGl1czogbnVtYmVyLCBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIsIGNvdW50ZXJDbG9ja3dpc2U6IGJvb2xlYW4sIGlzQ29sbGlkYWJsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XHJcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICAgICAgdGhpcy5zdGFydEFuZ2xlID0gc3RhcnRBbmdsZTtcclxuICAgICAgICB0aGlzLmVuZEFuZ2xlID0gZW5kQW5nbGU7XHJcbiAgICAgICAgdGhpcy5jb3VudGVyQ2xvY2t3aXNlID0gY291bnRlckNsb2Nrd2lzZTtcclxuICAgICAgICB0aGlzLmlzQ29sbGlkYWJsZSA9IGlzQ29sbGlkYWJsZTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBzY2FsZVggPSBjb250ZXh0LmNhbnZhcy53aWR0aCAvIDIwMDA7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gY29udGV4dC5jYW52YXMuaGVpZ2h0IC8gMjAwMDtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gXCJyb3VuZFwiO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBpZiAodGhpcy5pc0NvbGxpZGFibGUgPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHRoaXMuY2VudGVyLnggKiBzY2FsZVgsIHRoaXMuY2VudGVyLnkgKiBzY2FsZVksIHRoaXMucmFkaXVzICogTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuZW5kQW5nbGUsIHRoaXMuY291bnRlckNsb2Nrd2lzZSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdEZWJ1Zyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyNmZjAwZmZmZidcclxuICAgICAgICBsZXQgdGFuZ2VudF9hbmdsZSA9IHRoaXMuY291bnRlckNsb2Nrd2lzZSA/LSBNYXRoLlBJICA6IE1hdGguUEk7XHJcblxyXG4gICAgICAgIHRhbmdlbnRfYW5nbGUgKz0gdGhpcy5lbmRBbmdsZTtcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICAgICAgZHJhd0RvdCh0aGlzLmNlbnRlci54LCB0aGlzLmNlbnRlci55LCA1LCAnIzAwMDAwMCcpO1xyXG4gICAgICAgIGRyYXdBcnJvdyhjb250ZXh0LG5ldyBWZWMyRC5WZWN0b3IodGhpcy5lbmRQb2ludC54LHRoaXMuZW5kUG9pbnQueSksIG5ldyBWZWMyRC5WZWN0b3IodGhpcy5lbmRQb2ludC54ICsgdGhpcy5yYWRpdXMgKiBNYXRoLmNvcyh0YW5nZW50X2FuZ2xlKSx0aGlzLmVuZFBvaW50LnkgKyB0aGlzLnJhZGl1cyAqIE1hdGguc2luKHRhbmdlbnRfYW5nbGUpKSk7XHJcbiAgICAgICAgZHJhd0FyYyh0aGlzLmNlbnRlci54LCB0aGlzLmNlbnRlci55LCB0aGlzLnJhZGl1cywgMCwgMCwgZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5kUG9pbnQoKTogVmVjMkQuVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlYzJELlZlY3RvcihcclxuICAgICAgICB0aGlzLmNlbnRlci54ICsgdGhpcy5yYWRpdXMgKiBNYXRoLmNvcyh0aGlzLmVuZEFuZ2xlKSxcclxuICAgICAgICB0aGlzLmNlbnRlci55ICsgdGhpcy5yYWRpdXMgKiBNYXRoLnNpbih0aGlzLmVuZEFuZ2xlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBlbnBlbmRpY3VsYXJFbmRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQ291bnRlckNsb2Nrd2lzZT8gdGhpcy5lbmRBbmdsZSAtIE1hdGguUEkgLzIgOiB0aGlzLmVuZEFuZ2xlICsgTWF0aC5QSSAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBlbnBlbmRpY3VsYXJTdGFydEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb3VudGVyQ2xvY2t3aXNlPyB0aGlzLnN0YXJ0QW5nbGUtIE1hdGguUEkgLzIgOiB0aGlzLnN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICBpc0NvdW50ZXJDbG9ja3dpc2UoKTogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGhpcy5jb3VudGVyQ2xvY2t3aXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRpbnVpbmdTZWdtZW50KHRyYW5zZm9ybTogVmVjMkQuVmVjdG9yKTogU2VnbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcmNTZWdtZW50KHRoaXMuY2VudGVyLmNsb25lKCkuYWRkKHRyYW5zZm9ybSkgYXMgVmVjMkQuVmVjdG9yLCB0aGlzLnJhZGl1cywgdGhpcy5lbmRBbmdsZSwgdGhpcy5lbmRBbmdsZSwgdGhpcy5jb3VudGVyQ2xvY2t3aXNlLCB0aGlzLmlzQ29sbGlkYWJsZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcbmltcG9ydCB7IGJhY2tncm91bmRDYW52YXMsIGJhY2tncm91bmRDYW52YXNDdHgsIGdyaWRTaXplIH0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdHcmlkKCkge1xuXG4gICAgY29uc3Qgc2NhbGVYID0gYmFja2dyb3VuZENhbnZhc0N0eC5jYW52YXMud2lkdGggLyAyMDAwO1xuICAgIGNvbnN0IHNjYWxlWSA9IGJhY2tncm91bmRDYW52YXNDdHguY2FudmFzLmhlaWdodCAvIDIwMDA7XG5cblxuICAgIGJhY2tncm91bmRDYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGJhY2tncm91bmRDYW52YXMud2lkdGgsIGJhY2tncm91bmRDYW52YXMuaGVpZ2h0KTtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4zKSc7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSAyO1xuICAgIGZvciAodmFyIHggPSBncmlkU2l6ZTsgeCA8IGJhY2tncm91bmRDYW52YXMud2lkdGg7IHggKz0gZ3JpZFNpemUgKiBzY2FsZVgpIHtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5tb3ZlVG8oeCAsIDApO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyh4ICwgYmFja2dyb3VuZENhbnZhcy5oZWlnaHQpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBmb3IgKHZhciB5ID0gZ3JpZFNpemU7IHkgPCBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodDsgeSArPSBncmlkU2l6ZSAqIHNjYWxlWSkge1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4Lm1vdmVUbygwLCB5KTtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lVG8oYmFja2dyb3VuZENhbnZhcy53aWR0aCwgeSk7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdChkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgZG90U2l6ZTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmFyYyhcbiAgICAgICAgZG90WCxcbiAgICAgICAgZG90WSxcbiAgICAgICAgZG90U2l6ZSxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGJhY2tncm91bmRDYW52YXNDdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5maWxsKCk7XG5cbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0FyYyhkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlciwgY291bnRlckNsb2Nrd2lzZTogYm9vbGVhbikge1xuICAgIGJhY2tncm91bmRDYW52YXNDdHgubGluZUNhcCA9IFwicm91bmRcIjtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZVN0eWxlID0gXCIjMzQ2NmFhXCI7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmFyYyhkb3RYLCBkb3RZLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBjb3VudGVyQ2xvY2t3aXNlKTtcblxuICAgIGJhY2tncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gNTtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xuXG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5jbG9zZVBhdGgoKTtcbn1cblxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdBcnJvdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZnJvbTogVmVjdG9yLCB0bzogVmVjdG9yKSB7XG4gICAgaWYgKGZyb20ueCAhPSB0by54ICYmIGZyb20ueSAhPSB0by55KSB7XG4gICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodG8ueSAtIGZyb20ueSwgdG8ueCAtIGZyb20ueCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gMTA7XG4gICAgICAgIHZhciBoZWFkTGVuZ3RoID0gMTA7XG4gICAgICAgIHZhciBuZXdfdG8gPSBuZXcgVmVjdG9yKHRvLngsIHRvLnkpO1xuICAgICAgICAvLyBUaGlzIG1ha2VzIGl0IHNvIHRoZSBlbmQgb2YgdGhlIGFycm93IGhlYWQgaXMgbG9jYXRlZCBhdCB0b3gsIHRveSwgZG9uJ3QgYXNrIHdoZXJlIDEuMTUgY29tZXMgZnJvbVxuICAgICAgICBuZXdfdG8ueCAtPSBNYXRoLmNvcyhhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xuICAgICAgICBuZXdfdG8ueSAtPSBNYXRoLnNpbihhbmdsZSkgKiAoKHdpZHRoICogMS4xNSkpO1xuXG5cblxuICAgICAgICAvL3N0YXJ0aW5nIHBhdGggb2YgdGhlIGFycm93IGZyb20gdGhlIHN0YXJ0IHNxdWFyZSB0byB0aGUgZW5kIHNxdWFyZSBhbmQgZHJhd2luZyB0aGUgc3Ryb2tlXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICAgIGN0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjYmJiYmJiXCI7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIC8vc3RhcnRpbmcgYSBuZXcgcGF0aCBmcm9tIHRoZSBoZWFkIG9mIHRoZSBhcnJvdyB0byBvbmUgb2YgdGhlIHNpZGVzIG9mIHRoZSBwb2ludFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8obmV3X3RvLngsIG5ld190by55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRMZW5ndGggKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkTGVuZ3RoICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xuXG4gICAgICAgIC8vcGF0aCBmcm9tIHRoZSBzaWRlIHBvaW50IG9mIHRoZSBhcnJvdywgdG8gdGhlIG90aGVyIHNpZGUgcG9pbnRcbiAgICAgICAgY3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRMZW5ndGggKiBNYXRoLmNvcyhhbmdsZSArIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkTGVuZ3RoICogTWF0aC5zaW4oYW5nbGUgKyBNYXRoLlBJIC8gNykpO1xuXG4gICAgICAgIC8vcGF0aCBmcm9tIHRoZSBzaWRlIHBvaW50IGJhY2sgdG8gdGhlIHRpcCBvZiB0aGUgYXJyb3csIGFuZCB0aGVuIGFnYWluIHRvIHRoZSBvcHBvc2l0ZSBzaWRlIHBvaW50XG4gICAgICAgIGN0eC5saW5lVG8obmV3X3RvLngsIG5ld190by55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhuZXdfdG8ueCAtIGhlYWRMZW5ndGggKiBNYXRoLmNvcyhhbmdsZSAtIE1hdGguUEkgLyA3KSwgbmV3X3RvLnkgLSBoZWFkTGVuZ3RoICogTWF0aC5zaW4oYW5nbGUgLSBNYXRoLlBJIC8gNykpO1xuXG4gICAgICAgIC8vZHJhd3MgdGhlIHBhdGhzIGNyZWF0ZWQgYWJvdmVcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjYmJiYmJiXCI7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjYmJiYmJiXCI7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG59IiwiaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XHJcbmltcG9ydCB7IHNlbmRLZXlFdmVudFRvU2VydmVyIH0gZnJvbSBcIi4vV2ViU29ja2V0Q2xpZW50L3dlYnNvY2tldFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gRGlye1xyXG4gIExFRlQsXHJcbiAgUklHSFRcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gIHByaXZhdGUga2V5TWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gIHByaXZhdGUgc25ha2U6IFNuYWtlO1xyXG4gIHByaXZhdGUgbGVmdEtleTogc3RyaW5nO1xyXG4gIHByaXZhdGUgcmlnaHRLZXk6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3Ioc25ha2U6IFNuYWtlLCBsZWZ0S2V5OiBzdHJpbmcsIHJpZ2h0S2V5OiBzdHJpbmcpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnNuYWtlID0gc25ha2U7XHJcbiAgICB0aGlzLmxlZnRLZXkgPSBsZWZ0S2V5O1xyXG4gICAgdGhpcy5yaWdodEtleSA9IHJpZ2h0S2V5O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIC8vaWYgc25ha2UgaXMgZGVhZCwgaWdub3JlIHRoZSBrZXkgcHJlc3Nlc1xyXG4gICAgaWYoIXRoaXMuc25ha2UuaXNBbGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgXHJcblxyXG4gICAgLy9pZ25vcmUga2V5cyBub3QgYXNzaWduZWQgdG8gc2VsZiwgdGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlIGtleW1hcCBoYXZpbmcgdW5uZWNlc3Nhcnkga2V5cyBhbmQgdHJpZ2dlcmluZyB0aGUgb25rZXlVcCBldmVudHNcclxuICAgIGlmKGtleSAhPSB0aGlzLmxlZnRLZXkgJiYga2V5ICE9IHRoaXMucmlnaHRLZXkpe1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy9zd2l0Y2ggb2ZmIHRoZSBjdXJyZW50IGRvd24ga2V5IGlmIHRoZSBvdGhlciBkaXJlY3Rpb24gaXMgcHJlc3NlZFxyXG4gICAgaWYgKHRoaXMua2V5TWFwW3RoaXMucmlnaHRLZXldICYmIGtleSA9PSB0aGlzLmxlZnRLZXkpIHtcclxuICAgICAgdGhpcy5rZXlNYXBbdGhpcy5yaWdodEtleV0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMua2V5TWFwW3RoaXMubGVmdEtleV0gJiYga2V5ID09IHRoaXMucmlnaHRLZXkpIHtcclxuICAgICAgdGhpcy5rZXlNYXBbdGhpcy5sZWZ0S2V5XSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy9yZXR1cm4gaWYgdGhlIGtleSBpcyBhbHJhZWR5IGluIHRoZSBtYXAsIHByZXZlbnRzIGF1dG9jbGlja2luZ1xyXG4gICAgZWxzZSBpZiAodGhpcy5rZXlNYXBba2V5XSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIHRoaXMua2V5TWFwW2tleV0gPSB0cnVlO1xyXG5cclxuICAgIHNlbmRLZXlFdmVudFRvU2VydmVyKGtleSA9PSB0aGlzLnJpZ2h0S2V5ID8gRGlyLlJJR0hUIDogRGlyLkxFRlQsIHRydWUpO1xyXG4gIH1cclxuICBwcml2YXRlIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIC8vaWYgc25ha2UgaXMgZGVhZCwgaWdub3JlIHRoZSBrZXkgcHJlc3Nlc1xyXG4gICAgaWYoIXRoaXMuc25ha2UuaXNBbGl2ZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXkudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAvL2NoZWNrIGlmIHRoZSBrZXkgaXMgaW4gdGhlIGtleW1hcCwgaWYgbm90IGp1c3QgaWdub3JlIGl0XHJcbiAgICBpZiAoIXRoaXMua2V5TWFwW2tleV0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5rZXlNYXBba2V5XSA9IGZhbHNlO1xyXG5cclxuICAgIHNlbmRLZXlFdmVudFRvU2VydmVyKGtleSA9PSB0aGlzLnJpZ2h0S2V5ID8gRGlyLlJJR0hUIDogRGlyLkxFRlQsIGZhbHNlKTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vU2VnbWVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZVNlZ21lbnQgZXh0ZW5kcyBTZWdtZW50IHtcclxuXHJcblxyXG4gICAgcHVibGljIHN0YXJ0UG9pbnQ6IFZlY3RvcjtcclxuICAgIHB1YmxpYyBlbmRQb2ludDogVmVjdG9yO1xyXG4gICAgcHVibGljIGVuZEFuZ2xlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaXNDb2xsaWRhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydDogVmVjdG9yLCBlbmQ6IFZlY3RvciwgaXNDb2xsaWRhYmxlOiBib29sZWFuLCBhbmdsZT86IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IGVuZDtcclxuICAgICAgICB0aGlzLmlzQ29sbGlkYWJsZSA9IGlzQ29sbGlkYWJsZTtcclxuICAgICAgICB0aGlzLmVuZEFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IGNvbnRleHQuY2FudmFzLndpZHRoIC8gMjAwMDtcclxuICAgICAgICBjb25zdCBzY2FsZVkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQgLyAyMDAwO1xyXG4gICAgICAgIC8vIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2ZmMDBmZmZmJ1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsaWRhYmxlID09IHRydWUpe1xyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh0aGlzLnN0YXJ0UG9pbnQueCAqIHNjYWxlWCwgdGhpcy5zdGFydFBvaW50LnkgKiBzY2FsZVkpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLmVuZFBvaW50LnggKiBzY2FsZVgsIHRoaXMuZW5kUG9pbnQueSAqIHNjYWxlWSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjYWxjRW5kQW5nbGUoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4oKHRoaXMuZW5kUG9pbnQueSAtIHRoaXMuc3RhcnRQb2ludC55KSAvICh0aGlzLmVuZFBvaW50LnggLSB0aGlzLnN0YXJ0UG9pbnQueCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHRoaXMuc3RhcnRQb2ludC54IC0gdGhpcy5lbmRQb2ludC54KSoqMiArICh0aGlzLnN0YXJ0UG9pbnQueSAtIHRoaXMuZW5kUG9pbnQueSkqKjIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRpbnVpbmdTZWdtZW50KHRyYW5zZm9ybTogVmVjdG9yKTogU2VnbWVudCB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRFbmRwb2ludCA9IHRoaXMuZW5kUG9pbnQuY2xvbmUoKS5hZGQodHJhbnNmb3JtKSBhcyBWZWN0b3I7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lU2VnbWVudChcclxuICAgICAgICAgICAgdHJhbnNmb3JtZWRFbmRwb2ludCwgXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkRW5kcG9pbnQsIFxyXG4gICAgICAgICAgICB0aGlzLmlzQ29sbGlkYWJsZSwgXHJcbiAgICAgICAgICAgIHRoaXMuZW5kQW5nbGVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IHVwZGF0ZUNhbnZhc1NpemUgfSBmcm9tIFwiLi5cIjtcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL1ZpZXdNb2RlbHMvUGxheWVyXCI7XHJcbmltcG9ydCB7IEdhbWVTdGF0ZSwgUm9vbSB9IGZyb20gXCIuLi9WaWV3TW9kZWxzL1Jvb21cIjtcclxuaW1wb3J0IHsgR2FtZVN0YXRlRGF0YSB9IGZyb20gXCIuLi9XZWJTb2NrZXRDbGllbnQvbWVzc2FnZVR5cGVzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVJvb20sIGpvaW5Sb29tLCBzZW5kU3RhcnRDb21tYW5kLCBzZXRQbGF5ZXJEYXRhIH0gZnJvbSBcIi4uL1dlYlNvY2tldENsaWVudC93ZWJzb2NrZXRcIjtcclxuXHJcblxyXG5leHBvcnQgbGV0IGN1cnJlbnRSb29tOiBSb29tIHwgbnVsbCA9IG51bGw7XHJcbmV4cG9ydCBsZXQgY3VycmVudFBsYXllcjogUGxheWVyIHwgbnVsbCA9IG51bGw7XHJcblxyXG5jb25zdCByb29tQ29kZUlucHV0ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb29tQ29kZUlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCk7XHJcbmNvbnN0IHVzZXJuYW1lSW5wdXQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lSW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KTtcclxuY29uc3Qgcm9vbUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2luQnV0dG9uJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IHJlYWR5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlYWR5QnV0dG9uJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IGxvZ2luRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWRpdicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCByb29tRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20tZGl2JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IGdhbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMtY29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbmNvbnN0IGNvbG9yUGlja2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLXBpY2tlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbmNvbnN0IHJvb21Vc2Vyc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vbS11c2Vycy1saXN0JykgYXMgSFRNTFVMaXN0RWxlbWVudDtcclxuY29uc3Qgcm9vbUNvZGVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20tY29kZScpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG5jb25zdCBwbGF5ZXJDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXItY291bnQnKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuY29uc3QgY29sb3JQaWNrZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sb3ItcGlja2VyLWNvbnRhaW5lcicpO1xyXG5jb25zdCBzdGFydFByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXByb2dyZXNzLWJhcicpO1xyXG4vLyBzcmMvbG9naW4udHNcclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUJ1dHRvbigpIHtcclxuXHJcblxyXG4gICAgaWYgKHVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpID09ICcnKSB7XHJcbiAgICAgICAgcm9vbUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb21CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocm9vbUNvZGVJbnB1dC52YWx1ZS50cmltKCkubGVuZ3RoID09IDUpIHtcclxuICAgICAgICByb29tQnV0dG9uLnRleHRDb250ZW50ID0gJ0pPSU4gUk9PTSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJvb21CdXR0b24udGV4dENvbnRlbnQgPSAnQ1JFQVRFIFJPT00nO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUm9vbUFjdGlvbigpIHtcclxuICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlcm5hbWVJbnB1dC52YWx1ZTtcclxuICAgIGlmICghdXNlcm5hbWUpIHJldHVybjtcclxuXHJcbiAgICBjdXJyZW50UGxheWVyID0gbmV3IFBsYXllcih1c2VybmFtZSk7XHJcblxyXG4gICAgaWYgKHJvb21CdXR0b24uaW5uZXJUZXh0ID09PSAnQ1JFQVRFIFJPT00nKSB7XHJcbiAgICAgICAgY3JlYXRlUm9vbSh1c2VybmFtZUlucHV0LnZhbHVlKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGpvaW5Sb29tKHJvb21Db2RlSW5wdXQudmFsdWUudG9VcHBlckNhc2UoKSwgdXNlcm5hbWVJbnB1dC52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZWFkeVN0YXRlKCkge1xyXG5cclxuICAgIGN1cnJlbnRQbGF5ZXIuaXNSZWFkeSA9ICFjdXJyZW50UGxheWVyLmlzUmVhZHk7XHJcbiAgICBzZXRQbGF5ZXJEYXRhKGN1cnJlbnRQbGF5ZXIsIGN1cnJlbnRSb29tLmdldENvZGUoKSk7XHJcbiAgICB1cGRhdGVSZWFkeUJ1dHRvbihjdXJyZW50UGxheWVyLmlzUmVhZHkpO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVhZHlCdXR0b24oaXNSZWFkeTogYm9vbGVhbikge1xyXG4gICAgaWYgKGlzUmVhZHkpIHtcclxuICAgICAgICByZWFkeUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdyZWQtYnV0dG9uJyk7XHJcbiAgICAgICAgcmVhZHlCdXR0b24uY2xhc3NMaXN0LmFkZCgnZ3JlZW4tYnV0dG9uJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZWFkeUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZWQtYnV0dG9uJyk7XHJcbiAgICAgICAgcmVhZHlCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZ3JlZW4tYnV0dG9uJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93Um9vbVZpZXcoZGF0YTogSlNPTikge1xyXG4gICAgLy9zZXQgdGhlIGNsaWVudCBWaWV3TW9kZWwgb2YgdGhlIHJvb20gdG8gdGhlIHNlcnZlcnMgcmVzcG9uc2VcclxuICAgIGxldCByb29tSW5mbyA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcclxuICAgIGN1cnJlbnRSb29tID0gbmV3IFJvb20ocm9vbUluZm9bJ3Jvb20nXVsnY29kZSddLCByb29tSW5mb1sncm9vbSddWydob3N0J10sIHJvb21JbmZvWydyb29tJ11bJ3BsYXllcnMnXSwgcm9vbUluZm9bJ3Jvb20nXVsnbWF4U2l6ZSddKVxyXG5cclxuICAgIC8vc2hvdyBzdGFydEdhbWVCdXR0b24gXHJcbiAgICBpZiAoY3VycmVudFBsYXllci51c2VybmFtZSA9PSBjdXJyZW50Um9vbS5nZXRIb3N0KCkudXNlcm5hbWUpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNwbGF5LW5vbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3NldCBhIHJhbmRvbSBjb2xvciBmb3IgYSBwbGF5ZXJcclxuICAgIGNvbG9yUGlja2VyRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1cnJlbnRQbGF5ZXIuY29sb3I7XHJcbiAgICBjb2xvclBpY2tlci52YWx1ZSA9IGN1cnJlbnRQbGF5ZXIuY29sb3I7XHJcbiAgICBsZXQgY29sb3JQaWNrZXJMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvci1sYWJlbCcpO1xyXG4gICAgY29sb3JQaWNrZXJMYWJlbC5zdHlsZS5jb2xvciA9IHBpY2tUZXh0Q29sb3JCYXNlZE9uQmdDb2xvckFkdmFuY2VkKGNvbG9yUGlja2VyLnZhbHVlLCAnI0ZGRkZGRicsICcjMDAwMDAwJyk7XHJcblxyXG4gICAgLy9zaG93IHRoZSBuZXcgZWxlbWVudFxyXG4gICAgbG9naW5EaXYuY2xhc3NMaXN0LmFkZCgnZGlzcGxheS1ub25lJyk7XHJcbiAgICByb29tRGl2LmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktZmxleCcpO1xyXG5cclxuXHJcblxyXG4gICAgcm9vbUNvZGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRSb29tLmdldENvZGUoKTtcclxuICAgIHJvb21Db2RlU3Bhbi5pbm5lckhUTUwgPSBjdXJyZW50Um9vbS5nZXRDb2RlKCk7XHJcbiAgICBzZXRQbGF5ZXJEYXRhKGN1cnJlbnRQbGF5ZXIsIGN1cnJlbnRSb29tLmdldENvZGUoKSk7XHJcbiAgICB1cGRhdGVSb29tTGlzdChkYXRhKTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSb29tTGlzdChkYXRhOiBKU09OKSB7XHJcbiAgICBsZXQgcm9vbUluZm8gPSBKU09OLnBhcnNlKGRhdGEudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgLy8gdXBkYXRpbmcgdGhlIGN1cnJlbnQgcm9vbSBwbGF5ZXJzIGFuZCBob3N0XHJcbiAgICBjdXJyZW50Um9vbS5zZXRQbGF5ZXJzKHJvb21JbmZvWydyb29tJ11bJ3BsYXllcnMnXSk7XHJcbiAgICBjdXJyZW50Um9vbS5zZXRIb3N0KHJvb21JbmZvWydyb29tJ11bJ2hvc3QnXSk7XHJcbiAgICBjdXJyZW50Um9vbS5zZXRNYXhTaXplKHJvb21JbmZvWydyb29tJ11bJ21heFNpemUnXSlcclxuXHJcblxyXG4gICAgcGxheWVyQ291bnQuaW5uZXJIVE1MID0gYCR7T2JqZWN0LmtleXMoY3VycmVudFJvb20uZ2V0UGxheWVycygpKS5sZW5ndGh9LyR7Y3VycmVudFJvb20uZ2V0TWF4U2l6ZSgpfWA7XHJcbiAgICByb29tVXNlcnNMaXN0LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIE9iamVjdC52YWx1ZXMoY3VycmVudFJvb20uZ2V0UGxheWVycygpKS5mb3JFYWNoKChwbGF5ZXI6IHsgdXNlcm5hbWU6IHN0cmluZyB8IG51bWJlcjsgaXNSZWFkeTogYm9vbGVhbjsgY29sb3I6IHN0cmluZzsgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBsYXllckl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cclxuICAgICAgICBwbGF5ZXJJdGVtLnRleHRDb250ZW50ID0gcGxheWVyLnVzZXJuYW1lICsgJyc7XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIudXNlcm5hbWUgPT0gY3VycmVudFJvb20uZ2V0SG9zdCgpLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIHBsYXllckl0ZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY3Jvd25cIiBzdHlsZT1cImNvbG9yOiAke3BsYXllci5jb2xvcn07XCI+PC9pPmApXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYXllckl0ZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2lyY2xlXCIgc3R5bGU9XCJjb2xvcjogJHtwbGF5ZXIuY29sb3J9OyBtYXJnaW4tbGVmdDogNHB4XCI+PC9pPmApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGxheWVyLmlzUmVhZHkpIHtcclxuICAgICAgICAgICAgcGxheWVySXRlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICcgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jaXJjbGVcIiBzdHlsZT1cImNvbG9yOiAjMzdjYjQ4O1wiPjwvaT4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJJdGVtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJyA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNpcmNsZVwiIHN0eWxlPVwiY29sb3I6ICNjYjM3Mzc7XCI+PC9pPicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcm9vbVVzZXJzTGlzdC5hcHBlbmRDaGlsZChwbGF5ZXJJdGVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vc2hvdyBzdGFydEdhbWVCdXR0b24gXHJcbiAgICBpZiAoY3VycmVudFBsYXllci51c2VybmFtZSA9PSBjdXJyZW50Um9vbS5nZXRIb3N0KCkudXNlcm5hbWUpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNwbGF5LW5vbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdGFydEJ1dHRvblByb2dyZXNzKE9iamVjdC52YWx1ZXMoY3VycmVudFJvb20uZ2V0UGxheWVycygpKS5maWx0ZXIocCA9PiBwLmlzUmVhZHkpLmxlbmd0aCwgY3VycmVudFJvb20uZ2V0TWF4U2l6ZSgpKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXJ0QnV0dG9uUHJvZ3Jlc3MocmVhZHlQbGF5ZXJDb3VudDogbnVtYmVyLCBtYXhQbGF5ZXJDb3VudDogbnVtYmVyKSB7XHJcbiAgICBpZiAobWF4UGxheWVyQ291bnQgPT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHN0YXJ0UHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBNYXRoLmZsb29yKHJlYWR5UGxheWVyQ291bnQgLyBtYXhQbGF5ZXJDb3VudCAqIDEwMCkgKyAnJSc7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvckFuaW1hdGlvbigpIHtcclxuICAgIHJvb21CdXR0b24uY2xhc3NMaXN0LmFkZCgncmVkLWJ1dHRvbicpO1xyXG4gICAgcm9vbUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd3aWdnbGUnKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHJvb21CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgncmVkLWJ1dHRvbicpO1xyXG4gICAgICAgIHJvb21CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnd2lnZ2xlJyk7XHJcbiAgICB9LCA2MDApXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29sb3JQaWNrZXIoKSB7XHJcbiAgICBjb2xvclBpY2tlckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclBpY2tlci52YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBsYXllckNvbG9yKCkge1xyXG4gICAgY3VycmVudFBsYXllci5jb2xvciA9IGNvbG9yUGlja2VyLnZhbHVlO1xyXG4gICAgbGV0IGNvbG9yUGlja2VyTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sb3ItbGFiZWwnKTtcclxuICAgIGNvbG9yUGlja2VyTGFiZWwuc3R5bGUuY29sb3IgPSBwaWNrVGV4dENvbG9yQmFzZWRPbkJnQ29sb3JBZHZhbmNlZChjb2xvclBpY2tlci52YWx1ZSwgJyNGRkZGRkYnLCAnIzAwMDAwMCcpO1xyXG4gICAgc2V0UGxheWVyRGF0YShjdXJyZW50UGxheWVyLCBjdXJyZW50Um9vbS5nZXRDb2RlKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwaWNrVGV4dENvbG9yQmFzZWRPbkJnQ29sb3JBZHZhbmNlZChiZ0NvbG9yOiBzdHJpbmcsIGxpZ2h0Q29sb3I6IHN0cmluZywgZGFya0NvbG9yOiBzdHJpbmcpIHtcclxuICAgIHZhciBjb2xvciA9IChiZ0NvbG9yLmNoYXJBdCgwKSA9PT0gJyMnKSA/IGJnQ29sb3Iuc3Vic3RyaW5nKDEsIDcpIDogYmdDb2xvcjtcclxuICAgIHZhciByID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDAsIDIpLCAxNik7IC8vIGhleFRvUlxyXG4gICAgdmFyIGcgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMiwgNCksIDE2KTsgLy8gaGV4VG9HXHJcbiAgICB2YXIgYiA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZyg0LCA2KSwgMTYpOyAvLyBoZXhUb0JcclxuICAgIHZhciB1aWNvbG9ycyA9IFtyIC8gMjU1LCBnIC8gMjU1LCBiIC8gMjU1XTtcclxuICAgIHZhciBjID0gdWljb2xvcnMubWFwKChjb2wpID0+IHtcclxuICAgICAgICBpZiAoY29sIDw9IDAuMDM5MjgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbCAvIDEyLjkyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5wb3coKGNvbCArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgTCA9ICgwLjIxMjYgKiBjWzBdKSArICgwLjcxNTIgKiBjWzFdKSArICgwLjA3MjIgKiBjWzJdKTtcclxuICAgIHJldHVybiAoTCA+IDAuNCkgPyBkYXJrQ29sb3IgOiBsaWdodENvbG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XHJcblxyXG4gICAgLy92ZXJpZnkgdGhhdCB0aGUgcGxheWVyIHNlbmRpbmcgdGhlIHN0YXJ0IHJlcXVlc3QgaXMgdGhlIGhvc3RcclxuICAgIGlmIChjdXJyZW50UGxheWVyLnVzZXJuYW1lICE9IGN1cnJlbnRSb29tLmdldEhvc3QoKS51c2VybmFtZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kU3RhcnRDb21tYW5kKGN1cnJlbnRSb29tLmdldENvZGUoKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hHYW1lVmlldyhkYXRhOiBHYW1lU3RhdGVEYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEuc3RhdGUpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgY3VycmVudFJvb20uc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5SVU5OSU5HKTtcclxuICAgICAgICBsb2dpbkRpdi5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5LW5vbmUnKTtcclxuICAgICAgICByb29tRGl2LmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktbm9uZScpO1xyXG4gICAgICAgIHJvb21EaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlzcGxheS1mbGV4Jyk7XHJcbiAgICAgICAgZ2FtZURpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXNwbGF5LW5vbmUnKTtcclxuICAgICAgICBnYW1lRGl2LmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktZmxleCcpO1xyXG4gICAgICAgIC8vdXBkYXRlIHRoZSBnYW1lIGNhbnZhcyB0byBmaXQgdGhlIHNjcmVlblxyXG4gICAgICAgIHVwZGF0ZUNhbnZhc1NpemUoKTtcclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICBjdXJyZW50Um9vbS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLklOX0xPQkJZKTtcclxuICAgICAgICBsb2dpbkRpdi5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5LW5vbmUnKTtcclxuICAgICAgICByb29tRGl2LmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktZmxleCcpO1xyXG4gICAgICAgIGdhbWVEaXYuY2xhc3NMaXN0LmFkZCgnZGlzcGxheS1ub25lJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgdXBkYXRlQnV0dG9uKCk7XHJcbn07XHJcblxyXG4od2luZG93IGFzIGFueSkudXBkYXRlQnV0dG9uID0gdXBkYXRlQnV0dG9uO1xyXG4od2luZG93IGFzIGFueSkuaGFuZGxlUm9vbUFjdGlvbiA9IGhhbmRsZVJvb21BY3Rpb247XHJcbih3aW5kb3cgYXMgYW55KS5oYW5kbGVSZWFkeVN0YXRlID0gaGFuZGxlUmVhZHlTdGF0ZTtcclxuKHdpbmRvdyBhcyBhbnkpLnVwZGF0ZUNvbG9yUGlja2VyID0gdXBkYXRlQ29sb3JQaWNrZXI7XHJcbih3aW5kb3cgYXMgYW55KS51cGRhdGVQbGF5ZXJDb2xvciA9IHVwZGF0ZVBsYXllckNvbG9yO1xyXG4od2luZG93IGFzIGFueSkuc3RhcnRHYW1lID0gc3RhcnRHYW1lOyIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5pbXBvcnQgUGFydGljbGUsIHsgc2hhcGUgfSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21EaXJlY3Rpb24gfSBmcm9tIFwiLi9QYXJ0aWNsZVN5c3RlbVV0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVye1xyXG4gICAgcHJpdmF0ZSBhbGl2ZVBhcnRpY2xlczogUGFydGljbGVbXSA9IFtdO1xyXG4gICAgcHVibGljIHBvc2l0aW9uOiBWZWN0b3I7XHJcbiAgICBwdWJsaWMgZW1pdFRpbWU6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzaGFwZTogc2hhcGU7XHJcbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHNwZWVkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY29sb3I6IHtyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXJ9O1xyXG4gICAgcHVibGljIGZhZGVDb2xvcjogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBmYWRlU2l6ZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBwYXJ0aWNsZU1heEFnZTogbnVtYmVyO1xyXG4gICAgcHVibGljIGNhbnZhc0N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHVibGljIGVtaXRUaW1lTWlsbGlzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRpY2tzOiBudW1iZXIgPSAwO1xyXG4gICAgXHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3RvciwgZW1pdEludGVydmFsOiBudW1iZXIsIHNpemU6IG51bWJlciwgc3BlZWQ6IG51bWJlciwgc2hhcGU6IHNoYXBlID0gJ2NpcmNsZScsIGNvbG9yOiB7cjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyfSwgY2FudmFzQ3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgIGZhZGVDb2xvcjogYm9vbGVhbiA9IHRydWUsIGZhZGVTaXplOiBib29sZWFuID0gdHJ1ZSwgYWdlOiBudW1iZXIsIGVtaXRUaW1lTWlsbGlzOiBudW1iZXIgPSAwKXtcclxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIHRoaXMuZW1pdFRpbWUgPSBlbWl0SW50ZXJ2YWw7XHJcbiAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5jYW52YXNDdHggPSBjYW52YXNDdHg7XHJcbiAgICB0aGlzLmZhZGVDb2xvciA9IGZhZGVDb2xvcjtcclxuICAgIHRoaXMuZmFkZVNpemUgPSBmYWRlU2l6ZTsgXHJcbiAgICB0aGlzLnBhcnRpY2xlTWF4QWdlID0gYWdlO1xyXG4gICAgdGhpcy5lbWl0VGltZU1pbGxpcyA9IGVtaXRUaW1lTWlsbGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0aWNrKGR0OiBudW1iZXIpe1xyXG4gICAgICAgIGlmICgodGhpcy5lbWl0VGltZU1pbGxpcyArIHRoaXMucGFydGljbGVNYXhBZ2UpIDwgMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmVtaXRUaW1lTWlsbGlzIC09IGR0O1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGlja3MgJSB0aGlzLmVtaXRUaW1lID09IDAgJiYgdGhpcy5lbWl0VGltZU1pbGxpcyA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMucG9zaXRpb24uY2xvbmUoKSBhcyBWZWN0b3IsIGdldFJhbmRvbURpcmVjdGlvbigpLCB0aGlzLnNpemUsIHRoaXMuc3BlZWQsIHRoaXMuc2hhcGUsey4uLnRoaXMuY29sb3J9LHRoaXMuY2FudmFzQ3R4LCB0aGlzLnBhcnRpY2xlTWF4QWdlLCB0aGlzLmZhZGVDb2xvciwgdGhpcy5mYWRlU2l6ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMucG9zaXRpb24uY2xvbmUoKSBhcyBWZWN0b3IsIGdldFJhbmRvbURpcmVjdGlvbigpLCB0aGlzLnNpemUsIHRoaXMuc3BlZWQsIHRoaXMuc2hhcGUsey4uLnRoaXMuY29sb3J9LHRoaXMuY2FudmFzQ3R4LCB0aGlzLnBhcnRpY2xlTWF4QWdlLCB0aGlzLmZhZGVDb2xvciwgdGhpcy5mYWRlU2l6ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlKHRoaXMucG9zaXRpb24uY2xvbmUoKSBhcyBWZWN0b3IsIGdldFJhbmRvbURpcmVjdGlvbigpLCB0aGlzLnNpemUsIHRoaXMuc3BlZWQsIHRoaXMuc2hhcGUsey4uLnRoaXMuY29sb3J9LHRoaXMuY2FudmFzQ3R4LCB0aGlzLnBhcnRpY2xlTWF4QWdlLCB0aGlzLmZhZGVDb2xvciwgdGhpcy5mYWRlU2l6ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS50aWNrKGR0KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzID0gdGhpcy5hbGl2ZVBhcnRpY2xlcy5maWx0ZXIocGFydGljbGUgPT4gcGFydGljbGUuYWdlID4gMCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnRpY2tzKys7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKXtcclxuICAgICAgICB0aGlzLmFsaXZlUGFydGljbGVzLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5kcmF3KClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuZXhwb3J0IHR5cGUgc2hhcGUgPSAnY2lyY2xlJyB8ICdzcXVhcmUnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XHJcbiAgICBwb3NpdGlvbjogVmVjdG9yO1xyXG4gICAgdmVsb2NpdHk6IFZlY3RvcjtcclxuICAgIHNoYXBlOiBzaGFwZTtcclxuICAgIHNpemU6IG51bWJlcjtcclxuICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICBjb2xvcjoge3I6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcn07XHJcbiAgICBmYWRlQ29sb3I6IGJvb2xlYW47XHJcbiAgICBmYWRlU2l6ZTogYm9vbGVhbjtcclxuICAgIGFnZTogbnVtYmVyO1xyXG4gICAgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwcml2YXRlIHNpemVGYWRlQW1vdW50OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNvbG9yRmFkZUFtb3VudDogbnVtYmVyO1xyXG5cclxuIFxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogVmVjdG9yLCB2ZWxvY2l0eTogVmVjdG9yLCBzaXplOiBudW1iZXIsIHNwZWVkOiBudW1iZXIsICBzaGFwZTogc2hhcGUgPSAnY2lyY2xlJywgY29sb3I6IHtyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXJ9LCBjYW52YXNDdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBhZ2U6IG51bWJlciwgIGZhZGVDb2xvcj86IGJvb2xlYW4sIGZhZGVTaXplPzogYm9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4ID0gY2FudmFzQ3R4O1xyXG4gICAgICAgIHRoaXMuZmFkZUNvbG9yID0gZmFkZUNvbG9yO1xyXG4gICAgICAgIHRoaXMuZmFkZVNpemUgPSBmYWRlU2l6ZTsgXHJcbiAgICAgICAgdGhpcy5hZ2UgPSBhZ2U7XHJcbiAgICAgICAgdGhpcy5jb2xvckZhZGVBbW91bnQgPSB0aGlzLmNvbG9yLmEvdGhpcy5hZ2U7XHJcbiAgICAgICAgdGhpcy5zaXplRmFkZUFtb3VudCA9IHRoaXMuc2l6ZS90aGlzLmFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGljayhkdDogbnVtYmVyKXtcclxuXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eS5jbG9uZSgpLm11bHRpcGx5QnlTY2FsYXIoZHQgKiB0aGlzLnNwZWVkKSk7XHJcbiAgICAgICAgaWYodGhpcy5mYWRlQ29sb3Ipe1xyXG4gICAgICAgICAgICB0aGlzLmNvbG9yLmEgLT0gdGhpcy5jb2xvckZhZGVBbW91bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuZmFkZVNpemUpe1xyXG4gICAgICAgICAgICB0aGlzLnNpemUgLT0gIHRoaXMuc2l6ZUZhZGVBbW91bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWdlLS07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKXtcclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5tb3ZlVG8odGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGxTdHlsZSA9IGByZ2JhKCR7dGhpcy5jb2xvci5yfSwke3RoaXMuY29sb3IuZ30sICR7dGhpcy5jb2xvci5ifSwgJHt0aGlzLmNvbG9yLmF9KWA7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnNoYXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NpcmNsZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5hcmModGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIHRoaXMuc2l6ZSwgMCwgMipNYXRoLlBJKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzcXVhcmUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFJlY3QodGhpcy5wb3NpdGlvbi54LXRoaXMuc2l6ZSwgdGhpcy5wb3NpdGlvbi55LXRoaXMuc2l6ZSwgdGhpcy5zaXplKjIsIHRoaXMuc2l6ZSoyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21EaXJlY3Rpb24oKTogVmVjdG9ye1xyXG5cclxuICAgIHJldHVybihuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkqMi0xLCBNYXRoLnJhbmRvbSgpKjItMSkpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihoZXg6IHN0cmluZykge1xyXG4gICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xyXG4gICAgcmV0dXJuIHJlc3VsdCA/IHtcclxuICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXHJcbiAgICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxyXG4gICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KVxyXG4gICAgfSA6IG51bGw7XHJcbiAgfSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTZWdtZW50IHtcbiAgICBhYnN0cmFjdCBpc0NvbGxpZGFibGU6IGJvb2xlYW47XG4gICAgYWJzdHJhY3QgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkO1xuICAgIGFic3RyYWN0IGdldCBlbmRBbmdsZSgpOiBudW1iZXI7XG4gICAgYWJzdHJhY3QgZ2V0IGVuZFBvaW50KCk6IFZlY3RvcjtcbiAgICBhYnN0cmFjdCBnZXRDb250aW51aW5nU2VnbWVudCh0cmFuc2Zvcm06IFZlY3Rvcik6IFNlZ21lbnQ7XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XG5pbXBvcnQgQXJjU2VnbWVudCBmcm9tIFwiLi9BcmNTZWdtZW50XCI7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSBcIi4vTGluZVNlZ21lbnRcIjtcbmltcG9ydCBTZWdtZW50IGZyb20gXCIuL1NlZ21lbnRcIjtcbmltcG9ydCBFbWl0dGVyIGZyb20gXCIuL1BhcnRpY2xlU3lzdGVtL0VtaXR0ZXJcIjtcbmltcG9ydCB7IGhleFRvUmdiIH0gZnJvbSBcIi4vUGFydGljbGVTeXN0ZW0vUGFydGljbGVTeXN0ZW1VdGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbmFrZSB7XG4gICAgcHVibGljIHNlZ21lbnRzOiBTZWdtZW50W10gPSBbXTtcbiAgICBwcml2YXRlIGNvbG9yOiBzdHJpbmc7XG4gICAgcHVibGljIGlzQWxpdmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyB0dXJuUmFkaXVzOiBudW1iZXIgPSA2MDtcbiAgICBwcml2YXRlIGVtaXR0ZXI6IEVtaXR0ZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGNhbnZhc0N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihzdGFydFBvczogTGluZVNlZ21lbnQsIGNvbG9yOiBzdHJpbmcsIGNhbnZhc0N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgICAgIHRoaXMuYWRkU2VnbWVudChzdGFydFBvcyk7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSBjYW52YXNDdHhcbiAgICB9XG4gICAgYWRkU2VnbWVudChzZWdtZW50OiBTZWdtZW50KSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG5cbiAgICBnZXQgaGVhZCgpOiBTZWdtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHMuc2xpY2UoLTEpLnBvcCgpO1xuICAgIH1cblxuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IHRoaXMuY2FudmFzQ3R4LmNhbnZhcy53aWR0aCAvIDIwMDA7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IHRoaXMuY2FudmFzQ3R4LmNhbnZhcy5oZWlnaHQgLyAyMDAwO1xuXG5cbiAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVdpZHRoID0gMTIgKiBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSk7XG4gICAgICAgIC8vVE9ETyBmaXggdGhpcyB0byBiZSBhIHNpbmdsZSBwYXRoXG4gICAgICAgIC8vIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgdGhpcy5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgc2VnbWVudC5kcmF3KHRoaXMuY2FudmFzQ3R4LCB0aGlzLmNvbG9yKTtcblxuICAgICAgICAgICAgLy9kcmF3IGEgZG90IGF0IHRoZSBoZWFkLCB0aGlzIGlzIHVzZWZ1bGwgaWYgdGhlIHNlZ21lbnQgaXMgaW52aXNpYmxlXG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkID09IHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5hcmMoc2VnbWVudC5lbmRQb2ludC54ICogc2NhbGVYLCBzZWdtZW50LmVuZFBvaW50LnkgKiBzY2FsZVksIDAuNSAqIE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG5cbmtpbGwoKSB7XG4gICAgY29uc29sZS5sb2coXCJTTkFLRSBERUFEXCIpXG4gICAgdGhpcy5pc0FsaXZlID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIodGhpcy5oZWFkLmVuZFBvaW50LCAxLCA3LCA0LCAnY2lyY2xlJywgeyAuLi5oZXhUb1JnYih0aGlzLmNvbG9yKSwgYTogMSB9LCB0aGlzLmNhbnZhc0N0eCwgdHJ1ZSwgdHJ1ZSwgNzAsIDQpO1xufVxuXG51cGRhdGVFbWl0dGVyKGR0OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5lbWl0dGVyKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci50aWNrKGR0KTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLmRyYXcoKTtcbiAgICB9XG59XG4gICAgXG59IiwiaW1wb3J0IFNuYWtlIGZyb20gXCIuLi9TbmFrZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBwdWJsaWMgdXNlcm5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBpc1JlYWR5OiBib29sZWFuO1xyXG4gICAgcHVibGljIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgc25ha2U6IFNuYWtlO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcih1c2VybmFtZTogc3RyaW5nLCBpc1JlYWR5OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICAgICAgdGhpcy5pc1JlYWR5ID0gaXNSZWFkeTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gXCIjMDAwMDAwXCIucmVwbGFjZSgvMC9nLGZ1bmN0aW9uKCl7cmV0dXJuICh+fihNYXRoLnJhbmRvbSgpKjE2KSkudG9TdHJpbmcoMTYpO30pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXHJcbiAgICAgICAgICBpc1JlYWR5OiB0aGlzLmlzUmVhZHksXHJcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvclxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEdhbWVTdGF0ZSB7XHJcbiAgICBSVU5OSU5HLFxyXG4gICAgSU5fTE9CQlksXHJcbiAgICBGSU5JU0hFRFxyXG59XHJcbmV4cG9ydCBjbGFzcyBSb29tIHtcclxuICAgIHByaXZhdGUgcGxheWVyczogeyBba2V5OiBzdHJpbmddOiBQbGF5ZXI7IH0gPSB7fTtcclxuICAgIHByaXZhdGUgbWF4U2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHByaXZhdGUgaG9zdDogUGxheWVyO1xyXG4gICAgcHJpdmF0ZSBjb2RlOiBzdHJpbmc7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvZGU6IHN0cmluZywgaG9zdDogUGxheWVyLCBwbGF5ZXJzPzogeyBba2V5OiBzdHJpbmddOiBQbGF5ZXI7IH0sIG1heFNpemU6IG51bWJlciA9IDUpIHtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gbWF4U2l6ZTtcclxuXHJcbiAgICAgICAgaWYgKHBsYXllcnMgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkUGxheWVyKGhvc3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFBsYXllcihwbGF5ZXI6IFBsYXllcik6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5wbGF5ZXJzKS5sZW5ndGggPj0gdGhpcy5tYXhTaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyc1twbGF5ZXIudXNlcm5hbWVdID0gcGxheWVyO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBsYXllcnMoKTogeyBba2V5OiBzdHJpbmddOiBQbGF5ZXI7IH0ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhvc3QoKTogUGxheWVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRIb3N0KHBsYXllcjogUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0ID0gcGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQbGF5ZXJzKHBsYXllcnM6IHsgW2tleTogc3RyaW5nXTogUGxheWVyOyB9KXtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRNYXhTaXplKG5ld1NpemU6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gbmV3U2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWF4U2l6ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1heFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEdhbWVTdGF0ZShuZXdHYW1lU3RhdGU6IEdhbWVTdGF0ZSl7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBuZXdHYW1lU3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEdhbWVTdGF0ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVTdGF0ZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVwZGF0ZUdhbWVTdGF0ZSB9IGZyb20gXCIuLlwiO1xyXG5pbXBvcnQgeyBEaXIgfSBmcm9tIFwiLi4vSW5wdXRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IGN1cnJlbnRQbGF5ZXIsIGN1cnJlbnRSb29tLCBzaG93RXJyb3JBbmltYXRpb24sIHNob3dSb29tVmlldywgc3dpdGNoR2FtZVZpZXcsIHVwZGF0ZVJvb21MaXN0IH0gZnJvbSBcIi4uL01lbnVNYW5hZ2VyL2xvZ2luXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9WaWV3TW9kZWxzL1BsYXllclwiO1xyXG5cclxubGV0IHNvY2tldDogV2ViU29ja2V0O1xyXG5cclxuZnVuY3Rpb24gaW5pdFdlYlNvY2tldCgpIHtcclxuICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OjgwODBgKTtcclxuICAgIFxyXG4gICAgc29ja2V0Lm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgc29ja2V0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdNZXNzYWdlIGZyb20gc2VydmVyOicsIGRhdGEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0pPSU5FRF9ST09NJzpcclxuICAgICAgICAgICAgICAgIHNob3dSb29tVmlldyhldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdST09NX0RPRVNfTk9UX0VYSVNUJzpcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvckFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ1JPT01fREFUQSc6XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVSb29tTGlzdChldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdHQU1FX1NUQVRFJzpcclxuICAgICAgICAgICAgICAgIHN3aXRjaEdhbWVWaWV3KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0dBTUVQTEFZX0RBVEEnOlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR2FtZVN0YXRlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ0VSUk9SJzpcclxuICAgICAgICAgICAgICAgIGFsZXJ0KGBFcnJvcjogJHtkYXRhLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBzb2NrZXQub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBzb2NrZXQub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm9vbSh1c2VybmFtZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoc29ja2V0ICYmIHNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ0NSRUFURV9ST09NJywgdXNlcm5hbWU6IHVzZXJuYW1lIH0pKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgbm90IG9wZW4nKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5Sb29tKHJvb21Db2RlOiBzdHJpbmcsIHVzZXJuYW1lOiBzdHJpbmcpIHtcclxuICAgIGlmIChzb2NrZXQgJiYgc29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnSk9JTl9ST09NJywgcm9vbUNvZGU6IHJvb21Db2RlLCB1c2VybmFtZTogdXNlcm5hbWUgfSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyBub3Qgb3BlbicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0UGxheWVyRGF0YShwbGF5ZXI6IFBsYXllciwgcm9vbUNvZGU6IHN0cmluZykge1xyXG4gICAgaWYgKHNvY2tldCAmJiBzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdQTEFZRVJfREFUQScsIHBsYXllcjogcGxheWVyLCByb29tQ29kZTogcm9vbUNvZGV9KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kS2V5RXZlbnRUb1NlcnZlcihrZXk6IERpciwgcHJlc3NlZDogYm9vbGVhbil7XHJcbiAgICBpZiAoc29ja2V0ICYmIHNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ0tFWV9FVkVOVCcsIHJvb21Db2RlOiBjdXJyZW50Um9vbS5nZXRDb2RlKCksIHVzZXJuYW1lOiBjdXJyZW50UGxheWVyLnVzZXJuYW1lLCBrZXk6IGtleSwgcHJlc3NlZDogcHJlc3NlZCB9KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kU3RhcnRDb21tYW5kKHJvb21Db2RlOiBzdHJpbmcpIHtcclxuICAgIGlmIChzb2NrZXQgJiYgc29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnQkVHSU5fR0FNRScsIHJvb21Db2RlOiByb29tQ29kZX0pKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgbm90IG9wZW4nKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5pbml0V2ViU29ja2V0KCk7XHJcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xuaW1wb3J0IHsgZHJhd0dyaWQgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcbmltcG9ydCBJbnB1dE1hbmFnZXIgZnJvbSBcIi4vSW5wdXRNYW5hZ2VyXCI7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSBcIi4vTGluZVNlZ21lbnRcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9TbmFrZVwiO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4vUGFydGljbGVTeXN0ZW0vRW1pdHRlclwiO1xuaW1wb3J0IHsgTWVzc2FnZUdhbWVwbGF5LCBtZXNzYWdlQXJjU2VnbWVudCwgbWVzc2FnZUxpbmVTZWdtZW50IH0gZnJvbSBcIi4vV2ViU29ja2V0Q2xpZW50L21lc3NhZ2VUeXBlc1wiO1xuaW1wb3J0IHsgY3VycmVudFBsYXllciwgY3VycmVudFJvb20gfSBmcm9tIFwiLi9NZW51TWFuYWdlci9sb2dpblwiO1xuXG52YXIgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5mcHNDb3VudGVyLnN0eWxlLnRvcCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUuY29sb3IgPSAnYmxhY2snO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcHNDb3VudGVyKTtcbmV4cG9ydCB2YXIgZnBzID0gNjA7XG5cbmV4cG9ydCB2YXIgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgZ2FtZUNhbnZhc0N0eCA9IGdhbWVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhc0N0eCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbmJhY2tncm91bmRDYW52YXMhLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuZ2FtZUNhbnZhcyEud2lkdGggPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuZ2FtZUNhbnZhcyEuaGVpZ2h0ID0gZ2FtZUNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5leHBvcnQgdmFyIGdyaWRTaXplID0gNjA7XG5sZXQgaW5wdXRNYW5hZ2VyO1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XG4gICAgZ2FtZUNhbnZhcy53aWR0aCA9IGdhbWVDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgZ2FtZUNhbnZhcy5oZWlnaHQgPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIGRyYXdHcmlkKCk7XG4gIH1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB2YXIgbXVsdCA9IGZwcyAvIDYwO1xuICAgIGZyYW1lQ291bnQrKztcbiAgICBpZiAoZnJhbWVDb3VudCAlIDEwID09PSAwKSB7XG4gICAgICAgIGZwcyA9IGNhbGN1bGF0ZUZQUygpO1xuICAgICAgICBmcHNDb3VudGVyLmlubmVyVGV4dCA9IGBGUFM6ICR7ZnBzfWA7XG4gICAgfVxuICAgIGdhbWVDYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGdhbWVDYW52YXMud2lkdGgsIGdhbWVDYW52YXMuaGVpZ2h0KTtcblxuICAgIE9iamVjdC52YWx1ZXMoY3VycmVudFJvb20uZ2V0UGxheWVycygpKS5mb3JFYWNoKHBsYXllciA9PiB7XG4gICAgICAgIHBsYXllci5zbmFrZS5kcmF3KCk7XG4gICAgICAgIHBsYXllci5zbmFrZS51cGRhdGVFbWl0dGVyKChwZXJmb3JtYW5jZS5ub3coKS8xMCAtIGxhc3RUaW1lKS8xMCk7XG4gICAgfSlcbiAgICAvLyBlbWl0dGVyLnRpY2soMC4zKTtcbiAgICAvLyBlbWl0dGVyLmRyYXcoKTtcbn1cbnZhciBmcmFtZUNvdW50ID0gMDtcbnZhciBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTA7XG5mdW5jdGlvbiBjYWxjdWxhdGVGUFMoKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLyAxMDtcbiAgICB2YXIgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGxhc3RUaW1lO1xuICAgIHZhciBmcHMgPSBNYXRoLnJvdW5kKDEwMDAgLyB0aW1lRGlmZik7XG4gICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICByZXR1cm4gZnBzO1xufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVDYW52YXNTaXplKTtcbmRyYXdHcmlkKCk7XG5sZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUdhbWVTdGF0ZShnYW1lU3RhdGU6IE1lc3NhZ2VHYW1lcGxheSkge1xuXG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgc25ha2VzIHRoZSBmaXJzdCB0aW1lIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkXG4gICAgICAgIGdhbWVTdGF0ZS5zbmFrZUhlYWRzLmZvckVhY2goaGVhZERhdGEgPT4ge1xuICAgICAgICAgICAgbGV0IGhlYWQgPSBoZWFkRGF0YS5sYXN0U2VnbWVudDtcbiAgICAgICAgICAgIGxldCB1c2VybmFtZSA9IGhlYWREYXRhLnVzZXJuYW1lO1xuICAgICAgICAgICAgbGV0IHBvcyA9IGhlYWQuZW5kUG9pbnRcbiAgICAgICAgICAgIGN1cnJlbnRSb29tLmdldFBsYXllcnMoKVt1c2VybmFtZV0uc25ha2UgPSBuZXcgU25ha2UobmV3IExpbmVTZWdtZW50KG5ldyBWZWN0b3IocG9zLngsIHBvcy55KSAsIG5ldyBWZWN0b3IocG9zLngsIHBvcy55KSAsIGhlYWQuaXNDb2xsaWRhYmxlLCBoZWFkLmVuZEFuZ2xlKSxjdXJyZW50Um9vbS5nZXRQbGF5ZXJzKClbdXNlcm5hbWVdLmNvbG9yLCBnYW1lQ2FudmFzQ3R4KVxuICAgICAgICB9KTtcblxuICAgICAgICBpbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKGN1cnJlbnRSb29tLmdldFBsYXllcnMoKVtjdXJyZW50UGxheWVyLnVzZXJuYW1lXS5zbmFrZSwnQScsJ0QnKTtcblxuICAgICAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgIH0gXG4gICAgIGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgc25ha2VzIGJhc2VkIG9uIHRoZSBuZXcgZ2FtZSBzdGF0ZVxuICAgICAgICBnYW1lU3RhdGUuc25ha2VIZWFkcy5mb3JFYWNoKG5ld0hlYWREYXRhID0+IHtcbiAgICAgICAgICAgIGxldCBoZWFkID0gbmV3SGVhZERhdGEubGFzdFNlZ21lbnQ7XG4gICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSBuZXdIZWFkRGF0YS51c2VybmFtZTtcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBoZWFkLmVuZFBvaW50XG4gICAgICAgICAgICBsZXQgc25ha2VUb1VwZGF0ZSA9IGN1cnJlbnRSb29tLmdldFBsYXllcnMoKVt1c2VybmFtZV0uc25ha2U7XG5cbiAgICAgICAgICBpZihoZWFkLmlzTmV3VGhpc1RpY2spe1xuICAgICAgICAgICAgaWYobmV3SGVhZERhdGEuc2VnbWVudFR5cGUgPT0gJ0xpbmVTZWdtZW50Jyl7XG4gICAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgYXMgbWVzc2FnZUxpbmVTZWdtZW50XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gaGVhZC5zdGFydFBvaW50O1xuICAgICAgICAgICAgICAgIHNuYWtlVG9VcGRhdGUuYWRkU2VnbWVudChuZXcgTGluZVNlZ21lbnQobmV3IFZlY3RvcihzdGFydFBvcy54LCBzdGFydFBvcy55KSwgbmV3IFZlY3RvcihlbmRQb3MueCwgZW5kUG9zLnkpLCBoZWFkLmlzQ29sbGlkYWJsZSwgaGVhZC5lbmRBbmdsZSkpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGVsc2UgaWYgKG5ld0hlYWREYXRhLnNlZ21lbnRUeXBlID09ICdBcmNTZWdtZW50Jyl7XG4gICAgICAgICAgICAgICAgaGVhZCA9IGhlYWQgYXMgbWVzc2FnZUFyY1NlZ21lbnRcbiAgICAgICAgICAgICAgICBsZXQgY2VudGVyID0gaGVhZC5jZW50ZXI7XG4gICAgICAgICAgICAgICAgc25ha2VUb1VwZGF0ZS5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KG5ldyBWZWN0b3IoY2VudGVyLngsIGNlbnRlci55KSwgaGVhZC5yYWRpdXMsIGhlYWQuc3RhcnRBbmdsZSwgaGVhZC5lbmRBbmdsZSwgaGVhZC5jb3VudGVyQ2xvY2t3aXNlLCBoZWFkLmlzQ29sbGlkYWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYobmV3SGVhZERhdGEuc2VnbWVudFR5cGUgPT0gJ0xpbmVTZWdtZW50Jyl7XG4gICAgICAgICAgICBoZWFkID0gaGVhZCBhcyBtZXNzYWdlTGluZVNlZ21lbnRcbiAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IGhlYWQuc3RhcnRQb2ludDtcbiAgICAgICAgICAgIHNuYWtlVG9VcGRhdGUuc2VnbWVudHNbc25ha2VUb1VwZGF0ZS5zZWdtZW50cy5sZW5ndGgtMV0gPSAobmV3IExpbmVTZWdtZW50KG5ldyBWZWN0b3Ioc3RhcnRQb3MueCwgc3RhcnRQb3MueSksIG5ldyBWZWN0b3IoZW5kUG9zLngsIGVuZFBvcy55KSwgaGVhZC5pc0NvbGxpZGFibGUsIGhlYWQuZW5kQW5nbGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0hlYWREYXRhLnNlZ21lbnRUeXBlID09ICdBcmNTZWdtZW50Jyl7XG4gICAgICAgICAgICBoZWFkID0gaGVhZCBhcyBtZXNzYWdlQXJjU2VnbWVudFxuICAgICAgICAgICAgbGV0IGNlbnRlciA9IGhlYWQuY2VudGVyO1xuICAgICAgICAgICAgc25ha2VUb1VwZGF0ZS5zZWdtZW50c1tzbmFrZVRvVXBkYXRlLnNlZ21lbnRzLmxlbmd0aC0xXSA9IChuZXcgQXJjU2VnbWVudChuZXcgVmVjdG9yKGNlbnRlci54LCBjZW50ZXIueSksIGhlYWQucmFkaXVzLCBoZWFkLnN0YXJ0QW5nbGUsIGhlYWQuZW5kQW5nbGUsIGhlYWQuY291bnRlckNsb2Nrd2lzZSwgaGVhZC5pc0NvbGxpZGFibGUpKTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYW5pbWF0ZSgpO1xuXG5cbiAgfSIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBUaGVzZSB2YWx1ZXMgYXJlIHVzZWQgYnkgdGhlIGBBYnN0cmFjdFZlY3Rvci5yb3VuZGAgbWV0aG9kIHRvIGluY3JlYXNlXG4gKiBwZXJmb3JtYW5jZSB2cy4gdXNpbmcgIE51bWJlci50b0ZpeGVkLlxuICovXG52YXIgcHJlY2lzaW9uID0gW1xuICAgIDEsXG4gICAgMTAsXG4gICAgMTAwLFxuICAgIDEwMDAsXG4gICAgMTAwMDAsXG4gICAgMTAwMDAwLFxuICAgIDEwMDAwMDAsXG4gICAgMTAwMDAwMDAsXG4gICAgMTAwMDAwMDAwLFxuICAgIDEwMDAwMDAwMDAsXG4gICAgMTAwMDAwMDAwMDBcbl07XG4vKipcbiAqIFRoZSBjbGFzcyB0aGF0IGFsbCBvdGhlciB2ZWN0b3IgcmVwcmVzZW50YXRpb25zIGFyZSBkZXJpdmVkIGZyb20uXG4gKlxuICogQ29udGFpbnMgdGhlIGNvcmUgaW1wbGVtZW50YXRpb24gZm9yIGFsbCBtZXRob2RzIHRoYXQgd2lsbCBiZSBleHBvc2VkIGJ5XG4gKiB2ZWN0b3IgaW5zdGFuY2VzLlxuICpcbiAqIEV4YW1wbGUgb2YgY3JlYXRpbmcgYSBjdXN0b20gaW1wbGVtZW50YXRpb246XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEFic3RyYWN0VmVjdG9yIH0gZnJvbSBcIi4vQWJzdHJhY3RWZWN0b3JcIlxuICpcbiAqIGV4cG9ydCBjbGFzcyBNeUN1c3RvbVZlY3RvciBleHRlbmRzIEFic3RyYWN0VmVjdG9yIHtcbiAqICBjb25zdHJ1Y3RvciAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAqICAgIHN1cGVyKEN1c3RvbVZlY3RvclR5cGUpXG4gKiAgfVxuICogfVxuICogYGBgXG4gKi9cbnZhciBBYnN0cmFjdFZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFZlY3RvcihjdG9yKSB7XG4gICAgICAgIHRoaXMuY3RvciA9IGN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBib3RoIHggYW5kIHkgYXhpcyB2YWx1ZVxuICAgICAqIEBwYXJhbSB4ICAgTmV3IHggdmFsXG4gICAgICogQHBhcmFtIHkgICBOZXcgeSB2YWxcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuc2V0QXhlcyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0dGVyIGZvciB4IHRoZSBheGlzIHZhbHVlXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZm9yIHggYXhpcyB2YWx1ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5zZXRYID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIHkgYXhpcyB2YWx1ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dGVyIGZvciB5IGF4aXMuXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnNldFkgPSBmdW5jdGlvbiAoeSkge1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmVjdG9yIGFzIGEgZm9ybWF0dGVkIHN0cmluZywgZS5nIFwiKDAsIDQpXCJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAocm91bmQpIHtcbiAgICAgICAgaWYgKHJvdW5kID09PSB2b2lkIDApIHsgcm91bmQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIihcIiArIE1hdGgucm91bmQodGhpcy54KSArIFwiLCBcIiArIE1hdGgucm91bmQodGhpcy55KSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIihcIiArIHRoaXMueCArIFwiLCBcIiArIHRoaXMueSArIFwiKVwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIEFycmF5IGNvbnRhaW5pbmcgdGhlIHZlY3RvciBheGVzLCBlLmcgWzAsIDRdXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIE9iamVjdCBjb250YWluaW5nIHRoZSB2ZWN0b3IgYXhlcywgZS5nIHsgeDogMCwgeTogNCB9XG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHByb3ZpZGVkIHZlY3RvciB0byB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCArPSB2ZWMueDtcbiAgICAgICAgdGhpcy55ICs9IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoZSBwcm92aWRlZCB2ZWN0b3IgZnJvbSB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgdGhpcy54IC09IHZlYy54O1xuICAgICAgICB0aGlzLnkgLT0gdmVjLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHByb3ZpZGVkIHZlY3RvciBlcXVhbCB0byB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB2ZWMueCA9PT0gdGhpcy54ICYmIHZlYy55ID09PSB0aGlzLnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bHRpcGx5QnlWZWN0b3IgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCAqPSB2ZWMueDtcbiAgICAgICAgdGhpcy55ICo9IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubXVsViA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeVZlY3Rvcih2ZWMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2aWRlQnlWZWN0b3IgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCAvPSB2ZWMueDtcbiAgICAgICAgdGhpcy55IC89IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpdlYgPSBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZpZGVCeVZlY3Rvcih2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubXVsdGlwbHlCeVNjYWxhciA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHRoaXMueCAqPSBuO1xuICAgICAgICB0aGlzLnkgKj0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgbnVtYmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bFMgPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseUJ5U2NhbGFyKG4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aXZlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2aWRlQnlTY2FsYXIgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB0aGlzLnggLz0gbjtcbiAgICAgICAgdGhpcy55IC89IG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aXZlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2UyA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmlkZUJ5U2NhbGFyKG4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXNlIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm5vcm1hbGlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlQnlTY2FsYXIodGhpcy5tYWduaXR1ZGUoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3IgQW1lcmljYW4gc3BlbGxpbmcuIFNhbWUgYXMgdW5pdC9ub3JtYWxpc2UgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpc2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIGFzIG5vcm1hbGlzZSBhbmQgbm9ybWFsaXplXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGlzZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm1hZ25pdHVkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHggPSB0aGlzLng7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFnbml0dWRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVyZWQgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmxlbmd0aFNxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB4ICogeCArIHkgKiB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3Qgb2YgdGhpcyB2ZWN0b3IgYnkgYW5vdGhlclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5kb3QgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB2ZWMueCAqIHRoaXMueCArIHZlYy55ICogdGhpcy55O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGlzIHZlY3RvciBieSBhbm90aGVyLlxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5jcm9zcyA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHZlYy55IC0gdGhpcy55ICogdmVjLng7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGlzIHZlY3RvciBpLmUgbXVsdGlwbGllcyBpdCBieSAtMVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnggPSAtdGhpcy54O1xuICAgICAgICB0aGlzLnkgPSAtdGhpcy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmVjdG9yIGF4ZXMgdmFsdWVzIHRvIGFic29sdXRlIHZhbHVlc1xuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMueCA9IE1hdGguYWJzKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGguYWJzKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogWmVyb2VzIHRoZSB2ZWN0b3IgaS5lIHNldHMgYWxsIGF4ZXMgdG8gMFxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS56ZXJvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnggPSB0aGlzLnkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIGFub3RoZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGlzdGFuY2UgPSBmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgeCA9IHRoaXMueCAtIHYueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnkgLSB2Lnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSB2ZXRvciBieSBwcm92aWRlZCByYWRpYW5zXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChyYWRzKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyYWRzKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKHJhZHMpO1xuICAgICAgICB2YXIgb3ggPSB0aGlzLng7XG4gICAgICAgIHZhciBveSA9IHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0gb3ggKiBjb3MgLSBveSAqIHNpbjtcbiAgICAgICAgdGhpcy55ID0gb3ggKiBzaW4gKyBveSAqIGNvcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhpcyB2ZWN0b3IgdG8gbiBkZWNpbWFsIHBsYWNlc1xuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIGlmIChuID09PSB2b2lkIDApIHsgbiA9IDI7IH1cbiAgICAgICAgdmFyIHAgPSBwcmVjaXNpb25bbl07XG4gICAgICAgIC8vIFRoaXMgcGVyZm9ybXMgd2FhYXkgYmV0dGVyIHRoYW4gdG9GaXhlZCBhbmQgZ2l2ZSBGbG9hdDMyIHRoZSBlZGdlIGFnYWluLlxuICAgICAgICAvLyBodHRwOi8vd3d3LmR5bmFtaWNndXJ1LmNvbS9qYXZhc2NyaXB0L3JvdW5kLW51bWJlcnMtd2l0aC1wcmVjaXNpb24vXG4gICAgICAgIHRoaXMueCA9ICgoMC41ICsgdGhpcy54ICogcCkgPDwgMCkgLyBwO1xuICAgICAgICB0aGlzLnkgPSAoKDAuNSArIHRoaXMueSAqIHApIDw8IDApIC8gcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmN0b3IodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0VmVjdG9yO1xufSgpKTtcbmV4cG9ydHMuQWJzdHJhY3RWZWN0b3IgPSBBYnN0cmFjdFZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0VmVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWJzdHJhY3RWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpO1xuLyoqXG4gKiBBIHZlY3RvciByZXByZXNlbnRhdGlvbiB0aGF0IHN0b3JlcyB0aGUgYXhlcyBpbiBhbiBBcnJheVxuICpcbiAqIGBgYFxuICogY29uc3QgdiA9IG5ldyBWZWMyRC5BcnJheVZlY3RvcigyLCA1KVxuICogYGBgXG4gKi9cbnZhciBBcnJheVZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlWZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlWZWN0b3IoeCwgeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBBcnJheVZlY3RvcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYXhlcyA9IFt4LCB5XTtcbiAgICAgICAgX3RoaXMuY3RvciA9IEFycmF5VmVjdG9yO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVZlY3Rvci5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgdGhpcy5heGVzWzBdID0geDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5VmVjdG9yLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5heGVzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICB0aGlzLmF4ZXNbMV0gPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQXJyYXlWZWN0b3I7XG59KEFic3RyYWN0VmVjdG9yXzEuQWJzdHJhY3RWZWN0b3IpKTtcbmV4cG9ydHMuQXJyYXlWZWN0b3IgPSBBcnJheVZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycmF5VmVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWJzdHJhY3RWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpO1xuLyoqXG4gKiBBIHZlY3RvciByZXByZXNlbnRhdGlvbiB0aGF0IHN0b3JlcyB0aGUgYXhlcyBpbiBhIEZsb2F0MzJBcnJheVxuICpcbiAqIGBgYFxuICogY29uc3QgdiA9IG5ldyBWZWMyRC5GbG9hdDMyVmVjdG9yKDIsIDUpXG4gKiBgYGBcbiAqL1xudmFyIEZsb2F0MzJWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZsb2F0MzJWZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmxvYXQzMlZlY3Rvcih4LCB5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIEZsb2F0MzJWZWN0b3IpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmF4ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBfdGhpcy5heGVzWzBdID0geDtcbiAgICAgICAgX3RoaXMuYXhlc1sxXSA9IHk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZsb2F0MzJWZWN0b3IucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF4ZXNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHRoaXMuYXhlc1swXSA9IHg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdDMyVmVjdG9yLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5heGVzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICB0aGlzLmF4ZXNbMV0gPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRmxvYXQzMlZlY3Rvcjtcbn0oQWJzdHJhY3RWZWN0b3JfMS5BYnN0cmFjdFZlY3RvcikpO1xuZXhwb3J0cy5GbG9hdDMyVmVjdG9yID0gRmxvYXQzMlZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZsb2F0MzJWZWN0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vQWJzdHJhY3RWZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vQXJyYXlWZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vRmxvYXQzMlZlY3RvclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9WZWN0b3JcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjMkQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBYnN0cmFjdFZlY3Rvcl8xID0gcmVxdWlyZShcIi4vQWJzdHJhY3RWZWN0b3JcIik7XG4vKipcbiAqIEEgdmVjdG9yIHJlcHJlc2VudGF0aW9uIHRoYXQgc3RvcmVzIHRoZSBheGVzIGFzIHBhcnQgb2YgdGhlIGluc3RhbmNlIGl0c2VsZlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCB2ID0gbmV3IFZlYzJELlZlY3RvcigyLCA1KVxuICogYGBgXG4gKi9cbnZhciBWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWZWN0b3IoeCwgeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBWZWN0b3IpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl94ID0geDtcbiAgICAgICAgX3RoaXMuX3kgPSB5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZWN0b3IucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlY3Rvci5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVmVjdG9yO1xufShBYnN0cmFjdFZlY3Rvcl8xLkFic3RyYWN0VmVjdG9yKSk7XG5leHBvcnRzLlZlY3RvciA9IFZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvTWVudU1hbmFnZXIvbG9naW4udHNcIik7XG4iXSwibmFtZXMiOlsiY2VudGVyIiwicmFkaXVzIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiY291bnRlckNsb2Nrd2lzZSIsImlzQ29sbGlkYWJsZSIsImRyYXciLCJjb250ZXh0IiwiY29sb3IiLCJzY2FsZVgiLCJjYW52YXMiLCJ3aWR0aCIsInNjYWxlWSIsImhlaWdodCIsImxpbmVDYXAiLCJzdHJva2VTdHlsZSIsInRoaXMiLCJiZWdpblBhdGgiLCJhcmMiLCJ4IiwieSIsIk1hdGgiLCJtaW4iLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJkcmF3RGVidWciLCJ0YW5nZW50X2FuZ2xlIiwiUEkiLCJkcmF3RG90IiwiZHJhd0Fycm93IiwiZW5kUG9pbnQiLCJjb3MiLCJzaW4iLCJkcmF3QXJjIiwiaXNDb3VudGVyQ2xvY2t3aXNlIiwiZ2V0Q29udGludWluZ1NlZ21lbnQiLCJ0cmFuc2Zvcm0iLCJBcmNTZWdtZW50IiwiY2xvbmUiLCJhZGQiLCJkcmF3R3JpZCIsImJhY2tncm91bmRDYW52YXNDdHgiLCJjbGVhclJlY3QiLCJiYWNrZ3JvdW5kQ2FudmFzIiwibGluZVdpZHRoIiwiZ3JpZFNpemUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJkb3RYIiwiZG90WSIsImRvdFNpemUiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY3R4IiwiZnJvbSIsInRvIiwiYW5nbGUiLCJhdGFuMiIsImhlYWRMZW5ndGgiLCJuZXdfdG8iLCJWZWN0b3IiLCJzbmFrZSIsImxlZnRLZXkiLCJyaWdodEtleSIsImtleU1hcCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbktleURvd24iLCJiaW5kIiwib25LZXlVcCIsImV2ZW50IiwiaXNBbGl2ZSIsImtleSIsInRvVXBwZXJDYXNlIiwic2VuZEtleUV2ZW50VG9TZXJ2ZXIiLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXJ0IiwiZW5kIiwic3RhcnRQb2ludCIsImNhbGNFbmRBbmdsZSIsImF0YW4iLCJzcXJ0IiwidHJhbnNmb3JtZWRFbmRwb2ludCIsIkxpbmVTZWdtZW50IiwiY3VycmVudFJvb20iLCJjdXJyZW50UGxheWVyIiwicm9vbUNvZGVJbnB1dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1c2VybmFtZUlucHV0Iiwicm9vbUJ1dHRvbiIsInJlYWR5QnV0dG9uIiwibG9naW5EaXYiLCJyb29tRGl2IiwiZ2FtZURpdiIsImNvbG9yUGlja2VyIiwicm9vbVVzZXJzTGlzdCIsInJvb21Db2RlU3BhbiIsInBsYXllckNvdW50IiwiY29sb3JQaWNrZXJEaXYiLCJzdGFydFByb2dyZXNzQmFyIiwidXBkYXRlQnV0dG9uIiwidmFsdWUiLCJ0cmltIiwiZGlzYWJsZWQiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsImhhbmRsZVJvb21BY3Rpb24iLCJ1c2VybmFtZSIsIlBsYXllciIsImlubmVyVGV4dCIsImNyZWF0ZVJvb20iLCJqb2luUm9vbSIsImhhbmRsZVJlYWR5U3RhdGUiLCJpc1JlYWR5Iiwic2V0UGxheWVyRGF0YSIsImdldENvZGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzaG93Um9vbVZpZXciLCJkYXRhIiwicm9vbUluZm8iLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsIlJvb20iLCJnZXRIb3N0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwaWNrVGV4dENvbG9yQmFzZWRPbkJnQ29sb3JBZHZhbmNlZCIsImlubmVySFRNTCIsInVwZGF0ZVJvb21MaXN0IiwicmVhZHlQbGF5ZXJDb3VudCIsIm1heFBsYXllckNvdW50Iiwic2V0UGxheWVycyIsInNldEhvc3QiLCJzZXRNYXhTaXplIiwiT2JqZWN0Iiwia2V5cyIsImdldFBsYXllcnMiLCJnZXRNYXhTaXplIiwidmFsdWVzIiwiZm9yRWFjaCIsInBsYXllciIsInBsYXllckl0ZW0iLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiYXBwZW5kQ2hpbGQiLCJmaWx0ZXIiLCJwIiwiZmxvb3IiLCJzaG93RXJyb3JBbmltYXRpb24iLCJzZXRUaW1lb3V0IiwidXBkYXRlQ29sb3JQaWNrZXIiLCJ1cGRhdGVQbGF5ZXJDb2xvciIsImJnQ29sb3IiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiYyIsInBhcnNlSW50IiwibWFwIiwiY29sIiwicG93Iiwic3dpdGNoR2FtZVZpZXciLCJzdGF0ZSIsInNldEdhbWVTdGF0ZSIsInVwZGF0ZUNhbnZhc1NpemUiLCJvbmxvYWQiLCJzdGFydEdhbWUiLCJzZW5kU3RhcnRDb21tYW5kIiwicG9zaXRpb24iLCJlbWl0SW50ZXJ2YWwiLCJzaXplIiwic3BlZWQiLCJzaGFwZSIsImNhbnZhc0N0eCIsImZhZGVDb2xvciIsImZhZGVTaXplIiwiYWdlIiwiZW1pdFRpbWVNaWxsaXMiLCJhbGl2ZVBhcnRpY2xlcyIsInRpY2tzIiwiZW1pdFRpbWUiLCJwYXJ0aWNsZU1heEFnZSIsInRpY2siLCJkdCIsInB1c2giLCJnZXRSYW5kb21EaXJlY3Rpb24iLCJwYXJ0aWNsZSIsInZlbG9jaXR5IiwiY29sb3JGYWRlQW1vdW50IiwiYSIsInNpemVGYWRlQW1vdW50IiwibXVsdGlwbHlCeVNjYWxhciIsInIiLCJnIiwiYiIsImZpbGxSZWN0IiwicmFuZG9tIiwiaGV4VG9SZ2IiLCJoZXgiLCJyZXN1bHQiLCJleGVjIiwic3RhcnRQb3MiLCJzZWdtZW50cyIsInR1cm5SYWRpdXMiLCJlbWl0dGVyIiwiYWRkU2VnbWVudCIsInNlZ21lbnQiLCJzbGljZSIsInBvcCIsImluZGV4IiwiaGVhZCIsImtpbGwiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlRW1pdHRlciIsInJlcGxhY2UiLCJ0b0pTT04iLCJjb2RlIiwiaG9zdCIsInBsYXllcnMiLCJtYXhTaXplIiwidW5kZWZpbmVkIiwiYWRkUGxheWVyIiwibmV3U2l6ZSIsIm5ld0dhbWVTdGF0ZSIsImdhbWVTdGF0ZSIsImdldEdhbWVTdGF0ZSIsInNvY2tldCIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwic2VuZCIsInN0cmluZ2lmeSIsInR5cGUiLCJlcnJvciIsInJvb21Db2RlIiwicHJlc3NlZCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJ1cGRhdGVHYW1lU3RhdGUiLCJhbGVydCIsIm1lc3NhZ2UiLCJvbmNsb3NlIiwib25lcnJvciIsImZwc0NvdW50ZXIiLCJ0b3AiLCJsZWZ0IiwiYm9keSIsImZwcyIsImdhbWVDYW52YXMiLCJnYW1lQ2FudmFzQ3R4IiwiZ2V0Q29udGV4dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZyYW1lQ291bnQiLCJsYXN0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiaW5pdGlhbGl6ZWQiLCJzbmFrZUhlYWRzIiwibmV3SGVhZERhdGEiLCJsYXN0U2VnbWVudCIsImVuZFBvcyIsInNuYWtlVG9VcGRhdGUiLCJpc05ld1RoaXNUaWNrIiwic2VnbWVudFR5cGUiLCJoZWFkRGF0YSIsInBvcyIsImN1cnJlbnRUaW1lIiwidGltZURpZmYiLCJyb3VuZCIsImNhbGN1bGF0ZUZQUyIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInByZWNpc2lvbiIsIkFic3RyYWN0VmVjdG9yIiwiY3RvciIsInByb3RvdHlwZSIsInNldEF4ZXMiLCJnZXRYIiwic2V0WCIsImdldFkiLCJzZXRZIiwidG9BcnJheSIsInRvT2JqZWN0IiwidmVjIiwic3VidHJhY3QiLCJlcXVhbHMiLCJtdWx0aXBseUJ5VmVjdG9yIiwibXVsViIsImRpdmlkZUJ5VmVjdG9yIiwiZGl2ViIsInYiLCJuIiwibXVsUyIsImRpdmlkZUJ5U2NhbGFyIiwiZGl2UyIsIm5vcm1hbGlzZSIsIm1hZ25pdHVkZSIsIm5vcm1hbGl6ZSIsInVuaXQiLCJsZW5ndGhTcSIsImRvdCIsImNyb3NzIiwicmV2ZXJzZSIsImFicyIsInplcm8iLCJkaXN0YW5jZSIsInJvdGF0ZSIsInJhZHMiLCJveCIsIm95IiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJkIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiQXJyYXlWZWN0b3IiLCJfc3VwZXIiLCJfdGhpcyIsImNhbGwiLCJheGVzIiwiZ2V0Iiwic2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIkZsb2F0MzJWZWN0b3IiLCJGbG9hdDMyQXJyYXkiLCJfX2V4cG9ydCIsIm0iLCJfeCIsIl95IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=