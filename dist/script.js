/*! For license information please see script.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/ArcSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var i,o=n("./src/Drawer.ts"),s=n("./node_modules/vector2d/src/Vec2D.js"),r=n("./src/Segment.ts"),a=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e,n,i,o,s,r){var a=t.call(this)||this;return a.center=e,a.radius=n,a.startAngle=i,a.endAngle=o,a.counterClockwise=s,a.isCollidable=r,a}return a(e,t),e.prototype.draw=function(t,e){t.lineCap="round",t.strokeStyle=e,1==this.isCollidable&&(t.beginPath(),t.arc(this.center.x,this.center.y,this.radius,this.startAngle,this.endAngle,this.counterClockwise),t.stroke(),t.closePath())},e.prototype.drawDebug=function(t,e){var n=this.counterClockwise?-Math.PI:Math.PI;n+=this.endAngle,t.lineCap="round",(0,o.drawDot)(this.center.x,this.center.y,5,"#000000"),(0,o.drawArrow)(t,new s.Vector(this.endPoint.x,this.endPoint.y),new s.Vector(this.endPoint.x+this.radius*Math.cos(n),this.endPoint.y+this.radius*Math.sin(n)))},Object.defineProperty(e.prototype,"endPoint",{get:function(){return new s.Vector(this.center.x+this.radius*Math.cos(this.endAngle),this.center.y+this.radius*Math.sin(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.isCounterClockwise=function(){return this.counterClockwise},e}(r.default)},"./src/CollisionHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});var i=n("./src/ArcSegment.ts"),o=n("./src/LineSegment.ts");const s=function(){function t(t){this.snakes=t}return t.prototype.checkCollisions=function(){var t=this;return this.snakes.forEach((function(e){e.isAlive&&e.head.isCollidable&&t.snakes.forEach((function(n){e.head instanceof o.default?n.segments.forEach((function(n){if(n.isCollidable&&n!==e.head)if(n instanceof o.default){if(t.checkLineToLineCollision(e.head,n))return void e.kill()}else n instanceof i.default&&t.checkLineToArcCollision(e.head,n)})):e.head instanceof i.default&&n.segments.forEach((function(n){n instanceof o.default?t.checkLineToArcCollision(n,e.head):n instanceof i.default&&t.checkArcToArcCollision(e.head,n)}))}))})),null},t.prototype.checkLineToLineCollision=function(t,e){var n=((e.endPoint.x-e.startPoint.x)*(t.startPoint.y-e.startPoint.y)-(e.endPoint.y-e.startPoint.y)*(t.startPoint.x-e.startPoint.x))/((e.endPoint.y-e.startPoint.y)*(t.endPoint.x-t.startPoint.x)-(e.endPoint.x-e.startPoint.x)*(t.endPoint.y-t.startPoint.y)),i=((t.endPoint.x-t.startPoint.x)*(t.startPoint.y-e.startPoint.y)-(t.endPoint.y-t.startPoint.y)*(t.startPoint.x-e.startPoint.x))/((e.endPoint.y-e.startPoint.y)*(t.endPoint.x-t.startPoint.x)-(e.endPoint.x-e.startPoint.x)*(t.endPoint.y-t.startPoint.y));return n>=0&&n<=1&&i>=0&&i<=1},t.prototype.checkLineToArcCollision=function(t,e){return!1},t.prototype.checkArcToArcCollision=function(t,e){return!1},t}()},"./src/Drawer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArrow:()=>a,drawDot:()=>r,drawGrid:()=>s});var i=n("./node_modules/vector2d/src/Vec2D.js"),o=n("./src/index.ts");function s(){o.backgroundCanvasCtx.clearRect(0,0,o.backgroundCanvas.width,o.backgroundCanvas.height),o.backgroundCanvasCtx.strokeStyle="rgba(0, 0, 0, 0.3)",o.backgroundCanvasCtx.lineWidth=2;for(var t=o.gridSize;t<o.backgroundCanvas.width;t+=o.gridSize)o.backgroundCanvasCtx.beginPath(),o.backgroundCanvasCtx.moveTo(t,0),o.backgroundCanvasCtx.lineTo(t,o.backgroundCanvas.height),o.backgroundCanvasCtx.stroke();for(var e=o.gridSize;e<o.backgroundCanvas.height;e+=o.gridSize)o.backgroundCanvasCtx.beginPath(),o.backgroundCanvasCtx.moveTo(0,e),o.backgroundCanvasCtx.lineTo(o.backgroundCanvas.width,e),o.backgroundCanvasCtx.stroke()}function r(t,e,n,i){o.backgroundCanvasCtx.beginPath(),o.backgroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),o.backgroundCanvasCtx.fillStyle=i,o.backgroundCanvasCtx.fill(),o.backgroundCanvasCtx.closePath()}function a(t,e,n){if(e.x!=n.x&&e.y!=n.y){var o=Math.atan2(n.y-e.y,n.x-e.x),s=10,r=new i.Vector(n.x,n.y);r.x-=11.5*Math.cos(o),r.y-=11.5*Math.sin(o),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(r.x-s*Math.cos(o-Math.PI/7),r.y-s*Math.sin(o-Math.PI/7)),t.lineTo(r.x-s*Math.cos(o+Math.PI/7),r.y-s*Math.sin(o+Math.PI/7)),t.lineTo(r.x,r.y),t.lineTo(r.x-s*Math.cos(o-Math.PI/7),r.y-s*Math.sin(o-Math.PI/7)),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.fillStyle="#bbbbbb",t.fill(),t.closePath()}}},"./src/InputManager.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./node_modules/vector2d/src/Vec2D.js"),o=n("./src/ArcSegment.ts"),s=n("./src/LineSegment.ts");const r=function(){function t(t,e,n){this.keyMap={},window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this)),this.snake=t,this.leftKey=e,this.rightKey=n}return t.prototype.onKeyDown=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();if(e==this.leftKey||e==this.rightKey){if(this.keyMap[this.rightKey]&&e==this.leftKey)this.keyMap[this.rightKey]=!1;else if(this.keyMap[this.leftKey]&&e==this.rightKey)this.keyMap[this.leftKey]=!1;else if(this.keyMap[e])return;this.keyMap[e]=!0;var n=this.snake.head,r=n.endPoint,a=0;n instanceof s.default?(a+=Math.PI/2,e==this.rightKey&&this.snake.addSegment(new o.default(new i.Vector(r.x+this.snake.turnRadius*Math.cos(this.snake.head.endAngle+a),r.y+this.snake.turnRadius*Math.sin(this.snake.head.endAngle+a)),this.snake.turnRadius,this.snake.head.endAngle-a,this.snake.head.endAngle-a,!1,n.isCollidable)),e==this.leftKey&&this.snake.addSegment(new o.default(new i.Vector(r.x+this.snake.turnRadius*Math.cos(this.snake.head.endAngle-a),r.y+this.snake.turnRadius*Math.sin(this.snake.head.endAngle-a)),this.snake.turnRadius,this.snake.head.endAngle+a,this.snake.head.endAngle+a,!0,n.isCollidable))):n instanceof o.default&&(a=n.isCounterClockwise?-Math.PI:Math.PI,e==this.rightKey&&this.snake.addSegment(new o.default(new i.Vector(r.x-this.snake.turnRadius*Math.cos(this.snake.head.endAngle+a),r.y-this.snake.turnRadius*Math.sin(this.snake.head.endAngle+a)),this.snake.turnRadius,this.snake.head.endAngle-a,this.snake.head.endAngle-a,!1,n.isCollidable)),e==this.leftKey&&this.snake.addSegment(new o.default(new i.Vector(r.x-this.snake.turnRadius*Math.cos(this.snake.head.endAngle-a),r.y-this.snake.turnRadius*Math.sin(this.snake.head.endAngle-a)),this.snake.turnRadius,this.snake.head.endAngle+a,this.snake.head.endAngle+a,!0,n.isCollidable)))}}},t.prototype.onKeyUp=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();if(this.keyMap[e]){this.keyMap[e]=!1,console.log(this.snake.head);var n=this.snake.head,r=n.endPoint,a=n.endAngle;e==this.leftKey&&n instanceof o.default&&n.isCounterClockwise()?a-=Math.PI/2:e==this.rightKey&&n instanceof o.default&&!n.isCounterClockwise()&&(a+=Math.PI/2),this.snake.addSegment(new s.default(r,new i.Vector(r.x+5*Math.cos(a),r.y+5*Math.sin(a)),n.isCollidable,a)),console.log(this.snake.head)}}},t.prototype.dispose=function(){window.removeEventListener("keydown",this.onKeyDown.bind(this)),window.removeEventListener("keyup",this.onKeyUp.bind(this))},t}()},"./src/LineSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i,o=n("./src/Segment.ts"),s=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const r=function(t){function e(e,n,i,o){var s=t.call(this)||this;return s.isCollidable=!0,s.startPoint=e,s.endPoint=n,s.isCollidable=i,s.endAngle=o,s}return s(e,t),e.prototype.draw=function(t,e){t.strokeStyle=e,t.lineCap="round",1==this.isCollidable&&(t.beginPath(),t.moveTo(this.startPoint.x,this.startPoint.y),t.lineTo(this.endPoint.x,this.endPoint.y),t.stroke(),t.closePath())},e.prototype.calcEndAngle=function(){return Math.atan((this.endPoint.y-this.startPoint.y)/(this.endPoint.x-this.startPoint.x))},e}(o.default)},"./src/ParticleSystem/Emitter.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/ParticleSystem/Particle.ts"),o=n("./src/ParticleSystem/ParticleSystemUtils.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},s.apply(this,arguments)};const r=function(){function t(t,e,n,i,o,s,r,a,c,h,d){void 0===o&&(o="circle"),void 0===a&&(a=!0),void 0===c&&(c=!0),void 0===d&&(d=0),this.aliveParticles=[],this.ticks=0,this.position=t,this.emitTime=e,this.size=n,this.speed=i,this.shape=o,this.color=s,this.canvasCtx=r,this.fadeColor=a,this.fadeSize=c,this.particleMaxAge=h,this.emitTimeMillis=d}return t.prototype.tick=function(t){this.emitTimeMillis+this.particleMaxAge<0||(this.emitTimeMillis-=t,this.ticks%this.emitTime==0&&this.emitTimeMillis>0&&(this.aliveParticles.push(new i.default(this.position.clone(),(0,o.getRandomDirection)(),this.size,this.speed,this.shape,s({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new i.default(this.position.clone(),(0,o.getRandomDirection)(),this.size,this.speed,this.shape,s({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new i.default(this.position.clone(),(0,o.getRandomDirection)(),this.size,this.speed,this.shape,s({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize))),this.aliveParticles.forEach((function(e){e.tick(t)})),this.aliveParticles=this.aliveParticles.filter((function(t){return t.age>0})),this.ticks++)},t.prototype.draw=function(){this.aliveParticles.forEach((function(t){t.draw()}))},t}()},"./src/ParticleSystem/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e,n,i,o,s,r,a,c,h){void 0===o&&(o="circle"),this.position=t,this.velocity=e,this.size=n,this.speed=i,this.shape=o,this.color=s,this.canvasCtx=r,this.fadeColor=c,this.fadeSize=h,this.age=a,this.colorFadeAmount=this.color.a/this.age,this.sizeFadeAmount=this.size/this.age}return t.prototype.tick=function(t){this.position.add(this.velocity.clone().multiplyByScalar(t*this.speed)),this.fadeColor&&(this.color.a-=this.colorFadeAmount),this.fadeSize&&(this.size-=this.sizeFadeAmount),this.age--},t.prototype.draw=function(){switch(this.canvasCtx.moveTo(this.position.x,this.position.y),this.canvasCtx.fillStyle="rgba(".concat(this.color.r,",").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.color.a,")"),this.canvasCtx.beginPath(),this.shape){case"circle":this.canvasCtx.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),this.canvasCtx.fill();break;case"square":this.canvasCtx.fillRect(this.position.x-this.size,this.position.y-this.size,2*this.size,2*this.size)}this.canvasCtx.closePath()},t}()},"./src/ParticleSystem/ParticleSystemUtils.ts":(t,e,n)=>{n.r(e),n.d(e,{getRandomDirection:()=>o,hexToRgb:()=>s});var i=n("./node_modules/vector2d/src/Vec2D.js");function o(){return new i.Vector(2*Math.random()-1,2*Math.random()-1)}function s(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},"./src/Segment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){}},"./src/Snake.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var i=n("./node_modules/vector2d/src/Vec2D.js"),o=n("./src/ArcSegment.ts"),s=n("./src/LineSegment.ts"),r=n("./src/ParticleSystem/Emitter.ts"),a=n("./src/ParticleSystem/ParticleSystemUtils.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c.apply(this,arguments)};const h=function(){function t(t,e,n){this.segments=[],this.isAlive=!0,this.turnRadius=130,this.emitter=null,this.addSegment(t),this.color=e,this.canvasCtx=n}return t.prototype.addSegment=function(t){this.segments.push(t)},Object.defineProperty(t.prototype,"head",{get:function(){return this.segments.slice(-1).pop()},enumerable:!1,configurable:!0}),t.prototype.draw=function(){var t=this;this.canvasCtx.lineWidth=12,this.segments.forEach((function(e,n){e.draw(t.canvasCtx,t.color),t.head==e&&(e instanceof o.default?(t.canvasCtx.beginPath(),t.canvasCtx.arc(e.center.x,e.center.y,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise()),t.canvasCtx.stroke(),t.canvasCtx.closePath()):e instanceof s.default&&(t.canvasCtx.beginPath(),t.canvasCtx.moveTo(e.endPoint.x,e.endPoint.y),t.canvasCtx.lineTo(e.endPoint.x,e.endPoint.y),t.canvasCtx.stroke(),t.canvasCtx.closePath()))}))},t.prototype.move=function(t){if(this.isAlive){var e=this.head;if(e)if(e instanceof s.default){var n=t*Math.cos(e.endAngle),r=t*Math.sin(e.endAngle);if(e.isCollidable&&Math.random()>.99)return void this.addSegment(new s.default(e.endPoint,new i.Vector(e.endPoint.x+n,e.endPoint.y+r),!1,e.endAngle));if(!e.isCollidable&&Math.random()>.97)return void this.addSegment(new s.default(e.endPoint,new i.Vector(e.endPoint.x+n,e.endPoint.y+r),!0,e.endAngle));var a=new i.Vector(e.endPoint.x+n,e.endPoint.y+r);e.endPoint=a}else if(e instanceof o.default){var c=t/e.radius;if(e.isCollidable&&Math.random()>.99)return void this.addSegment(new o.default(e.center,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise(),!1));if(!e.isCollidable&&Math.random()>.97)return void this.addSegment(new o.default(e.center,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise(),!0));e.isCounterClockwise()?e.endAngle=e.endAngle-c:e.endAngle=e.endAngle+c}}},t.prototype.kill=function(){console.log("SNAKE DEAD"),this.isAlive=!1,this.emitter=new r.default(this.head.endPoint,1,7,2,"circle",c(c({},(0,a.hexToRgb)(this.color)),{a:1}),this.canvasCtx,!0,!0,70,4)},t.prototype.updateEmitter=function(t){this.emitter&&(this.emitter.tick(t),this.emitter.draw())},t}()},"./src/index.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>f,backgroundCanvasCtx:()=>y,fps:()=>d,gameCanvas:()=>l,gameCanvasCtx:()=>u,gridSize:()=>p});var i=n("./node_modules/vector2d/src/Vec2D.js"),o=n("./src/Drawer.ts"),s=n("./src/InputManager.ts"),r=n("./src/LineSegment.ts"),a=n("./src/Snake.ts"),c=n("./src/CollisionHandler.ts"),h=document.createElement("div");h.style.position="absolute",h.style.top="10px",h.style.left="10px",h.style.color="black",document.body.appendChild(h);var d=60,l=document.getElementById("game-canvas"),u=l.getContext("2d"),f=document.getElementById("background-canvas"),y=f.getContext("2d");f.width=f.getBoundingClientRect().width,f.height=f.getBoundingClientRect().height,l.width=l.getBoundingClientRect().width,l.height=l.getBoundingClientRect().height;var p=60,g=0,v=performance.now()/10;window.addEventListener("resize",(function(){l.width=l.getBoundingClientRect().width,l.height=l.getBoundingClientRect().height,f.width=f.getBoundingClientRect().width,f.height=f.getBoundingClientRect().height,(0,o.drawGrid)(),x.draw(),b.draw()})),(0,o.drawGrid)();var x=new a.default(new r.default(new i.Vector(100,100),new i.Vector(110,110),!0,Math.PI/4),"#ff0088",u),b=new a.default(new r.default(new i.Vector(300,300),new i.Vector(295,295),!0,Math.PI/4),"#33ee55",u),P=(new s.default(x,"A","D"),new s.default(b,"J","L"),new c.default([x,b]));x.draw(),b.draw(),requestAnimationFrame((function t(){++g%10==0&&(d=function(){var t=performance.now()/10,e=t-v,n=Math.round(1e3/e);return v=t,n}(),h.innerText="FPS: ".concat(d)),u.clearRect(0,0,l.width,l.height),x.draw(),x.move(2),b.draw(),b.move(2),x.updateEmitter(.3),b.updateEmitter(.3),P.checkCollisions(),requestAnimationFrame(t)}))},"./node_modules/vector2d/src/AbstractVector.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],i=function(){function t(t){this.ctor=t}return t.prototype.setAxes=function(t,e){return this.x=t,this.y=e,this},t.prototype.getX=function(){return this.x},t.prototype.setX=function(t){return this.x=t,this},t.prototype.getY=function(){return this.y},t.prototype.setY=function(t){return this.y=t,this},t.prototype.toString=function(t){return void 0===t&&(t=!1),t?"("+Math.round(this.x)+", "+Math.round(this.y)+")":"("+this.x+", "+this.y+")"},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.multiplyByVector=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.mulV=function(t){return this.multiplyByVector(t)},t.prototype.divideByVector=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divV=function(t){return this.divideByVector(t)},t.prototype.multiplyByScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.mulS=function(t){return this.multiplyByScalar(t)},t.prototype.divideByScalar=function(t){return this.x/=t,this.y/=t,this},t.prototype.divS=function(t){return this.divideByScalar(t)},t.prototype.normalise=function(){return this.divideByScalar(this.magnitude())},t.prototype.normalize=function(){return this.normalise()},t.prototype.unit=function(){return this.normalise()},t.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.length=function(){return this.magnitude()},t.prototype.lengthSq=function(){var t=this.x,e=this.y;return t*t+e*e},t.prototype.dot=function(t){return t.x*this.x+t.y*this.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t.prototype.zero=function(){return this.x=this.y=0,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.x,o=this.y;return this.x=i*e-o*n,this.y=i*n+o*e,this},t.prototype.round=function(t){void 0===t&&(t=2);var e=n[t];return this.x=(.5+this.x*e<<0)/e,this.y=(.5+this.y*e<<0)/e,this},t.prototype.clone=function(){return new this.ctor(this.x,this.y)},t}();e.AbstractVector=i},"./node_modules/vector2d/src/ArrayVector.js":function(t,e,n){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(n,i){var o=t.call(this,e)||this;return o.axes=[n,i],o.ctor=e,o}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.ArrayVector=s},"./node_modules/vector2d/src/Float32Vector.js":function(t,e,n){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(n,i){var o=t.call(this,e)||this;return o.axes=new Float32Array(2),o.axes[0]=n,o.axes[1]=i,o}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Float32Vector=s},"./node_modules/vector2d/src/Vec2D.js":(t,e,n)=>{function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n("./node_modules/vector2d/src/AbstractVector.js")),i(n("./node_modules/vector2d/src/ArrayVector.js")),i(n("./node_modules/vector2d/src/Float32Vector.js")),i(n("./node_modules/vector2d/src/Vector.js"))},"./node_modules/vector2d/src/Vector.js":function(t,e,n){var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(n,i){var o=t.call(this,e)||this;return o._x=n,o._y=i,o}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Vector=s}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/index.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkgsRUFBUXhHLE9BQVNBLElDakRiNEssRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhdkUsUUFHckIsSUFBSXlFLEVBQVNMLEVBQXlCRSxHQUFZLENBR2pEdEUsUUFBUyxDQUFDLEdBT1gsT0FIQTBFLEVBQW9CSixHQUFVZCxLQUFLaUIsRUFBT3pFLFFBQVN5RSxFQUFRQSxFQUFPekUsUUFBU3FFLEdBR3BFSSxFQUFPekUsT0FDZixDQ3JCQXFFLEVBQW9CL0MsRUFBS21ELElBQ3hCLElBQUlFLEVBQVNGLEdBQVVBLEVBQU9HLFdBQzdCLElBQU9ILEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBSixFQUFvQnJCLEVBQUUyQixFQUFRLENBQUVwSSxFQUFHb0ksSUFDNUJBLENBQU0sRUNMZE4sRUFBb0JyQixFQUFJLENBQUNoRCxFQUFTNkUsS0FDakMsSUFBSSxJQUFJMUssS0FBTzBLLEVBQ1hSLEVBQW9CUyxFQUFFRCxFQUFZMUssS0FBU2tLLEVBQW9CUyxFQUFFOUUsRUFBUzdGLElBQzVFMkYsT0FBT0MsZUFBZUMsRUFBUzdGLEVBQUssQ0FBRXlKLFlBQVksRUFBTUYsSUFBS21CLEVBQVcxSyxJQUUxRSxFQ05Ea0ssRUFBb0JTLEVBQUksQ0FBQ0MsRUFBS0MsSUFBVWxGLE9BQU9PLFVBQVU0QyxlQUFlTyxLQUFLdUIsRUFBS0MsR0NDbEZYLEVBQW9CMUgsRUFBS3FELElBQ0gsb0JBQVhpRixRQUEwQkEsT0FBT0MsYUFDMUNwRixPQUFPQyxlQUFlQyxFQUFTaUYsT0FBT0MsWUFBYSxDQUFFakYsTUFBTyxXQUU3REgsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sR0FBTyxFQ0ZwQ29FLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9BcmNTZWdtZW50LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvQ29sbGlzaW9uSGFuZGxlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0RyYXdlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0lucHV0TWFuYWdlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0xpbmVTZWdtZW50LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvUGFydGljbGVTeXN0ZW0vRW1pdHRlci50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL1BhcnRpY2xlU3lzdGVtL1BhcnRpY2xlLnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvUGFydGljbGVTeXN0ZW0vUGFydGljbGVTeXN0ZW1VdGlscy50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL1NlZ21lbnQudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9TbmFrZS50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9ub2RlX21vZHVsZXMvdmVjdG9yMmQvc3JjL0Fic3RyYWN0VmVjdG9yLmpzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9ub2RlX21vZHVsZXMvdmVjdG9yMmQvc3JjL0FycmF5VmVjdG9yLmpzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9ub2RlX21vZHVsZXMvdmVjdG9yMmQvc3JjL0Zsb2F0MzJWZWN0b3IuanMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL25vZGVfbW9kdWxlcy92ZWN0b3IyZC9zcmMvVmVjMkQuanMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL25vZGVfbW9kdWxlcy92ZWN0b3IyZC9zcmMvVmVjdG9yLmpzIiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyYXdBcnJvdywgZHJhd0RvdCB9IGZyb20gXCIuL0RyYXdlclwiO1xyXG5pbXBvcnQgKiBhcyBWZWMyRCBmcm9tICd2ZWN0b3IyZCc7XHJcbmltcG9ydCBTZWdtZW50IGZyb20gXCIuL1NlZ21lbnRcIjtcclxuaW1wb3J0IHsgZ2FtZUNhbnZhc0N0eCB9IGZyb20gXCIuL2luZGV4XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcmNTZWdtZW50IGV4dGVuZHMgU2VnbWVudCB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBjZW50ZXI6IFZlYzJELlZlY3RvcjtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyBzdGFydEFuZ2xlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgZW5kQW5nbGU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY291bnRlckNsb2Nrd2lzZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBpc0NvbGxpZGFibGU6IGJvb2xlYW47XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNlbnRlcjogVmVjMkQuVmVjdG9yLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBlbmRBbmdsZTogbnVtYmVyLCBjb3VudGVyQ2xvY2t3aXNlOiBib29sZWFuLCBpc0NvbGxpZGFibGU6IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHRoaXMuc3RhcnRBbmdsZSA9IHN0YXJ0QW5nbGU7XHJcbiAgICAgICAgdGhpcy5lbmRBbmdsZSA9IGVuZEFuZ2xlO1xyXG4gICAgICAgIHRoaXMuY291bnRlckNsb2Nrd2lzZSA9IGNvdW50ZXJDbG9ja3dpc2U7XHJcbiAgICAgICAgdGhpcy5pc0NvbGxpZGFibGUgPSBpc0NvbGxpZGFibGU7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGlkYWJsZSA9PSB0cnVlKXtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5hcmModGhpcy5jZW50ZXIueCwgdGhpcy5jZW50ZXIueSwgdGhpcy5yYWRpdXMsIHRoaXMuc3RhcnRBbmdsZSwgdGhpcy5lbmRBbmdsZSwgdGhpcy5jb3VudGVyQ2xvY2t3aXNlKTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0RlYnVnKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2ZmMDBmZmZmJ1xyXG4gICAgICAgIGxldCB0YW5nZW50X2FuZ2xlID0gdGhpcy5jb3VudGVyQ2xvY2t3aXNlID8tIE1hdGguUEkgIDogTWF0aC5QSTtcclxuXHJcbiAgICAgICAgdGFuZ2VudF9hbmdsZSArPSB0aGlzLmVuZEFuZ2xlO1xyXG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IFwicm91bmRcIjtcclxuICAgICAgICBkcmF3RG90KHRoaXMuY2VudGVyLngsIHRoaXMuY2VudGVyLnksIDUsICcjMDAwMDAwJyk7XHJcbiAgICAgICAgZHJhd0Fycm93KGNvbnRleHQsbmV3IFZlYzJELlZlY3Rvcih0aGlzLmVuZFBvaW50LngsdGhpcy5lbmRQb2ludC55KSwgbmV3IFZlYzJELlZlY3Rvcih0aGlzLmVuZFBvaW50LnggKyB0aGlzLnJhZGl1cyAqIE1hdGguY29zKHRhbmdlbnRfYW5nbGUpLHRoaXMuZW5kUG9pbnQueSArIHRoaXMucmFkaXVzICogTWF0aC5zaW4odGFuZ2VudF9hbmdsZSkpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVuZFBvaW50KCk6IFZlYzJELlZlY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMyRC5WZWN0b3IoXHJcbiAgICAgICAgdGhpcy5jZW50ZXIueCArIHRoaXMucmFkaXVzICogTWF0aC5jb3ModGhpcy5lbmRBbmdsZSksXHJcbiAgICAgICAgdGhpcy5jZW50ZXIueSArIHRoaXMucmFkaXVzICogTWF0aC5zaW4odGhpcy5lbmRBbmdsZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQ291bnRlckNsb2Nrd2lzZSgpOiBib29sZWFue1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50ZXJDbG9ja3dpc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQXJjU2VnbWVudCBmcm9tIFwiLi9BcmNTZWdtZW50XCI7XHJcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tIFwiLi9MaW5lU2VnbWVudFwiO1xyXG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxpc2lvbkhhbmRsZXIge1xyXG4gICAgcHJpdmF0ZSBzbmFrZXM6IFNuYWtlW107XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNuYWtlczogU25ha2VbXSkge1xyXG4gICAgICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY2hlY2tDb2xsaXNpb25zKCk6IFNuYWtlIHtcclxuXHJcbiAgICAgICAgLy93ZSB3aWxsIG9ubHkgY2hlY2sgdGhlIGhlYWQgb2Ygc25ha2UxIGFnYWluc3QgYWxsIG90aGVyIHNlZ21lbnRzIG9uIHRoZSBib2FyZCAoc2xvdylcclxuICAgICAgICB0aGlzLnNuYWtlcy5mb3JFYWNoKHNuYWtlMSA9PiB7XHJcbiAgICAgICAgICAgIC8vaWYgdGhlIHNuYWtlIGlzIGRlYWQgaWdub3JlIGl0XHJcbiAgICAgICAgICAgIGlmICghc25ha2UxLmlzQWxpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlIGhlYWQgb2YgdGhlIHNuYWtlIGlzIG5vdCBjb2xsaWRhYmxlIHdlIGNhbiBza2lwIGFsbCBmdXJ0aGVyIGNoZWNrc1xyXG4gICAgICAgICAgICBpZiAoIXNuYWtlMS5oZWFkLmlzQ29sbGlkYWJsZSkgcmV0dXJuO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VzLmZvckVhY2goc25ha2UyID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc25ha2UxLmhlYWQgaW5zdGFuY2VvZiBMaW5lU2VnbWVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzbmFrZTIuc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2tpcCB0aGUgY2hlY2tzIGlmIHRoZSBzZWdtZW50IGlzIG5vbiBjb2xsaWRhYmxlIG9yIGlmIHRoZSBzZWdtZW50IGlzIGl0c2VsZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZ21lbnQuaXNDb2xsaWRhYmxlIHx8IHNlZ21lbnQgPT09IHNuYWtlMS5oZWFkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0xpbmVUb0xpbmVDb2xsaXNpb24oc25ha2UxLmhlYWQgYXMgTGluZVNlZ21lbnQsIHNlZ21lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFrZTEua2lsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tMaW5lVG9BcmNDb2xsaXNpb24oc25ha2UxLmhlYWQgYXMgTGluZVNlZ21lbnQsIHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzbmFrZTEuaGVhZCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc25ha2UyLnNlZ21lbnRzLmZvckVhY2goc2VnbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrTGluZVRvQXJjQ29sbGlzaW9uKHNlZ21lbnQsIHNuYWtlMS5oZWFkIGFzIEFyY1NlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBcmNUb0FyY0NvbGxpc2lvbihzbmFrZTEuaGVhZCBhcyBBcmNTZWdtZW50LCBzZWdtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrTGluZVRvTGluZUNvbGxpc2lvbihzZWdtZW50MTogTGluZVNlZ21lbnQsIHNlZ21lbnQyOiBMaW5lU2VnbWVudCk6IGJvb2xlYW57XHJcbiAgICAgICAgbGV0IHVBID0gKChzZWdtZW50Mi5lbmRQb2ludC54LXNlZ21lbnQyLnN0YXJ0UG9pbnQueCkqKHNlZ21lbnQxLnN0YXJ0UG9pbnQueS1zZWdtZW50Mi5zdGFydFBvaW50LnkpIC0gKHNlZ21lbnQyLmVuZFBvaW50Lnktc2VnbWVudDIuc3RhcnRQb2ludC55KSooc2VnbWVudDEuc3RhcnRQb2ludC54LXNlZ21lbnQyLnN0YXJ0UG9pbnQueCkpIC8gXHJcbiAgICAgICAgICAgICAgICAgKChzZWdtZW50Mi5lbmRQb2ludC55LXNlZ21lbnQyLnN0YXJ0UG9pbnQueSkqKHNlZ21lbnQxLmVuZFBvaW50Lngtc2VnbWVudDEuc3RhcnRQb2ludC54KSAtIChzZWdtZW50Mi5lbmRQb2ludC54LXNlZ21lbnQyLnN0YXJ0UG9pbnQueCkqKHNlZ21lbnQxLmVuZFBvaW50Lnktc2VnbWVudDEuc3RhcnRQb2ludC55KSk7XHJcblxyXG4gICAgICAgIGxldCB1QiA9ICgoc2VnbWVudDEuZW5kUG9pbnQueC1zZWdtZW50MS5zdGFydFBvaW50LngpKihzZWdtZW50MS5zdGFydFBvaW50Lnktc2VnbWVudDIuc3RhcnRQb2ludC55KSAtIChzZWdtZW50MS5lbmRQb2ludC55LXNlZ21lbnQxLnN0YXJ0UG9pbnQueSkqKHNlZ21lbnQxLnN0YXJ0UG9pbnQueC1zZWdtZW50Mi5zdGFydFBvaW50LngpKSAvIFxyXG4gICAgICAgICAgICAgICAgICgoc2VnbWVudDIuZW5kUG9pbnQueS1zZWdtZW50Mi5zdGFydFBvaW50LnkpKihzZWdtZW50MS5lbmRQb2ludC54LXNlZ21lbnQxLnN0YXJ0UG9pbnQueCkgLSAoc2VnbWVudDIuZW5kUG9pbnQueC1zZWdtZW50Mi5zdGFydFBvaW50LngpKihzZWdtZW50MS5lbmRQb2ludC55LXNlZ21lbnQxLnN0YXJ0UG9pbnQueSkpO1xyXG4gICAgICAgIGlmICh1QSA+PSAwICYmIHVBIDw9IDEgJiYgdUIgPj0gMCAmJiB1QiA8PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0xpbmVUb0FyY0NvbGxpc2lvbihzZWdtZW50MTogTGluZVNlZ21lbnQsIHNlZ21lbnQyOiBBcmNTZWdtZW50KTogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0FyY1RvQXJjQ29sbGlzaW9uKHNlZ21lbnQxOiBBcmNTZWdtZW50LCBzZWdtZW50MjogQXJjU2VnbWVudCk6IGJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuaW1wb3J0IHsgYmFja2dyb3VuZENhbnZhcywgYmFja2dyb3VuZENhbnZhc0N0eCwgZ3JpZFNpemUgfSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0dyaWQoKSB7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgYmFja2dyb3VuZENhbnZhcy53aWR0aCwgYmFja2dyb3VuZENhbnZhcy5oZWlnaHQpO1xuICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjMpJztcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgZm9yICh2YXIgeCA9IGdyaWRTaXplOyB4IDwgYmFja2dyb3VuZENhbnZhcy53aWR0aDsgeCArPSBncmlkU2l6ZSkge1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4Lm1vdmVUbyh4LCAwKTtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lVG8oeCwgYmFja2dyb3VuZENhbnZhcy5oZWlnaHQpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBmb3IgKHZhciB5ID0gZ3JpZFNpemU7IHkgPCBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodDsgeSArPSBncmlkU2l6ZSkge1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4Lm1vdmVUbygwLCB5KTtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lVG8oYmFja2dyb3VuZENhbnZhcy53aWR0aCwgeSk7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RvdChkb3RYOiBudW1iZXIsIGRvdFk6IG51bWJlciwgZG90U2l6ZTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmFyYyhcbiAgICAgICAgZG90WCxcbiAgICAgICAgZG90WSxcbiAgICAgICAgZG90U2l6ZSxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGJhY2tncm91bmRDYW52YXNDdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5maWxsKCk7XG5cbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJyb3coY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGZyb206IFZlY3RvciwgdG86IFZlY3Rvcikge1xuICAgIGlmIChmcm9tLnggIT0gdG8ueCAmJiBmcm9tLnkgIT0gdG8ueSkge1xuICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHRvLnkgLSBmcm9tLnksIHRvLnggLSBmcm9tLngpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IDEwO1xuICAgICAgICB2YXIgaGVhZExlbmd0aCA9IDEwO1xuICAgICAgICB2YXIgbmV3X3RvID0gbmV3IFZlY3Rvcih0by54LCB0by55KTtcbiAgICAgICAgLy8gVGhpcyBtYWtlcyBpdCBzbyB0aGUgZW5kIG9mIHRoZSBhcnJvdyBoZWFkIGlzIGxvY2F0ZWQgYXQgdG94LCB0b3ksIGRvbid0IGFzayB3aGVyZSAxLjE1IGNvbWVzIGZyb21cbiAgICAgICAgbmV3X3RvLnggLT0gTWF0aC5jb3MoYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcbiAgICAgICAgbmV3X3RvLnkgLT0gTWF0aC5zaW4oYW5nbGUpICogKCh3aWR0aCAqIDEuMTUpKTtcblxuXG5cbiAgICAgICAgLy9zdGFydGluZyBwYXRoIG9mIHRoZSBhcnJvdyBmcm9tIHRoZSBzdGFydCBzcXVhcmUgdG8gdGhlIGVuZCBzcXVhcmUgYW5kIGRyYXdpbmcgdGhlIHN0cm9rZVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oZnJvbS54LCBmcm9tLnkpO1xuICAgICAgICBjdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gd2lkdGg7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICAvL3N0YXJ0aW5nIGEgbmV3IHBhdGggZnJvbSB0aGUgaGVhZCBvZiB0aGUgYXJyb3cgdG8gb25lIG9mIHRoZSBzaWRlcyBvZiB0aGUgcG9pbnRcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKG5ld190by54LCBuZXdfdG8ueSk7XG4gICAgICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkTGVuZ3RoICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZExlbmd0aCAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcblxuICAgICAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBvZiB0aGUgYXJyb3csIHRvIHRoZSBvdGhlciBzaWRlIHBvaW50XG4gICAgICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkTGVuZ3RoICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZExlbmd0aCAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDcpKTtcblxuICAgICAgICAvL3BhdGggZnJvbSB0aGUgc2lkZSBwb2ludCBiYWNrIHRvIHRoZSB0aXAgb2YgdGhlIGFycm93LCBhbmQgdGhlbiBhZ2FpbiB0byB0aGUgb3Bwb3NpdGUgc2lkZSBwb2ludFxuICAgICAgICBjdHgubGluZVRvKG5ld190by54LCBuZXdfdG8ueSk7XG4gICAgICAgIGN0eC5saW5lVG8obmV3X3RvLnggLSBoZWFkTGVuZ3RoICogTWF0aC5jb3MoYW5nbGUgLSBNYXRoLlBJIC8gNyksIG5ld190by55IC0gaGVhZExlbmd0aCAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDcpKTtcblxuICAgICAgICAvL2RyYXdzIHRoZSBwYXRocyBjcmVhdGVkIGFib3ZlXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI2JiYmJiYlwiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gd2lkdGg7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiI2JiYmJiYlwiO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfVxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5pbXBvcnQgQXJjU2VnbWVudCBmcm9tIFwiLi9BcmNTZWdtZW50XCI7XHJcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tIFwiLi9MaW5lU2VnbWVudFwiO1xyXG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0TWFuYWdlciB7XHJcbiAgcHJpdmF0ZSBrZXlNYXA6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcbiAgcHJpdmF0ZSBzbmFrZTogU25ha2U7XHJcbiAgcHJpdmF0ZSBsZWZ0S2V5OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSByaWdodEtleTogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzbmFrZTogU25ha2UsIGxlZnRLZXk6IHN0cmluZywgcmlnaHRLZXk6IHN0cmluZykge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuc25ha2UgPSBzbmFrZTtcclxuICAgIHRoaXMubGVmdEtleSA9IGxlZnRLZXk7XHJcbiAgICB0aGlzLnJpZ2h0S2V5ID0gcmlnaHRLZXk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgLy9pZiBzbmFrZSBpcyBkZWFkLCBpZ25vcmUgdGhlIGtleSBwcmVzc2VzXHJcbiAgICBpZighdGhpcy5zbmFrZS5pc0FsaXZlKSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qga2V5ID0gZXZlbnQua2V5LnRvVXBwZXJDYXNlKCk7XHJcbiAgICBcclxuXHJcbiAgICAvL2lnbm9yZSBrZXlzIG5vdCBhc3NpZ25lZCB0byBzZWxmLCB0aGlzIHdvdWxkIHJlc3VsdCBpbiB0aGUga2V5bWFwIGhhdmluZyB1bm5lY2Vzc2FyeSBrZXlzIGFuZCB0cmlnZ2VyaW5nIHRoZSBvbmtleVVwIGV2ZW50c1xyXG4gICAgaWYoa2V5ICE9IHRoaXMubGVmdEtleSAmJiBrZXkgIT0gdGhpcy5yaWdodEtleSl7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvL3N3aXRjaCBvZmYgdGhlIGN1cnJlbnQgZG93biBrZXkgaWYgdGhlIG90aGVyIGRpcmVjdGlvbiBpcyBwcmVzc2VkXHJcbiAgICBpZiAodGhpcy5rZXlNYXBbdGhpcy5yaWdodEtleV0gJiYga2V5ID09IHRoaXMubGVmdEtleSkge1xyXG4gICAgICB0aGlzLmtleU1hcFt0aGlzLnJpZ2h0S2V5XSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5rZXlNYXBbdGhpcy5sZWZ0S2V5XSAmJiBrZXkgPT0gdGhpcy5yaWdodEtleSkge1xyXG4gICAgICB0aGlzLmtleU1hcFt0aGlzLmxlZnRLZXldID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvL3JldHVybiBpZiB0aGUga2V5IGlzIGFscmFlZHkgaW4gdGhlIG1hcCwgcHJldmVudHMgYXV0b2NsaWNraW5nXHJcbiAgICBlbHNlIGlmICh0aGlzLmtleU1hcFtrZXldKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgdGhpcy5rZXlNYXBba2V5XSA9IHRydWU7XHJcblxyXG5cclxuICAgIGxldCBoZWFkID0gdGhpcy5zbmFrZS5oZWFkO1xyXG4gICAgbGV0IGVuZFBvaW50ID0gaGVhZC5lbmRQb2ludDtcclxuICAgIGxldCB0YW5nZW50QW5nbGUgPSAwO1xyXG5cclxuICAgIC8vY2FsY3VsYXRlIHRoZSBzdGFydGluZyB0YW5nZW50IGFuZ2xlIG9mIHRoZSBsaW5lXHJcbiAgICBpZiAoaGVhZCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XHJcbiAgICAgIHRhbmdlbnRBbmdsZSArPSBNYXRoLlBJIC8gMjtcclxuXHJcbiAgICAgIGlmIChrZXkgPT0gdGhpcy5yaWdodEtleSkge1xyXG4gICAgICAgIHRoaXMuc25ha2UuYWRkU2VnbWVudChuZXcgQXJjU2VnbWVudChuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgZW5kUG9pbnQueCArIHRoaXMuc25ha2UudHVyblJhZGl1cyAqIE1hdGguY29zKHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSArIHRhbmdlbnRBbmdsZSksXHJcbiAgICAgICAgICBlbmRQb2ludC55ICsgdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5zaW4odGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlKSksXHJcbiAgICAgICAgICB0aGlzLnNuYWtlLnR1cm5SYWRpdXMsIHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSAtIHRhbmdlbnRBbmdsZSwgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlLCBmYWxzZSwgaGVhZC5pc0NvbGxpZGFibGUpKVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gdGhpcy5sZWZ0S2V5KSB7XHJcbiAgICAgICAgdGhpcy5zbmFrZS5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICBlbmRQb2ludC54ICsgdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5jb3ModGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlKSxcclxuICAgICAgICAgIGVuZFBvaW50LnkgKyB0aGlzLnNuYWtlLnR1cm5SYWRpdXMgKiBNYXRoLnNpbih0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgLSB0YW5nZW50QW5nbGUpKSxcclxuICAgICAgICAgIHRoaXMuc25ha2UudHVyblJhZGl1cywgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlLCB0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgKyB0YW5nZW50QW5nbGUsIHRydWUsIGhlYWQuaXNDb2xsaWRhYmxlKSlcclxuICAgICAgfVxyXG5cclxuICAgIH0gXHJcbiAgICAvLyBcclxuICAgIGVsc2UgaWYgKGhlYWQgaW5zdGFuY2VvZiBBcmNTZWdtZW50KSB7XHJcblxyXG4gICAgICB0YW5nZW50QW5nbGUgPSBoZWFkLmlzQ291bnRlckNsb2Nrd2lzZSA/IC1NYXRoLlBJIDogTWF0aC5QSTtcclxuICAgICAgaWYgKGtleSA9PSB0aGlzLnJpZ2h0S2V5KSB7XHJcbiAgICAgICAgdGhpcy5zbmFrZS5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICBlbmRQb2ludC54IC0gdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5jb3ModGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlKSxcclxuICAgICAgICAgIGVuZFBvaW50LnkgLSB0aGlzLnNuYWtlLnR1cm5SYWRpdXMgKiBNYXRoLnNpbih0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgKyB0YW5nZW50QW5nbGUpKSxcclxuICAgICAgICAgIHRoaXMuc25ha2UudHVyblJhZGl1cywgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlLCB0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgLSB0YW5nZW50QW5nbGUsIGZhbHNlLCBoZWFkLmlzQ29sbGlkYWJsZSkpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSB0aGlzLmxlZnRLZXkpIHtcclxuICAgICAgICB0aGlzLnNuYWtlLmFkZFNlZ21lbnQobmV3IEFyY1NlZ21lbnQobmV3IFZlY3RvcihcclxuICAgICAgICAgIGVuZFBvaW50LnggLSB0aGlzLnNuYWtlLnR1cm5SYWRpdXMgKiBNYXRoLmNvcyh0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgLSB0YW5nZW50QW5nbGUpLFxyXG4gICAgICAgICAgZW5kUG9pbnQueSAtIHRoaXMuc25ha2UudHVyblJhZGl1cyAqIE1hdGguc2luKHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSAtIHRhbmdlbnRBbmdsZSkpLFxyXG4gICAgICAgICAgdGhpcy5zbmFrZS50dXJuUmFkaXVzLCB0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgKyB0YW5nZW50QW5nbGUsIHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSArIHRhbmdlbnRBbmdsZSwgdHJ1ZSwgaGVhZC5pc0NvbGxpZGFibGUpKVxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gIH1cclxuICBwcml2YXRlIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIC8vaWYgc25ha2UgaXMgZGVhZCwgaWdub3JlIHRoZSBrZXkgcHJlc3Nlc1xyXG4gICAgaWYoIXRoaXMuc25ha2UuaXNBbGl2ZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXkudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAvL2NoZWNrIGlmIHRoZSBrZXkgaXMgaW4gdGhlIGtleW1hcCwgaWYgbm90IGp1c3QgaWdub3JlIGl0XHJcbiAgICBpZiAoIXRoaXMua2V5TWFwW2tleV0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5rZXlNYXBba2V5XSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHRoaXMuc25ha2UuaGVhZCk7XHJcblxyXG4gICAgbGV0IGhlYWQgPSB0aGlzLnNuYWtlLmhlYWQ7XHJcbiAgICBsZXQgZW5kUG9pbnQgPSBoZWFkLmVuZFBvaW50O1xyXG4gICAgbGV0IGFuZ2xlID0gaGVhZC5lbmRBbmdsZTtcclxuXHJcbiAgICBpZiAoa2V5ID09IHRoaXMubGVmdEtleSAmJiBoZWFkIGluc3RhbmNlb2YgQXJjU2VnbWVudCAmJiBoZWFkLmlzQ291bnRlckNsb2Nrd2lzZSgpKSB7XHJcblxyXG4gICAgICBhbmdsZSAtPSBNYXRoLlBJIC8gMjtcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09IHRoaXMucmlnaHRLZXkgJiYgaGVhZCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQgJiYgIWhlYWQuaXNDb3VudGVyQ2xvY2t3aXNlKCkpIHtcclxuXHJcbiAgICAgIGFuZ2xlICs9IE1hdGguUEkgLyAyO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgdGhpcy5zbmFrZS5hZGRTZWdtZW50KG5ldyBMaW5lU2VnbWVudChlbmRQb2ludCxcclxuICAgICAgbmV3IFZlY3RvcihlbmRQb2ludC54ICsgNSAqIE1hdGguY29zKGFuZ2xlKSwgZW5kUG9pbnQueSArIDUgKiBNYXRoLnNpbihhbmdsZSkpLCBoZWFkLmlzQ29sbGlkYWJsZSAsYW5nbGUpKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuc25ha2UuaGVhZCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLmJpbmQodGhpcykpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwLmJpbmQodGhpcykpO1xyXG4gIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XHJcbmltcG9ydCBTZWdtZW50IGZyb20gXCIuL1NlZ21lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVTZWdtZW50IGV4dGVuZHMgU2VnbWVudCB7XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGFydFBvaW50OiBWZWN0b3I7XHJcbiAgICBwdWJsaWMgZW5kUG9pbnQ6IFZlY3RvcjtcclxuICAgIHB1YmxpYyBlbmRBbmdsZTogbnVtYmVyO1xyXG4gICAgcHVibGljIGlzQ29sbGlkYWJsZTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RhcnQ6IFZlY3RvciwgZW5kOiBWZWN0b3IsIGlzQ29sbGlkYWJsZTogYm9vbGVhbiwgYW5nbGU/OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb2ludCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBlbmQ7XHJcbiAgICAgICAgdGhpcy5pc0NvbGxpZGFibGUgPSBpc0NvbGxpZGFibGU7XHJcbiAgICAgICAgdGhpcy5lbmRBbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2ZmMDBmZmZmJ1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsaWRhYmxlID09IHRydWUpe1xyXG4gICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh0aGlzLnN0YXJ0UG9pbnQueCwgdGhpcy5zdGFydFBvaW50LnkpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLmVuZFBvaW50LngsIHRoaXMuZW5kUG9pbnQueSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjYWxjRW5kQW5nbGUoKTogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4oKHRoaXMuZW5kUG9pbnQueSAtIHRoaXMuc3RhcnRQb2ludC55KSAvICh0aGlzLmVuZFBvaW50LnggLSB0aGlzLnN0YXJ0UG9pbnQueCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSwgeyBzaGFwZSB9IGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbURpcmVjdGlvbiB9IGZyb20gXCIuL1BhcnRpY2xlU3lzdGVtVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtaXR0ZXJ7XHJcbiAgICBwcml2YXRlIGFsaXZlUGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjtcclxuICAgIHB1YmxpYyBlbWl0VGltZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHNoYXBlOiBzaGFwZTtcclxuICAgIHB1YmxpYyBzaXplOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3BlZWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBjb2xvcjoge3I6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcn07XHJcbiAgICBwdWJsaWMgZmFkZUNvbG9yOiBib29sZWFuO1xyXG4gICAgcHVibGljIGZhZGVTaXplOiBib29sZWFuO1xyXG4gICAgcHVibGljIHBhcnRpY2xlTWF4QWdlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwdWJsaWMgZW1pdFRpbWVNaWxsaXM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGlja3M6IG51bWJlciA9IDA7XHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogVmVjdG9yLCBlbWl0SW50ZXJ2YWw6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCBzaGFwZTogc2hhcGUgPSAnY2lyY2xlJywgY29sb3I6IHtyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXJ9LCBjYW52YXNDdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCAgZmFkZUNvbG9yOiBib29sZWFuID0gdHJ1ZSwgZmFkZVNpemU6IGJvb2xlYW4gPSB0cnVlLCBhZ2U6IG51bWJlciwgZW1pdFRpbWVNaWxsaXM6IG51bWJlciA9IDApe1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgdGhpcy5lbWl0VGltZSA9IGVtaXRJbnRlcnZhbDtcclxuICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XHJcbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLmNhbnZhc0N0eCA9IGNhbnZhc0N0eDtcclxuICAgIHRoaXMuZmFkZUNvbG9yID0gZmFkZUNvbG9yO1xyXG4gICAgdGhpcy5mYWRlU2l6ZSA9IGZhZGVTaXplOyBcclxuICAgIHRoaXMucGFydGljbGVNYXhBZ2UgPSBhZ2U7XHJcbiAgICB0aGlzLmVtaXRUaW1lTWlsbGlzID0gZW1pdFRpbWVNaWxsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpY2soZHQ6IG51bWJlcil7XHJcbiAgICAgICAgaWYgKCh0aGlzLmVtaXRUaW1lTWlsbGlzICsgdGhpcy5wYXJ0aWNsZU1heEFnZSkgPCAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdFRpbWVNaWxsaXMgLT0gZHQ7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy50aWNrcyAlIHRoaXMuZW1pdFRpbWUgPT0gMCAmJiB0aGlzLmVtaXRUaW1lTWlsbGlzID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLnRpY2soZHQpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMgPSB0aGlzLmFsaXZlUGFydGljbGVzLmZpbHRlcihwYXJ0aWNsZSA9PiBwYXJ0aWNsZS5hZ2UgPiAwKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudGlja3MrKztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpe1xyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLmRyYXcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5leHBvcnQgdHlwZSBzaGFwZSA9ICdjaXJjbGUnIHwgJ3NxdWFyZSc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlIHtcclxuICAgIHBvc2l0aW9uOiBWZWN0b3I7XHJcbiAgICB2ZWxvY2l0eTogVmVjdG9yO1xyXG4gICAgc2hhcGU6IHNoYXBlO1xyXG4gICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgc3BlZWQ6IG51bWJlcjtcclxuICAgIGNvbG9yOiB7cjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyfTtcclxuICAgIGZhZGVDb2xvcjogYm9vbGVhbjtcclxuICAgIGZhZGVTaXplOiBib29sZWFuO1xyXG4gICAgYWdlOiBudW1iZXI7XHJcbiAgICBjYW52YXNDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgc2l6ZUZhZGVBbW91bnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29sb3JGYWRlQW1vdW50OiBudW1iZXI7XHJcblxyXG4gXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBWZWN0b3IsIHZlbG9jaXR5OiBWZWN0b3IsIHNpemU6IG51bWJlciwgc3BlZWQ6IG51bWJlciwgIHNoYXBlOiBzaGFwZSA9ICdjaXJjbGUnLCBjb2xvcjoge3I6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcn0sIGNhbnZhc0N0eDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGFnZTogbnVtYmVyLCAgZmFkZUNvbG9yPzogYm9vbGVhbiwgZmFkZVNpemU/OiBib29sZWFuKXtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHZlbG9jaXR5O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSBjYW52YXNDdHg7XHJcbiAgICAgICAgdGhpcy5mYWRlQ29sb3IgPSBmYWRlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5mYWRlU2l6ZSA9IGZhZGVTaXplOyBcclxuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcclxuICAgICAgICB0aGlzLmNvbG9yRmFkZUFtb3VudCA9IHRoaXMuY29sb3IuYS90aGlzLmFnZTtcclxuICAgICAgICB0aGlzLnNpemVGYWRlQW1vdW50ID0gdGhpcy5zaXplL3RoaXMuYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0aWNrKGR0OiBudW1iZXIpe1xyXG5cclxuICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5LmNsb25lKCkubXVsdGlwbHlCeVNjYWxhcihkdCAqIHRoaXMuc3BlZWQpKTtcclxuICAgICAgICBpZih0aGlzLmZhZGVDb2xvcil7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IuYSAtPSB0aGlzLmNvbG9yRmFkZUFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5mYWRlU2l6ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSAtPSAgdGhpcy5zaXplRmFkZUFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZ2UtLTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpe1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4Lm1vdmVUbyh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYHJnYmEoJHt0aGlzLmNvbG9yLnJ9LCR7dGhpcy5jb2xvci5nfSwgJHt0aGlzLmNvbG9yLmJ9LCAke3RoaXMuY29sb3IuYX0pYDtcclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc2hhcGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmFyYyh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgdGhpcy5zaXplLCAwLCAyKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NxdWFyZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsUmVjdCh0aGlzLnBvc2l0aW9uLngtdGhpcy5zaXplLCB0aGlzLnBvc2l0aW9uLnktdGhpcy5zaXplLCB0aGlzLnNpemUqMiwgdGhpcy5zaXplKjIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbURpcmVjdGlvbigpOiBWZWN0b3J7XHJcblxyXG4gICAgcmV0dXJuKG5ldyBWZWN0b3IoTWF0aC5yYW5kb20oKSoyLTEsIE1hdGgucmFuZG9tKCkqMi0xKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhleFRvUmdiKGhleDogc3RyaW5nKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XHJcbiAgICByZXR1cm4gcmVzdWx0ID8ge1xyXG4gICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcclxuICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXHJcbiAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXHJcbiAgICB9IDogbnVsbDtcclxuICB9IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFNlZ21lbnQge1xuICAgIGFic3RyYWN0IGlzQ29sbGlkYWJsZTogYm9vbGVhbjtcbiAgICBhYnN0cmFjdCBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZyk6IHZvaWQ7XG4gICAgYWJzdHJhY3QgZ2V0IGVuZEFuZ2xlKCk6IG51bWJlcjtcbiAgICBhYnN0cmFjdCBnZXQgZW5kUG9pbnQoKTogVmVjdG9yO1xufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gXCIuL0xpbmVTZWdtZW50XCI7XG5pbXBvcnQgU2VnbWVudCBmcm9tIFwiLi9TZWdtZW50XCI7XG5pbXBvcnQgRW1pdHRlciBmcm9tIFwiLi9QYXJ0aWNsZVN5c3RlbS9FbWl0dGVyXCI7XG5pbXBvcnQgeyBoZXhUb1JnYiB9IGZyb20gXCIuL1BhcnRpY2xlU3lzdGVtL1BhcnRpY2xlU3lzdGVtVXRpbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2Uge1xuICAgIHB1YmxpYyBzZWdtZW50czogU2VnbWVudFtdID0gW107XG4gICAgcHJpdmF0ZSBjb2xvcjogc3RyaW5nO1xuICAgIHB1YmxpYyBpc0FsaXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgdHVyblJhZGl1czogbnVtYmVyID0gMTMwO1xuICAgIHByaXZhdGUgZW1pdHRlcjogRW1pdHRlciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cblxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0UG9zOiBMaW5lU2VnbWVudCwgY29sb3I6IHN0cmluZywgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgICAgICB0aGlzLmFkZFNlZ21lbnQoc3RhcnRQb3MpO1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuY2FudmFzQ3R4ID0gY2FudmFzQ3R4XG4gICAgfVxuICAgIGFkZFNlZ21lbnQoc2VnbWVudDogU2VnbWVudCkge1xuICAgICAgICB0aGlzLnNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgZ2V0IGhlYWQoKTogU2VnbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzLnNsaWNlKC0xKS5wb3AoKTtcbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICB0aGlzLmNhbnZhc0N0eC5saW5lV2lkdGggPSAxMjtcbiAgICAgICAgLy9UT0RPIGZpeCB0aGlzIHRvIGJlIGEgc2luZ2xlIHBhdGhcbiAgICAgICAgLy8gY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgXG5cblxuICAgICAgICB0aGlzLnNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5kcmF3KHRoaXMuY2FudmFzQ3R4LCB0aGlzLmNvbG9yKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWFkICE9IHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpe1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50LmRyYXdEZWJ1Zyhjb250ZXh0LCAnIzY2NjY2NicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYXJjKHNlZ21lbnQuY2VudGVyLngsIHNlZ21lbnQuY2VudGVyLnksIHNlZ21lbnQucmFkaXVzLCBzZWdtZW50LmVuZEFuZ2xlLCBzZWdtZW50LmVuZEFuZ2xlLCBzZWdtZW50LmlzQ291bnRlckNsb2Nrd2lzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWdtZW50IGluc3RhbmNlb2YgTGluZVNlZ21lbnQpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubW92ZVRvKHNlZ21lbnQuZW5kUG9pbnQueCwgc2VnbWVudC5lbmRQb2ludC55KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVRvKHNlZ21lbnQuZW5kUG9pbnQueCwgc2VnbWVudC5lbmRQb2ludC55KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgbW92ZShkaXN0YW5jZTogbnVtYmVyKSB7XG4gICAgICAgIC8vZG8gbm90IG1vdmUgaXMgZGVhZCwgc2ltcGxlXG4gICAgICAgIGlmICghdGhpcy5pc0FsaXZlKSByZXR1cm47XG5cbiAgICAgICAgLy8gZG8gbm90IG1vdmUgaWYgc25ha2UgaGFzIG5vIHNlZ21lbnRzXG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gdGhpcy5oZWFkO1xuICAgICAgICBpZiAoIWxhc3RTZWdtZW50KSByZXR1cm47XG5cbiAgICAgICAgXG4gICAgICAgIGlmIChsYXN0U2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBkeCA9IGRpc3RhbmNlICogTWF0aC5jb3MobGFzdFNlZ21lbnQuZW5kQW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgZHkgPSBkaXN0YW5jZSAqIE1hdGguc2luKGxhc3RTZWdtZW50LmVuZEFuZ2xlKTtcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAvL1RPRE8gY2hhbmdlIHRvIGEgdGltZSBiYXNlZCBzeXN0ZW1cbiAgICAgICAgICAgIC8vY2hhbmNlIHRvIG1ha2UgYSBuZXcgc2VnbWVudCB0aGF0IGlzIG5vbiBjb2xsaWRhYmxlXG4gICAgICAgICAgICBpZiggbGFzdFNlZ21lbnQuaXNDb2xsaWRhYmxlICYmIE1hdGgucmFuZG9tKCk+MC45OSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTZWdtZW50KG5ldyBMaW5lU2VnbWVudCAobGFzdFNlZ21lbnQuZW5kUG9pbnQsIG5ldyBWZWN0b3IobGFzdFNlZ21lbnQuZW5kUG9pbnQueCArIGR4LCBsYXN0U2VnbWVudC5lbmRQb2ludC55ICsgZHkpICwgZmFsc2UsIGxhc3RTZWdtZW50LmVuZEFuZ2xlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggIWxhc3RTZWdtZW50LmlzQ29sbGlkYWJsZSAmJiBNYXRoLnJhbmRvbSgpPjAuOTcpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2VnbWVudChuZXcgTGluZVNlZ21lbnQgKGxhc3RTZWdtZW50LmVuZFBvaW50LCBuZXcgVmVjdG9yKGxhc3RTZWdtZW50LmVuZFBvaW50LnggKyBkeCwgbGFzdFNlZ21lbnQuZW5kUG9pbnQueSArIGR5KSAsIHRydWUsIGxhc3RTZWdtZW50LmVuZEFuZ2xlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0VuZCA9IG5ldyBWZWN0b3IobGFzdFNlZ21lbnQuZW5kUG9pbnQueCArIGR4LCBsYXN0U2VnbWVudC5lbmRQb2ludC55ICsgZHkpO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnQuZW5kUG9pbnQgPSBuZXdFbmQ7XG5cbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBpZiAobGFzdFNlZ21lbnQgaW5zdGFuY2VvZiBBcmNTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZUV4dGVuc2lvbiA9IGRpc3RhbmNlIC8gbGFzdFNlZ21lbnQucmFkaXVzO1xuXG4gICAgICAgICAgICAvL2NoYW5jZSB0byBtYWtlIGEgbmV3IHNlZ21lbnQgdGhhdCBpcyBub24gY29sbGlkYWJsZVxuICAgICAgICAgICAgaWYoIGxhc3RTZWdtZW50LmlzQ29sbGlkYWJsZSAmJiBNYXRoLnJhbmRvbSgpPjAuOTkpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2VnbWVudChuZXcgQXJjU2VnbWVudCAobGFzdFNlZ21lbnQuY2VudGVyLCBsYXN0U2VnbWVudC5yYWRpdXMsIGxhc3RTZWdtZW50LmVuZEFuZ2xlLCBsYXN0U2VnbWVudC5lbmRBbmdsZSwgbGFzdFNlZ21lbnQuaXNDb3VudGVyQ2xvY2t3aXNlKCksIGZhbHNlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggIWxhc3RTZWdtZW50LmlzQ29sbGlkYWJsZSAmJiBNYXRoLnJhbmRvbSgpPjAuOTcpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2VnbWVudChuZXcgQXJjU2VnbWVudCAobGFzdFNlZ21lbnQuY2VudGVyLCBsYXN0U2VnbWVudC5yYWRpdXMsIGxhc3RTZWdtZW50LmVuZEFuZ2xlLCBsYXN0U2VnbWVudC5lbmRBbmdsZSwgbGFzdFNlZ21lbnQuaXNDb3VudGVyQ2xvY2t3aXNlKCksIHRydWUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAobGFzdFNlZ21lbnQuaXNDb3VudGVyQ2xvY2t3aXNlKCkpe1xuICAgICAgICAgICAgbGFzdFNlZ21lbnQuZW5kQW5nbGUgPWxhc3RTZWdtZW50LmVuZEFuZ2xlIC0gYW5nbGVFeHRlbnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50LmVuZEFuZ2xlID1sYXN0U2VnbWVudC5lbmRBbmdsZSArIGFuZ2xlRXh0ZW5zaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAga2lsbCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTTkFLRSBERUFEXCIpXG4gICAgICAgIHRoaXMuaXNBbGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcih0aGlzLmhlYWQuZW5kUG9pbnQsIDEsIDcsIDIsICdjaXJjbGUnLCB7Li4uIGhleFRvUmdiKHRoaXMuY29sb3IpLCBhOiAxfSwgdGhpcy5jYW52YXNDdHgsIHRydWUsIHRydWUsIDcwLCA0KTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbWl0dGVyKGR0OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuZW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLnRpY2soZHQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmRyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xuaW1wb3J0IHsgZHJhd0dyaWQgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcbmltcG9ydCBJbnB1dE1hbmFnZXIgZnJvbSBcIi4vSW5wdXRNYW5hZ2VyXCI7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSBcIi4vTGluZVNlZ21lbnRcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9TbmFrZVwiO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4vUGFydGljbGVTeXN0ZW0vRW1pdHRlclwiO1xuaW1wb3J0IENvbGxpc2lvbkhhbmRsZXIgZnJvbSBcIi4vQ29sbGlzaW9uSGFuZGxlclwiO1xuXG52YXIgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5mcHNDb3VudGVyLnN0eWxlLnRvcCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUuY29sb3IgPSAnYmxhY2snO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcHNDb3VudGVyKTtcbmV4cG9ydCB2YXIgZnBzID0gNjA7XG5cbmV4cG9ydCB2YXIgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgZ2FtZUNhbnZhc0N0eCA9IGdhbWVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhc0N0eCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbmJhY2tncm91bmRDYW52YXMhLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuZ2FtZUNhbnZhcyEud2lkdGggPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuZ2FtZUNhbnZhcyEuaGVpZ2h0ID0gZ2FtZUNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5leHBvcnQgdmFyIGdyaWRTaXplID0gNjA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XG4gICAgZ2FtZUNhbnZhcy53aWR0aCA9IGdhbWVDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgZ2FtZUNhbnZhcy5oZWlnaHQgPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIGRyYXdHcmlkKCk7XG4gICAgcGxheWVyT25lU25ha2UuZHJhdygpO1xuICAgIHBsYXllclR3b1NuYWtlLmRyYXcoKTtcbiAgfVxuXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIHZhciBtdWx0ID0gZnBzIC8gNjA7XG4gICAgZnJhbWVDb3VudCsrO1xuICAgIGlmIChmcmFtZUNvdW50ICUgMTAgPT09IDApIHtcbiAgICAgICAgZnBzID0gY2FsY3VsYXRlRlBTKCk7XG4gICAgICAgIGZwc0NvdW50ZXIuaW5uZXJUZXh0ID0gYEZQUzogJHtmcHN9YDtcbiAgICB9XG4gICAgZ2FtZUNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgZ2FtZUNhbnZhcy53aWR0aCwgZ2FtZUNhbnZhcy5oZWlnaHQpO1xuXG4gICAgcGxheWVyT25lU25ha2UuZHJhdygpO1xuICAgIHBsYXllck9uZVNuYWtlLm1vdmUoMik7XG4gICAgXG4gICAgcGxheWVyVHdvU25ha2UuZHJhdygpO1xuICAgIHBsYXllclR3b1NuYWtlLm1vdmUoMik7XG5cbiAgICBwbGF5ZXJPbmVTbmFrZS51cGRhdGVFbWl0dGVyKDAuMyk7XG4gICAgcGxheWVyVHdvU25ha2UudXBkYXRlRW1pdHRlcigwLjMpO1xuXG4gICAgY29sbGlzaW9uSGFuZGxlci5jaGVja0NvbGxpc2lvbnMoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgXG4gICAgLy8gZW1pdHRlci50aWNrKDAuMyk7XG4gICAgLy8gZW1pdHRlci5kcmF3KCk7XG59XG52YXIgZnJhbWVDb3VudCA9IDA7XG52YXIgbGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAvIDEwO1xuZnVuY3Rpb24gY2FsY3VsYXRlRlBTKCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTA7XG4gICAgdmFyIHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTtcbiAgICB2YXIgZnBzID0gTWF0aC5yb3VuZCgxMDAwIC8gdGltZURpZmYpO1xuICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgcmV0dXJuIGZwcztcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlQ2FudmFzU2l6ZSk7XG5kcmF3R3JpZCgpO1xuY29uc3QgcGxheWVyT25lU25ha2UgPSBuZXcgU25ha2UobmV3IExpbmVTZWdtZW50KG5ldyBWZWN0b3IoMTAwLCAxMDApLCBuZXcgVmVjdG9yKDExMCwgMTEwKSwgdHJ1ZSAsTWF0aC5QSS80KSwgXCIjZmYwMDg4XCIsIGdhbWVDYW52YXNDdHgpO1xuY29uc3QgcGxheWVyVHdvU25ha2UgPSBuZXcgU25ha2UobmV3IExpbmVTZWdtZW50KG5ldyBWZWN0b3IoMzAwLCAzMDApLCBuZXcgVmVjdG9yKDI5NSwgMjk1KSwgdHJ1ZSAsTWF0aC5QSS80KSwgXCIjMzNlZTU1XCIsIGdhbWVDYW52YXNDdHgpO1xuXG5jb25zdCBwbGF5ZXJPbmVJbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHBsYXllck9uZVNuYWtlLCAnQScsICdEJyk7XG5jb25zdCBwbGF5ZXJUd29JbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHBsYXllclR3b1NuYWtlLCAnSicsICdMJyk7XG5jb25zdCBjb2xsaXNpb25IYW5kbGVyID0gbmV3IENvbGxpc2lvbkhhbmRsZXIoW3BsYXllck9uZVNuYWtlLCBwbGF5ZXJUd29TbmFrZV0pXG4vLyBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIobmV3IFZlY3RvcihnYW1lQ2FudmFzLndpZHRoLzIsIGdhbWVDYW52YXMuaGVpZ2h0LzIpLCAyLCAxMCwgNSwgJ2NpcmNsZScsIHtyOjI1NSwgZzowLCBiOjI1NSwgYTowLjV9LCBnYW1lQ2FudmFzQ3R4LCB0cnVlLCB0cnVlLCAyMDApXG5cbi8vIHNuYWtlLmFkZFNlZ21lbnQobmV3IExpbmVTZWdtZW50KG5ldyBWZWN0b3IoMTAwLCAxMDApLCBuZXcgVmVjdG9yKDIwMCwgMjAwKSkpO1xuLy8gc25ha2UuYWRkU2VnbWVudChuZXcgTGluZVNlZ21lbnQobmV3IFZlY3RvcigxMDAsIDEwMCksIG5ldyBWZWN0b3IoMjAwLCAyMDApKSk7XG4vLyBzbmFrZS5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KG5ldyBWZWN0b3IoMTAwLCAxMDApLCA1MCwgMC41LCAxKSk7XG5wbGF5ZXJPbmVTbmFrZS5kcmF3KCk7XG5wbGF5ZXJUd29TbmFrZS5kcmF3KCk7XG5cbnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogVGhlc2UgdmFsdWVzIGFyZSB1c2VkIGJ5IHRoZSBgQWJzdHJhY3RWZWN0b3Iucm91bmRgIG1ldGhvZCB0byBpbmNyZWFzZVxuICogcGVyZm9ybWFuY2UgdnMuIHVzaW5nICBOdW1iZXIudG9GaXhlZC5cbiAqL1xudmFyIHByZWNpc2lvbiA9IFtcbiAgICAxLFxuICAgIDEwLFxuICAgIDEwMCxcbiAgICAxMDAwLFxuICAgIDEwMDAwLFxuICAgIDEwMDAwMCxcbiAgICAxMDAwMDAwLFxuICAgIDEwMDAwMDAwLFxuICAgIDEwMDAwMDAwMCxcbiAgICAxMDAwMDAwMDAwLFxuICAgIDEwMDAwMDAwMDAwXG5dO1xuLyoqXG4gKiBUaGUgY2xhc3MgdGhhdCBhbGwgb3RoZXIgdmVjdG9yIHJlcHJlc2VudGF0aW9ucyBhcmUgZGVyaXZlZCBmcm9tLlxuICpcbiAqIENvbnRhaW5zIHRoZSBjb3JlIGltcGxlbWVudGF0aW9uIGZvciBhbGwgbWV0aG9kcyB0aGF0IHdpbGwgYmUgZXhwb3NlZCBieVxuICogdmVjdG9yIGluc3RhbmNlcy5cbiAqXG4gKiBFeGFtcGxlIG9mIGNyZWF0aW5nIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBBYnN0cmFjdFZlY3RvciB9IGZyb20gXCIuL0Fic3RyYWN0VmVjdG9yXCJcbiAqXG4gKiBleHBvcnQgY2xhc3MgTXlDdXN0b21WZWN0b3IgZXh0ZW5kcyBBYnN0cmFjdFZlY3RvciB7XG4gKiAgY29uc3RydWN0b3IgKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gKiAgICBzdXBlcihDdXN0b21WZWN0b3JUeXBlKVxuICogIH1cbiAqIH1cbiAqIGBgYFxuICovXG52YXIgQWJzdHJhY3RWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RWZWN0b3IoY3Rvcikge1xuICAgICAgICB0aGlzLmN0b3IgPSBjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYm90aCB4IGFuZCB5IGF4aXMgdmFsdWVcbiAgICAgKiBAcGFyYW0geCAgIE5ldyB4IHZhbFxuICAgICAqIEBwYXJhbSB5ICAgTmV3IHkgdmFsXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnNldEF4ZXMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHRlciBmb3IgeCB0aGUgYXhpcyB2YWx1ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5nZXRYID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dGVyIGZvciB4IGF4aXMgdmFsdWVcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuc2V0WCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0dGVyIGZvciB5IGF4aXMgdmFsdWVcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHRlciBmb3IgeSBheGlzLlxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5zZXRZID0gZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZlY3RvciBhcyBhIGZvcm1hdHRlZCBzdHJpbmcsIGUuZyBcIigwLCA0KVwiXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHJvdW5kKSB7XG4gICAgICAgIGlmIChyb3VuZCA9PT0gdm9pZCAwKSB7IHJvdW5kID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIoXCIgKyBNYXRoLnJvdW5kKHRoaXMueCkgKyBcIiwgXCIgKyBNYXRoLnJvdW5kKHRoaXMueSkgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCIoXCIgKyB0aGlzLnggKyBcIiwgXCIgKyB0aGlzLnkgKyBcIilcIjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBBcnJheSBjb250YWluaW5nIHRoZSB2ZWN0b3IgYXhlcywgZS5nIFswLCA0XVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBPYmplY3QgY29udGFpbmluZyB0aGUgdmVjdG9yIGF4ZXMsIGUuZyB7IHg6IDAsIHk6IDQgfVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBwcm92aWRlZCB2ZWN0b3IgdG8gdGhpcyBvbmVcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZlYykge1xuICAgICAgICB0aGlzLnggKz0gdmVjLng7XG4gICAgICAgIHRoaXMueSArPSB2ZWMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0aGUgcHJvdmlkZWQgdmVjdG9yIGZyb20gdGhpcyBvbmVcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCAtPSB2ZWMueDtcbiAgICAgICAgdGhpcy55IC09IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBwcm92aWRlZCB2ZWN0b3IgZXF1YWwgdG8gdGhpcyBvbmVcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHZlYykge1xuICAgICAgICByZXR1cm4gdmVjLnggPT09IHRoaXMueCAmJiB2ZWMueSA9PT0gdGhpcy55O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyB2ZWN0b3IgYnkgdGhlIHByb3ZpZGVkIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5tdWx0aXBseUJ5VmVjdG9yID0gZnVuY3Rpb24gKHZlYykge1xuICAgICAgICB0aGlzLnggKj0gdmVjLng7XG4gICAgICAgIHRoaXMueSAqPSB2ZWMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bFYgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5QnlWZWN0b3IodmVjKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpdmlkZUJ5VmVjdG9yID0gZnVuY3Rpb24gKHZlYykge1xuICAgICAgICB0aGlzLnggLz0gdmVjLng7XG4gICAgICAgIHRoaXMueSAvPSB2ZWMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdGhpcyB2ZWN0b3IgYnkgdGhlIHByb3ZpZGVkIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5kaXZWID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlQnlWZWN0b3Iodik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgbnVtYmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bHRpcGx5QnlTY2FsYXIgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB0aGlzLnggKj0gbjtcbiAgICAgICAgdGhpcy55ICo9IG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGhpcyB2ZWN0b3IgYnkgdGhlIHByb3ZpZGVkIG51bWJlclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5tdWxTID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeVNjYWxhcihuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpdml2ZSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgbnVtYmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpdmlkZUJ5U2NhbGFyID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdGhpcy54IC89IG47XG4gICAgICAgIHRoaXMueSAvPSBuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpdml2ZSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgbnVtYmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpdlMgPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZpZGVCeVNjYWxhcihuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGlzZSB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5ub3JtYWxpc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmlkZUJ5U2NhbGFyKHRoaXMubWFnbml0dWRlKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9yIEFtZXJpY2FuIHNwZWxsaW5nLiBTYW1lIGFzIHVuaXQvbm9ybWFsaXNlIGZ1bmN0aW9uXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgc2FtZSBhcyBub3JtYWxpc2UgYW5kIG5vcm1hbGl6ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS51bml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpc2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5tYWduaXR1ZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4ID0gdGhpcy54O1xuICAgICAgICB2YXIgeSA9IHRoaXMueTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hZ25pdHVkZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3F1cmVkIGxlbmd0aCBvZiB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5sZW5ndGhTcSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHggPSB0aGlzLng7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICByZXR1cm4geCAqIHggKyB5ICogeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRvdCBwcm9kdWN0IG9mIHRoaXMgdmVjdG9yIGJ5IGFub3RoZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZG90ID0gZnVuY3Rpb24gKHZlYykge1xuICAgICAgICByZXR1cm4gdmVjLnggKiB0aGlzLnggKyB2ZWMueSAqIHRoaXMueTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdGhpcyB2ZWN0b3IgYnkgYW5vdGhlci5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuY3Jvc3MgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKiB2ZWMueSAtIHRoaXMueSAqIHZlYy54O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhpcyB2ZWN0b3IgaS5lIG11bHRpcGxpZXMgaXQgYnkgLTFcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZlY3RvciBheGVzIHZhbHVlcyB0byBhYnNvbHV0ZSB2YWx1ZXNcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnggPSBNYXRoLmFicyh0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmFicyh0aGlzLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFplcm9lcyB0aGUgdmVjdG9yIGkuZSBzZXRzIGFsbCBheGVzIHRvIDBcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuemVybyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy54ID0gdGhpcy55ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpc3RhbmNlID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIHggPSB0aGlzLnggLSB2Lng7XG4gICAgICAgIHZhciB5ID0gdGhpcy55IC0gdi55O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgdmV0b3IgYnkgcHJvdmlkZWQgcmFkaWFuc1xuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAocmFkcykge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3MocmFkcyk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihyYWRzKTtcbiAgICAgICAgdmFyIG94ID0gdGhpcy54O1xuICAgICAgICB2YXIgb3kgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMueCA9IG94ICogY29zIC0gb3kgKiBzaW47XG4gICAgICAgIHRoaXMueSA9IG94ICogc2luICsgb3kgKiBjb3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUm91bmRzIHRoaXMgdmVjdG9yIHRvIG4gZGVjaW1hbCBwbGFjZXNcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbiAobikge1xuICAgICAgICBpZiAobiA9PT0gdm9pZCAwKSB7IG4gPSAyOyB9XG4gICAgICAgIHZhciBwID0gcHJlY2lzaW9uW25dO1xuICAgICAgICAvLyBUaGlzIHBlcmZvcm1zIHdhYWF5IGJldHRlciB0aGFuIHRvRml4ZWQgYW5kIGdpdmUgRmxvYXQzMiB0aGUgZWRnZSBhZ2Fpbi5cbiAgICAgICAgLy8gaHR0cDovL3d3dy5keW5hbWljZ3VydS5jb20vamF2YXNjcmlwdC9yb3VuZC1udW1iZXJzLXdpdGgtcHJlY2lzaW9uL1xuICAgICAgICB0aGlzLnggPSAoKDAuNSArIHRoaXMueCAqIHApIDw8IDApIC8gcDtcbiAgICAgICAgdGhpcy55ID0gKCgwLjUgKyB0aGlzLnkgKiBwKSA8PCAwKSAvIHA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhpcyB2ZWN0b3JcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jdG9yKHRoaXMueCwgdGhpcy55KTtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdFZlY3Rvcjtcbn0oKSk7XG5leHBvcnRzLkFic3RyYWN0VmVjdG9yID0gQWJzdHJhY3RWZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdFZlY3Rvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFic3RyYWN0VmVjdG9yXzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdFZlY3RvclwiKTtcbi8qKlxuICogQSB2ZWN0b3IgcmVwcmVzZW50YXRpb24gdGhhdCBzdG9yZXMgdGhlIGF4ZXMgaW4gYW4gQXJyYXlcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHYgPSBuZXcgVmVjMkQuQXJyYXlWZWN0b3IoMiwgNSlcbiAqIGBgYFxuICovXG52YXIgQXJyYXlWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5VmVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFycmF5VmVjdG9yKHgsIHkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgQXJyYXlWZWN0b3IpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmF4ZXMgPSBbeCwgeV07XG4gICAgICAgIF90aGlzLmN0b3IgPSBBcnJheVZlY3RvcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlWZWN0b3IucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF4ZXNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHRoaXMuYXhlc1swXSA9IHg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVZlY3Rvci5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhlc1sxXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgdGhpcy5heGVzWzFdID0geTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFycmF5VmVjdG9yO1xufShBYnN0cmFjdFZlY3Rvcl8xLkFic3RyYWN0VmVjdG9yKSk7XG5leHBvcnRzLkFycmF5VmVjdG9yID0gQXJyYXlWZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcnJheVZlY3Rvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFic3RyYWN0VmVjdG9yXzEgPSByZXF1aXJlKFwiLi9BYnN0cmFjdFZlY3RvclwiKTtcbi8qKlxuICogQSB2ZWN0b3IgcmVwcmVzZW50YXRpb24gdGhhdCBzdG9yZXMgdGhlIGF4ZXMgaW4gYSBGbG9hdDMyQXJyYXlcbiAqXG4gKiBgYGBcbiAqIGNvbnN0IHYgPSBuZXcgVmVjMkQuRmxvYXQzMlZlY3RvcigyLCA1KVxuICogYGBgXG4gKi9cbnZhciBGbG9hdDMyVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGbG9hdDMyVmVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZsb2F0MzJWZWN0b3IoeCwgeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBGbG9hdDMyVmVjdG9yKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5heGVzID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgX3RoaXMuYXhlc1swXSA9IHg7XG4gICAgICAgIF90aGlzLmF4ZXNbMV0gPSB5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdDMyVmVjdG9yLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5heGVzWzBdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB0aGlzLmF4ZXNbMF0gPSB4O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmxvYXQzMlZlY3Rvci5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhlc1sxXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeSkge1xuICAgICAgICAgICAgdGhpcy5heGVzWzFdID0geTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZsb2F0MzJWZWN0b3I7XG59KEFic3RyYWN0VmVjdG9yXzEuQWJzdHJhY3RWZWN0b3IpKTtcbmV4cG9ydHMuRmxvYXQzMlZlY3RvciA9IEZsb2F0MzJWZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GbG9hdDMyVmVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL0FycmF5VmVjdG9yXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL0Zsb2F0MzJWZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vVmVjdG9yXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlYzJELmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWJzdHJhY3RWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpO1xuLyoqXG4gKiBBIHZlY3RvciByZXByZXNlbnRhdGlvbiB0aGF0IHN0b3JlcyB0aGUgYXhlcyBhcyBwYXJ0IG9mIHRoZSBpbnN0YW5jZSBpdHNlbGZcbiAqXG4gKiBgYGB0c1xuICogY29uc3QgdiA9IG5ldyBWZWMyRC5WZWN0b3IoMiwgNSlcbiAqIGBgYFxuICovXG52YXIgVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmVjdG9yKHgsIHkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgVmVjdG9yKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5feCA9IHg7XG4gICAgICAgIF90aGlzLl95ID0geTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmVjdG9yLnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZWN0b3IucHJvdG90eXBlLCBcInlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFZlY3Rvcjtcbn0oQWJzdHJhY3RWZWN0b3JfMS5BYnN0cmFjdFZlY3RvcikpO1xuZXhwb3J0cy5WZWN0b3IgPSBWZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3IuanMubWFwIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LnRzXCIpO1xuIl0sIm5hbWVzIjpbImNlbnRlciIsInJhZGl1cyIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsImNvdW50ZXJDbG9ja3dpc2UiLCJpc0NvbGxpZGFibGUiLCJkcmF3IiwiY29udGV4dCIsImNvbG9yIiwibGluZUNhcCIsInN0cm9rZVN0eWxlIiwidGhpcyIsImJlZ2luUGF0aCIsImFyYyIsIngiLCJ5Iiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwiZHJhd0RlYnVnIiwidGFuZ2VudF9hbmdsZSIsIk1hdGgiLCJQSSIsImRyYXdEb3QiLCJkcmF3QXJyb3ciLCJlbmRQb2ludCIsImNvcyIsInNpbiIsImlzQ291bnRlckNsb2Nrd2lzZSIsInNuYWtlcyIsImNoZWNrQ29sbGlzaW9ucyIsImZvckVhY2giLCJzbmFrZTEiLCJpc0FsaXZlIiwiaGVhZCIsInNuYWtlMiIsInNlZ21lbnRzIiwic2VnbWVudCIsImNoZWNrTGluZVRvTGluZUNvbGxpc2lvbiIsImtpbGwiLCJjaGVja0xpbmVUb0FyY0NvbGxpc2lvbiIsImNoZWNrQXJjVG9BcmNDb2xsaXNpb24iLCJzZWdtZW50MSIsInNlZ21lbnQyIiwidUEiLCJzdGFydFBvaW50IiwidUIiLCJkcmF3R3JpZCIsImJhY2tncm91bmRDYW52YXNDdHgiLCJjbGVhclJlY3QiLCJiYWNrZ3JvdW5kQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lV2lkdGgiLCJncmlkU2l6ZSIsIm1vdmVUbyIsImxpbmVUbyIsImRvdFgiLCJkb3RZIiwiZG90U2l6ZSIsImZpbGxTdHlsZSIsImZpbGwiLCJjdHgiLCJmcm9tIiwidG8iLCJhbmdsZSIsImF0YW4yIiwiaGVhZExlbmd0aCIsIm5ld190byIsIlZlY3RvciIsInNuYWtlIiwibGVmdEtleSIsInJpZ2h0S2V5Iiwia2V5TWFwIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uS2V5RG93biIsImJpbmQiLCJvbktleVVwIiwiZXZlbnQiLCJrZXkiLCJ0b1VwcGVyQ2FzZSIsInRhbmdlbnRBbmdsZSIsImFkZFNlZ21lbnQiLCJ0dXJuUmFkaXVzIiwiY29uc29sZSIsImxvZyIsImRpc3Bvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3RhcnQiLCJlbmQiLCJjYWxjRW5kQW5nbGUiLCJhdGFuIiwicG9zaXRpb24iLCJlbWl0SW50ZXJ2YWwiLCJzaXplIiwic3BlZWQiLCJzaGFwZSIsImNhbnZhc0N0eCIsImZhZGVDb2xvciIsImZhZGVTaXplIiwiYWdlIiwiZW1pdFRpbWVNaWxsaXMiLCJhbGl2ZVBhcnRpY2xlcyIsInRpY2tzIiwiZW1pdFRpbWUiLCJwYXJ0aWNsZU1heEFnZSIsInRpY2siLCJkdCIsInB1c2giLCJjbG9uZSIsImdldFJhbmRvbURpcmVjdGlvbiIsInBhcnRpY2xlIiwiZmlsdGVyIiwidmVsb2NpdHkiLCJjb2xvckZhZGVBbW91bnQiLCJhIiwic2l6ZUZhZGVBbW91bnQiLCJhZGQiLCJtdWx0aXBseUJ5U2NhbGFyIiwiciIsImciLCJiIiwiZmlsbFJlY3QiLCJyYW5kb20iLCJoZXhUb1JnYiIsImhleCIsInJlc3VsdCIsImV4ZWMiLCJwYXJzZUludCIsInN0YXJ0UG9zIiwiZW1pdHRlciIsInNsaWNlIiwicG9wIiwiaW5kZXgiLCJtb3ZlIiwiZGlzdGFuY2UiLCJsYXN0U2VnbWVudCIsImR4IiwiZHkiLCJuZXdFbmQiLCJhbmdsZUV4dGVuc2lvbiIsInVwZGF0ZUVtaXR0ZXIiLCJmcHNDb3VudGVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJ0b3AiLCJsZWZ0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZnBzIiwiZ2FtZUNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiZ2FtZUNhbnZhc0N0eCIsImdldENvbnRleHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmcmFtZUNvdW50IiwibGFzdFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInBsYXllck9uZVNuYWtlIiwicGxheWVyVHdvU25ha2UiLCJjb2xsaXNpb25IYW5kbGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYW5pbWF0ZSIsImN1cnJlbnRUaW1lIiwidGltZURpZmYiLCJyb3VuZCIsImNhbGN1bGF0ZUZQUyIsImlubmVyVGV4dCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicHJlY2lzaW9uIiwiQWJzdHJhY3RWZWN0b3IiLCJjdG9yIiwicHJvdG90eXBlIiwic2V0QXhlcyIsImdldFgiLCJzZXRYIiwiZ2V0WSIsInNldFkiLCJ0b1N0cmluZyIsInRvQXJyYXkiLCJ0b09iamVjdCIsInZlYyIsInN1YnRyYWN0IiwiZXF1YWxzIiwibXVsdGlwbHlCeVZlY3RvciIsIm11bFYiLCJkaXZpZGVCeVZlY3RvciIsImRpdlYiLCJ2IiwibiIsIm11bFMiLCJkaXZpZGVCeVNjYWxhciIsImRpdlMiLCJub3JtYWxpc2UiLCJtYWduaXR1ZGUiLCJub3JtYWxpemUiLCJ1bml0Iiwic3FydCIsImxlbmd0aCIsImxlbmd0aFNxIiwiZG90IiwiY3Jvc3MiLCJyZXZlcnNlIiwiYWJzIiwiemVybyIsInJvdGF0ZSIsInJhZHMiLCJveCIsIm95IiwicCIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiZCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIkFycmF5VmVjdG9yIiwiX3N1cGVyIiwiX3RoaXMiLCJjYWxsIiwiYXhlcyIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJGbG9hdDMyVmVjdG9yIiwiRmxvYXQzMkFycmF5IiwiX19leHBvcnQiLCJtIiwiX3giLCJfeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9