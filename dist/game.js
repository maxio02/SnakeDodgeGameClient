/*! For license information please see game.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/ArcSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var i,s=n("./src/Drawer.ts"),o=n("./node_modules/vector2d/src/Vec2D.js"),r=n("./src/Segment.ts"),a=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e,n,i,s,o,r){var a=t.call(this)||this;return a.center=e,a.radius=n,a.startAngle=i,a.endAngle=s,a.counterClockwise=o,a.isCollidable=r,a}return a(e,t),e.prototype.draw=function(t,e){t.lineCap="round",t.strokeStyle=e,1==this.isCollidable&&(t.beginPath(),t.arc(this.center.x,this.center.y,this.radius,this.startAngle,this.endAngle,this.counterClockwise),t.stroke(),t.closePath())},e.prototype.drawDebug=function(t,e){var n=this.counterClockwise?-Math.PI:Math.PI;n+=this.endAngle,t.lineCap="round",(0,s.drawDot)(this.center.x,this.center.y,5,"#000000"),(0,s.drawArrow)(t,new o.Vector(this.endPoint.x,this.endPoint.y),new o.Vector(this.endPoint.x+this.radius*Math.cos(n),this.endPoint.y+this.radius*Math.sin(n))),(0,s.drawArc)(this.center.x,this.center.y,this.radius,0,0,!1)},Object.defineProperty(e.prototype,"endPoint",{get:function(){return new o.Vector(this.center.x+this.radius*Math.cos(this.endAngle),this.center.y+this.radius*Math.sin(this.endAngle))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"penpendicularEndAngle",{get:function(){return this.isCounterClockwise?this.endAngle-Math.PI/2:this.endAngle+Math.PI/2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"penpendicularStartAngle",{get:function(){return this.isCounterClockwise?this.startAngle-Math.PI/2:this.startAngle+Math.PI/2},enumerable:!1,configurable:!0}),e.prototype.isCounterClockwise=function(){return this.counterClockwise},e.prototype.getContinuingSegment=function(t){return new e(this.center.clone().add(t),this.radius,this.endAngle,this.endAngle,this.counterClockwise,this.isCollidable)},e}(r.default)},"./src/CollisionHandler.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var i=n("./src/ArcSegment.ts"),s=n("./src/LineSegment.ts");const o=function(){function t(t){this.snakes=t}return t.prototype.checkCollisions=function(){var t=this;return this.snakes.forEach((function(e){e.isAlive&&e.head.isCollidable&&(e.head instanceof i.default&&Math.abs(e.head.endAngle-e.head.startAngle)>2*Math.PI&&(e.kill(),console.log("snake ".concat(e," commited circlicide"))),t.snakes.forEach((function(n){n.segments.forEach((function(o){if(o.isCollidable&&o!==e.head&&(n!==e||o!==e.segments.slice(-2,-1).pop()))if(o instanceof s.default){if(t.isPointOnLine(o,e.head.endPoint,.5))return console.log(o),void e.kill()}else if(o instanceof i.default&&t.isPointOnArc(o,e.head.endPoint,2))return console.log(o),void e.kill()}))})))})),null},t.prototype.isPointOnLine=function(t,e,n){var i=t.length,s=e.distance(t.startPoint),o=e.distance(t.endPoint);return!(Math.abs(s+o-i)>n)},t.prototype.isPointOnArc=function(t,e,n){var i=e.distance(t.center);if(Math.abs(i-t.radius)>n)return!1;var s=Math.atan2(e.y-t.center.y,e.x-t.center.x),o=t.startAngle,r=t.endAngle,a=function(t){var e=t%(2*Math.PI);return e<0&&(e+=2*Math.PI),e},c=a(s),h=a(o),d=a(r);if(h<=d){if(c>=h&&c<=d&&!t.isCounterClockwise())return console.log("".concat(h," < ").concat(c," < ").concat(d)),!0}else if(c>=d&&c<=h&&t.isCounterClockwise())return console.log("".concat(h," > ").concat(c," > ").concat(d)),!0;return!1},t}()},"./src/Drawer.ts":(t,e,n)=>{n.r(e),n.d(e,{drawArc:()=>a,drawArrow:()=>c,drawDot:()=>r,drawGrid:()=>o});var i=n("./node_modules/vector2d/src/Vec2D.js"),s=n("./src/index.ts");function o(){s.backgroundCanvasCtx.clearRect(0,0,s.backgroundCanvas.width,s.backgroundCanvas.height),s.backgroundCanvasCtx.strokeStyle="rgba(0, 0, 0, 0.3)",s.backgroundCanvasCtx.lineWidth=2;for(var t=s.gridSize;t<s.backgroundCanvas.width;t+=s.gridSize)s.backgroundCanvasCtx.beginPath(),s.backgroundCanvasCtx.moveTo(t,0),s.backgroundCanvasCtx.lineTo(t,s.backgroundCanvas.height),s.backgroundCanvasCtx.stroke();for(var e=s.gridSize;e<s.backgroundCanvas.height;e+=s.gridSize)s.backgroundCanvasCtx.beginPath(),s.backgroundCanvasCtx.moveTo(0,e),s.backgroundCanvasCtx.lineTo(s.backgroundCanvas.width,e),s.backgroundCanvasCtx.stroke()}function r(t,e,n,i){s.backgroundCanvasCtx.beginPath(),s.backgroundCanvasCtx.arc(t,e,n,0,2*Math.PI,!1),s.backgroundCanvasCtx.fillStyle=i,s.backgroundCanvasCtx.fill(),s.backgroundCanvasCtx.closePath()}function a(t,e,n,i,o,r){s.backgroundCanvasCtx.lineCap="round",s.backgroundCanvasCtx.strokeStyle="#3466aa",s.backgroundCanvasCtx.beginPath(),s.backgroundCanvasCtx.arc(t,e,n,0,2*Math.PI,r),s.backgroundCanvasCtx.lineWidth=5,s.backgroundCanvasCtx.stroke(),s.backgroundCanvasCtx.closePath()}function c(t,e,n){if(e.x!=n.x&&e.y!=n.y){var s=Math.atan2(n.y-e.y,n.x-e.x),o=10,r=new i.Vector(n.x,n.y);r.x-=11.5*Math.cos(s),r.y-=11.5*Math.sin(s),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(r.x,r.y),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(r.x-o*Math.cos(s-Math.PI/7),r.y-o*Math.sin(s-Math.PI/7)),t.lineTo(r.x-o*Math.cos(s+Math.PI/7),r.y-o*Math.sin(s+Math.PI/7)),t.lineTo(r.x,r.y),t.lineTo(r.x-o*Math.cos(s-Math.PI/7),r.y-o*Math.sin(s-Math.PI/7)),t.strokeStyle="#bbbbbb",t.lineWidth=10,t.stroke(),t.fillStyle="#bbbbbb",t.fill(),t.closePath()}}},"./src/InputManager.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./node_modules/vector2d/src/Vec2D.js"),s=n("./src/ArcSegment.ts"),o=n("./src/LineSegment.ts");const r=function(){function t(t,e,n){this.keyMap={},window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this)),this.snake=t,this.leftKey=e,this.rightKey=n}return t.prototype.onKeyDown=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();if(e==this.leftKey||e==this.rightKey){if(this.keyMap[this.rightKey]&&e==this.leftKey)this.keyMap[this.rightKey]=!1;else if(this.keyMap[this.leftKey]&&e==this.rightKey)this.keyMap[this.leftKey]=!1;else if(this.keyMap[e])return;this.keyMap[e]=!0;var n=this.snake.head,r=n.endPoint,a=0;n instanceof o.default?(a+=Math.PI/2,e==this.rightKey&&this.snake.addSegment(new s.default(new i.Vector(r.x+this.snake.turnRadius*Math.cos(this.snake.head.endAngle+a),r.y+this.snake.turnRadius*Math.sin(this.snake.head.endAngle+a)),this.snake.turnRadius,this.snake.head.endAngle-a,this.snake.head.endAngle-a,!1,n.isCollidable)),e==this.leftKey&&this.snake.addSegment(new s.default(new i.Vector(r.x+this.snake.turnRadius*Math.cos(this.snake.head.endAngle-a),r.y+this.snake.turnRadius*Math.sin(this.snake.head.endAngle-a)),this.snake.turnRadius,this.snake.head.endAngle+a,this.snake.head.endAngle+a,!0,n.isCollidable))):n instanceof s.default&&(a=n.isCounterClockwise?-Math.PI:Math.PI,e==this.rightKey&&this.snake.addSegment(new s.default(new i.Vector(r.x-this.snake.turnRadius*Math.cos(this.snake.head.endAngle+a),r.y-this.snake.turnRadius*Math.sin(this.snake.head.endAngle+a)),this.snake.turnRadius,this.snake.head.endAngle-a,this.snake.head.endAngle-a,!1,n.isCollidable)),e==this.leftKey&&this.snake.addSegment(new s.default(new i.Vector(r.x-this.snake.turnRadius*Math.cos(this.snake.head.endAngle-a),r.y-this.snake.turnRadius*Math.sin(this.snake.head.endAngle-a)),this.snake.turnRadius,this.snake.head.endAngle+a,this.snake.head.endAngle+a,!0,n.isCollidable)))}}},t.prototype.onKeyUp=function(t){if(this.snake.isAlive){var e=t.key.toUpperCase();if(this.keyMap[e]){this.keyMap[e]=!1;var n=this.snake.head,r=n.endPoint,a=n.endAngle;e==this.leftKey&&n instanceof s.default&&n.isCounterClockwise()?a-=Math.PI/2:e==this.rightKey&&n instanceof s.default&&!n.isCounterClockwise()&&(a+=Math.PI/2),this.snake.addSegment(new o.default(r,new i.Vector(r.x+5*Math.cos(a),r.y+5*Math.sin(a)),n.isCollidable,a))}}},t.prototype.dispose=function(){window.removeEventListener("keydown",this.onKeyDown.bind(this)),window.removeEventListener("keyup",this.onKeyUp.bind(this))},t}()},"./src/LineSegment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i,s=n("./src/Segment.ts"),o=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const r=function(t){function e(e,n,i,s){var o=t.call(this)||this;return o.isCollidable=!0,o.startPoint=e,o.endPoint=n,o.isCollidable=i,o.endAngle=s,o}return o(e,t),e.prototype.draw=function(t,e){t.strokeStyle=e,t.lineCap="round",1==this.isCollidable&&(t.beginPath(),t.moveTo(this.startPoint.x,this.startPoint.y),t.lineTo(this.endPoint.x,this.endPoint.y),t.stroke(),t.closePath())},e.prototype.calcEndAngle=function(){return Math.atan((this.endPoint.y-this.startPoint.y)/(this.endPoint.x-this.startPoint.x))},Object.defineProperty(e.prototype,"length",{get:function(){return Math.sqrt(Math.pow(this.startPoint.x-this.endPoint.x,2)+Math.pow(this.startPoint.y-this.endPoint.y,2))},enumerable:!1,configurable:!0}),e.prototype.getContinuingSegment=function(t){var n=this.endPoint.clone().add(t);return new e(n,n,this.isCollidable,this.endAngle)},e}(s.default)},"./src/ParticleSystem/Emitter.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var i=n("./src/ParticleSystem/Particle.ts"),s=n("./src/ParticleSystem/ParticleSystemUtils.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},o.apply(this,arguments)};const r=function(){function t(t,e,n,i,s,o,r,a,c,h,d){void 0===s&&(s="circle"),void 0===a&&(a=!0),void 0===c&&(c=!0),void 0===d&&(d=0),this.aliveParticles=[],this.ticks=0,this.position=t,this.emitTime=e,this.size=n,this.speed=i,this.shape=s,this.color=o,this.canvasCtx=r,this.fadeColor=a,this.fadeSize=c,this.particleMaxAge=h,this.emitTimeMillis=d}return t.prototype.tick=function(t){this.emitTimeMillis+this.particleMaxAge<0||(this.emitTimeMillis-=t,this.ticks%this.emitTime==0&&this.emitTimeMillis>0&&(this.aliveParticles.push(new i.default(this.position.clone(),(0,s.getRandomDirection)(),this.size,this.speed,this.shape,o({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new i.default(this.position.clone(),(0,s.getRandomDirection)(),this.size,this.speed,this.shape,o({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize)),this.aliveParticles.push(new i.default(this.position.clone(),(0,s.getRandomDirection)(),this.size,this.speed,this.shape,o({},this.color),this.canvasCtx,this.particleMaxAge,this.fadeColor,this.fadeSize))),this.aliveParticles.forEach((function(e){e.tick(t)})),this.aliveParticles=this.aliveParticles.filter((function(t){return t.age>0})),this.ticks++)},t.prototype.draw=function(){this.aliveParticles.forEach((function(t){t.draw()}))},t}()},"./src/ParticleSystem/Particle.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){function t(t,e,n,i,s,o,r,a,c,h){void 0===s&&(s="circle"),this.position=t,this.velocity=e,this.size=n,this.speed=i,this.shape=s,this.color=o,this.canvasCtx=r,this.fadeColor=c,this.fadeSize=h,this.age=a,this.colorFadeAmount=this.color.a/this.age,this.sizeFadeAmount=this.size/this.age}return t.prototype.tick=function(t){this.position.add(this.velocity.clone().multiplyByScalar(t*this.speed)),this.fadeColor&&(this.color.a-=this.colorFadeAmount),this.fadeSize&&(this.size-=this.sizeFadeAmount),this.age--},t.prototype.draw=function(){switch(this.canvasCtx.moveTo(this.position.x,this.position.y),this.canvasCtx.fillStyle="rgba(".concat(this.color.r,",").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.color.a,")"),this.canvasCtx.beginPath(),this.shape){case"circle":this.canvasCtx.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),this.canvasCtx.fill();break;case"square":this.canvasCtx.fillRect(this.position.x-this.size,this.position.y-this.size,2*this.size,2*this.size)}this.canvasCtx.closePath()},t}()},"./src/ParticleSystem/ParticleSystemUtils.ts":(t,e,n)=>{n.r(e),n.d(e,{getRandomDirection:()=>s,hexToRgb:()=>o});var i=n("./node_modules/vector2d/src/Vec2D.js");function s(){return new i.Vector(2*Math.random()-1,2*Math.random()-1)}function o(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},"./src/Segment.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});const i=function(){}},"./src/Snake.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var i=n("./node_modules/vector2d/src/Vec2D.js"),s=n("./src/ArcSegment.ts"),o=n("./src/LineSegment.ts"),r=n("./src/ParticleSystem/Emitter.ts"),a=n("./src/ParticleSystem/ParticleSystemUtils.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},c.apply(this,arguments)};const h=function(){function t(t,e,n){this.segments=[],this.isAlive=!0,this.turnRadius=60,this.emitter=null,this.distanceToChangeOfState=10,this.addSegment(t),this.color=e,this.canvasCtx=n}return t.prototype.addSegment=function(t){this.segments.push(t)},Object.defineProperty(t.prototype,"head",{get:function(){return this.segments.slice(-1).pop()},enumerable:!1,configurable:!0}),t.prototype.draw=function(){var t=this;this.canvasCtx.lineWidth=12,this.segments.forEach((function(e,n){e.draw(t.canvasCtx,t.color),t.head==e&&(e instanceof s.default?(t.canvasCtx.beginPath(),t.canvasCtx.arc(e.center.x,e.center.y,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise()),t.canvasCtx.stroke(),t.canvasCtx.closePath()):e instanceof o.default&&(t.canvasCtx.beginPath(),t.canvasCtx.moveTo(e.endPoint.x,e.endPoint.y),t.canvasCtx.lineTo(e.endPoint.x,e.endPoint.y),t.canvasCtx.stroke(),t.canvasCtx.closePath()))}))},t.prototype.move=function(t){if(this.isAlive){this.checkWalls();var e=this.head;if(e){if(e instanceof o.default){var n=t*Math.cos(e.endAngle),r=t*Math.sin(e.endAngle),a=new i.Vector(e.endPoint.x+n,e.endPoint.y+r);e.endPoint=a}else if(e instanceof s.default){var c=t/e.radius;e.endAngle=e.isCounterClockwise()?e.endAngle-c:e.endAngle+c}e.isCollidable&&this.distanceToChangeOfState<0&&(this.distanceToChangeOfState=80*Math.random()+30,e instanceof o.default?this.addSegment(new o.default(e.endPoint,new i.Vector(e.endPoint.x,e.endPoint.y),!1,e.endAngle)):e instanceof s.default&&this.addSegment(new s.default(e.center,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise(),!1))),!e.isCollidable&&this.distanceToChangeOfState<0&&(this.distanceToChangeOfState=500*Math.random()+80,e instanceof o.default?this.addSegment(new o.default(e.endPoint,new i.Vector(e.endPoint.x,e.endPoint.y),!0,e.endAngle)):e instanceof s.default&&this.addSegment(new s.default(e.center,e.radius,e.endAngle,e.endAngle,e.isCounterClockwise(),!0))),this.distanceToChangeOfState-=t}}},t.prototype.kill=function(){console.log("SNAKE DEAD"),this.isAlive=!1,this.emitter=new r.default(this.head.endPoint,1,7,4,"circle",c(c({},(0,a.hexToRgb)(this.color)),{a:1}),this.canvasCtx,!0,!0,70,4)},t.prototype.updateEmitter=function(t){this.emitter&&(this.emitter.tick(t),this.emitter.draw())},t.prototype.checkWalls=function(){var t=this.head;t.endPoint.x<0?this.addSegment(t.getContinuingSegment(new i.Vector(this.canvasCtx.canvas.width,0))):t.endPoint.x>this.canvasCtx.canvas.width&&this.addSegment(t.getContinuingSegment(new i.Vector(-this.canvasCtx.canvas.width,0))),t.endPoint.y<0?this.addSegment(t.getContinuingSegment(new i.Vector(0,this.canvasCtx.canvas.height))):t.endPoint.y>this.canvasCtx.canvas.height&&this.addSegment(t.getContinuingSegment(new i.Vector(0,-this.canvasCtx.canvas.height)))},t}()},"./src/index.ts":(t,e,n)=>{n.r(e),n.d(e,{backgroundCanvas:()=>f,backgroundCanvasCtx:()=>p,fps:()=>d,gameCanvas:()=>l,gameCanvasCtx:()=>u,gridSize:()=>y});var i=n("./node_modules/vector2d/src/Vec2D.js"),s=n("./src/Drawer.ts"),o=n("./src/InputManager.ts"),r=n("./src/LineSegment.ts"),a=n("./src/Snake.ts"),c=n("./src/CollisionHandler.ts"),h=document.createElement("div");h.style.position="absolute",h.style.top="10px",h.style.left="10px",h.style.color="black",document.body.appendChild(h);var d=60,l=document.getElementById("game-canvas"),u=l.getContext("2d"),f=document.getElementById("background-canvas"),p=f.getContext("2d");f.width=f.getBoundingClientRect().width,f.height=f.getBoundingClientRect().height,l.width=l.getBoundingClientRect().width,l.height=l.getBoundingClientRect().height;var y=60,g=0,v=performance.now()/10;window.addEventListener("resize",(function(){l.width=l.getBoundingClientRect().width,l.height=l.getBoundingClientRect().height,f.width=f.getBoundingClientRect().width,f.height=f.getBoundingClientRect().height,(0,s.drawGrid)()})),(0,s.drawGrid)();for(var x=[],C=[],b=["#ef8888","#ff0000","#00aabb","#0000ee"],m=[["A","D"],["F","H"],["J","L"],["8","0"]],P=0;P<3;P++){var k=new i.Vector(1800*Math.random(),900*Math.random());x.push(new a.default(new r.default(k,k.add(new i.Vector(10,10)),!0,2*Math.random()*Math.PI),b[P],u)),C.push(new o.default(x[P],m[P][0],m[P][1]))}var w=new c.default(x);requestAnimationFrame((function t(){++g%10==0&&(d=function(){var t=performance.now()/10,e=t-v,n=Math.round(1e3/e);return v=t,n}(),h.innerText="FPS: ".concat(d)),u.clearRect(0,0,l.width,l.height),x.forEach((function(t){t.draw(),performance.now()>2e3&&t.move((performance.now()/10-v)/2),t.updateEmitter((performance.now()/10-v)/10)})),w.checkCollisions(),requestAnimationFrame(t)}))},"./node_modules/vector2d/src/AbstractVector.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],i=function(){function t(t){this.ctor=t}return t.prototype.setAxes=function(t,e){return this.x=t,this.y=e,this},t.prototype.getX=function(){return this.x},t.prototype.setX=function(t){return this.x=t,this},t.prototype.getY=function(){return this.y},t.prototype.setY=function(t){return this.y=t,this},t.prototype.toString=function(t){return void 0===t&&(t=!1),t?"("+Math.round(this.x)+", "+Math.round(this.y)+")":"("+this.x+", "+this.y+")"},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.multiplyByVector=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.mulV=function(t){return this.multiplyByVector(t)},t.prototype.divideByVector=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divV=function(t){return this.divideByVector(t)},t.prototype.multiplyByScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.mulS=function(t){return this.multiplyByScalar(t)},t.prototype.divideByScalar=function(t){return this.x/=t,this.y/=t,this},t.prototype.divS=function(t){return this.divideByScalar(t)},t.prototype.normalise=function(){return this.divideByScalar(this.magnitude())},t.prototype.normalize=function(){return this.normalise()},t.prototype.unit=function(){return this.normalise()},t.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.length=function(){return this.magnitude()},t.prototype.lengthSq=function(){var t=this.x,e=this.y;return t*t+e*e},t.prototype.dot=function(t){return t.x*this.x+t.y*this.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t.prototype.zero=function(){return this.x=this.y=0,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.x,s=this.y;return this.x=i*e-s*n,this.y=i*n+s*e,this},t.prototype.round=function(t){void 0===t&&(t=2);var e=n[t];return this.x=(.5+this.x*e<<0)/e,this.y=(.5+this.y*e<<0)/e,this},t.prototype.clone=function(){return new this.ctor(this.x,this.y)},t}();e.AbstractVector=i},"./node_modules/vector2d/src/ArrayVector.js":function(t,e,n){var i,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(n,i){var s=t.call(this,e)||this;return s.axes=[n,i],s.ctor=e,s}return s(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.ArrayVector=o},"./node_modules/vector2d/src/Float32Vector.js":function(t,e,n){var i,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(n,i){var s=t.call(this,e)||this;return s.axes=new Float32Array(2),s.axes[0]=n,s.axes[1]=i,s}return s(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Float32Vector=o},"./node_modules/vector2d/src/Vec2D.js":(t,e,n)=>{function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n("./node_modules/vector2d/src/AbstractVector.js")),i(n("./node_modules/vector2d/src/ArrayVector.js")),i(n("./node_modules/vector2d/src/Float32Vector.js")),i(n("./node_modules/vector2d/src/Vector.js"))},"./node_modules/vector2d/src/Vector.js":function(t,e,n){var i,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(n,i){var s=t.call(this,e)||this;return s._x=n,s._y=i,s}return s(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),e}(n("./node_modules/vector2d/src/AbstractVector.js").AbstractVector);e.Vector=o}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/index.ts")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYXBFLFFBR3JCLElBQUlzRSxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRG5FLFFBQVMsQ0FBQyxHQU9YLE9BSEF1RSxFQUFvQkosR0FBVWQsS0FBS2lCLEVBQU90RSxRQUFTc0UsRUFBUUEsRUFBT3RFLFFBQVNrRSxHQUdwRUksRUFBT3RFLE9BQ2YsQ0NyQkFrRSxFQUFvQjVDLEVBQUtnRCxJQUN4QixJQUFJRSxFQUFTRixHQUFVQSxFQUFPRyxXQUM3QixJQUFPSCxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQUosRUFBb0JyQixFQUFFMkIsRUFBUSxDQUFFbEksRUFBR2tJLElBQzVCQSxDQUFNLEVDTGROLEVBQW9CckIsRUFBSSxDQUFDN0MsRUFBUzBFLEtBQ2pDLElBQUksSUFBSXhLLEtBQU93SyxFQUNYUixFQUFvQlMsRUFBRUQsRUFBWXhLLEtBQVNnSyxFQUFvQlMsRUFBRTNFLEVBQVM5RixJQUM1RTRGLE9BQU9DLGVBQWVDLEVBQVM5RixFQUFLLENBQUV1SixZQUFZLEVBQU1GLElBQUttQixFQUFXeEssSUFFMUUsRUNORGdLLEVBQW9CUyxFQUFJLENBQUNDLEVBQUtDLElBQVUvRSxPQUFPTyxVQUFVeUMsZUFBZU8sS0FBS3VCLEVBQUtDLEdDQ2xGWCxFQUFvQnpILEVBQUt1RCxJQUNILG9CQUFYOEUsUUFBMEJBLE9BQU9DLGFBQzFDakYsT0FBT0MsZUFBZUMsRUFBUzhFLE9BQU9DLFlBQWEsQ0FBRTlFLE1BQU8sV0FFN0RILE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEdBQU8sRUNGcENpRSxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvQXJjU2VnbWVudC50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL0NvbGxpc2lvbkhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9EcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9JbnB1dE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9MaW5lU2VnbWVudC50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL1BhcnRpY2xlU3lzdGVtL0VtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9QYXJ0aWNsZVN5c3RlbS9QYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vc3JjL1BhcnRpY2xlU3lzdGVtL1BhcnRpY2xlU3lzdGVtVXRpbHMudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9TZWdtZW50LnRzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9zcmMvU25ha2UudHMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vbm9kZV9tb2R1bGVzL3ZlY3RvcjJkL3NyYy9BYnN0cmFjdFZlY3Rvci5qcyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vbm9kZV9tb2R1bGVzL3ZlY3RvcjJkL3NyYy9BcnJheVZlY3Rvci5qcyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lLy4vbm9kZV9tb2R1bGVzL3ZlY3RvcjJkL3NyYy9GbG9hdDMyVmVjdG9yLmpzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9ub2RlX21vZHVsZXMvdmVjdG9yMmQvc3JjL1ZlYzJELmpzIiwid2VicGFjazovL3NuYWtlX2dhbWUvLi9ub2RlX21vZHVsZXMvdmVjdG9yMmQvc3JjL1ZlY3Rvci5qcyIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc25ha2VfZ2FtZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NuYWtlX2dhbWUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zbmFrZV9nYW1lL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcmF3QXJjLCBkcmF3QXJyb3csIGRyYXdEb3QgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcclxuaW1wb3J0ICogYXMgVmVjMkQgZnJvbSAndmVjdG9yMmQnO1xyXG5pbXBvcnQgU2VnbWVudCBmcm9tIFwiLi9TZWdtZW50XCI7XHJcbmltcG9ydCB7IGdhbWVDYW52YXNDdHggfSBmcm9tIFwiLi9pbmRleFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJjU2VnbWVudCBleHRlbmRzIFNlZ21lbnQge1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY2VudGVyOiBWZWMyRC5WZWN0b3I7XHJcbiAgICBwdWJsaWMgcmFkaXVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3RhcnRBbmdsZTogbnVtYmVyO1xyXG4gICAgcHVibGljIGVuZEFuZ2xlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNvdW50ZXJDbG9ja3dpc2U6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgaXNDb2xsaWRhYmxlOiBib29sZWFuO1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjZW50ZXI6IFZlYzJELlZlY3RvciwgcmFkaXVzOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlciwgY291bnRlckNsb2Nrd2lzZTogYm9vbGVhbiwgaXNDb2xsaWRhYmxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlO1xyXG4gICAgICAgIHRoaXMuZW5kQW5nbGUgPSBlbmRBbmdsZTtcclxuICAgICAgICB0aGlzLmNvdW50ZXJDbG9ja3dpc2UgPSBjb3VudGVyQ2xvY2t3aXNlO1xyXG4gICAgICAgIHRoaXMuaXNDb2xsaWRhYmxlID0gaXNDb2xsaWRhYmxlO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gXCJyb3VuZFwiO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBpZiAodGhpcy5pc0NvbGxpZGFibGUgPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHRoaXMuY2VudGVyLngsIHRoaXMuY2VudGVyLnksIHRoaXMucmFkaXVzLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuZW5kQW5nbGUsIHRoaXMuY291bnRlckNsb2Nrd2lzZSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdEZWJ1Zyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyNmZjAwZmZmZidcclxuICAgICAgICBsZXQgdGFuZ2VudF9hbmdsZSA9IHRoaXMuY291bnRlckNsb2Nrd2lzZSA/LSBNYXRoLlBJICA6IE1hdGguUEk7XHJcblxyXG4gICAgICAgIHRhbmdlbnRfYW5nbGUgKz0gdGhpcy5lbmRBbmdsZTtcclxuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XHJcbiAgICAgICAgZHJhd0RvdCh0aGlzLmNlbnRlci54LCB0aGlzLmNlbnRlci55LCA1LCAnIzAwMDAwMCcpO1xyXG4gICAgICAgIGRyYXdBcnJvdyhjb250ZXh0LG5ldyBWZWMyRC5WZWN0b3IodGhpcy5lbmRQb2ludC54LHRoaXMuZW5kUG9pbnQueSksIG5ldyBWZWMyRC5WZWN0b3IodGhpcy5lbmRQb2ludC54ICsgdGhpcy5yYWRpdXMgKiBNYXRoLmNvcyh0YW5nZW50X2FuZ2xlKSx0aGlzLmVuZFBvaW50LnkgKyB0aGlzLnJhZGl1cyAqIE1hdGguc2luKHRhbmdlbnRfYW5nbGUpKSk7XHJcbiAgICAgICAgZHJhd0FyYyh0aGlzLmNlbnRlci54LCB0aGlzLmNlbnRlci55LCB0aGlzLnJhZGl1cywgMCwgMCwgZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5kUG9pbnQoKTogVmVjMkQuVmVjdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlYzJELlZlY3RvcihcclxuICAgICAgICB0aGlzLmNlbnRlci54ICsgdGhpcy5yYWRpdXMgKiBNYXRoLmNvcyh0aGlzLmVuZEFuZ2xlKSxcclxuICAgICAgICB0aGlzLmNlbnRlci55ICsgdGhpcy5yYWRpdXMgKiBNYXRoLnNpbih0aGlzLmVuZEFuZ2xlKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBlbnBlbmRpY3VsYXJFbmRBbmdsZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQ291bnRlckNsb2Nrd2lzZT8gdGhpcy5lbmRBbmdsZSAtIE1hdGguUEkgLzIgOiB0aGlzLmVuZEFuZ2xlICsgTWF0aC5QSSAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBlbnBlbmRpY3VsYXJTdGFydEFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb3VudGVyQ2xvY2t3aXNlPyB0aGlzLnN0YXJ0QW5nbGUtIE1hdGguUEkgLzIgOiB0aGlzLnN0YXJ0QW5nbGUgKyBNYXRoLlBJIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICBpc0NvdW50ZXJDbG9ja3dpc2UoKTogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGhpcy5jb3VudGVyQ2xvY2t3aXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRpbnVpbmdTZWdtZW50KHRyYW5zZm9ybTogVmVjMkQuVmVjdG9yKTogU2VnbWVudCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcmNTZWdtZW50KHRoaXMuY2VudGVyLmNsb25lKCkuYWRkKHRyYW5zZm9ybSkgYXMgVmVjMkQuVmVjdG9yLCB0aGlzLnJhZGl1cywgdGhpcy5lbmRBbmdsZSwgdGhpcy5lbmRBbmdsZSwgdGhpcy5jb3VudGVyQ2xvY2t3aXNlLCB0aGlzLmlzQ29sbGlkYWJsZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xyXG5pbXBvcnQgeyBkcmF3QXJjLCBkcmF3RG90IH0gZnJvbSBcIi4vRHJhd2VyXCI7XHJcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tIFwiLi9MaW5lU2VnbWVudFwiO1xyXG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxpc2lvbkhhbmRsZXIge1xyXG4gICAgcHJpdmF0ZSBzbmFrZXM6IFNuYWtlW107XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNuYWtlczogU25ha2VbXSkge1xyXG4gICAgICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgY2hlY2tDb2xsaXNpb25zKCk6IFNuYWtlIHtcclxuXHJcbiAgICAgICAgLy93ZSB3aWxsIG9ubHkgY2hlY2sgdGhlIGhlYWQgb2Ygc25ha2UxIGFnYWluc3QgYWxsIG90aGVyIHNlZ21lbnRzIG9uIHRoZSBib2FyZCAoc2xvdylcclxuICAgICAgICB0aGlzLnNuYWtlcy5mb3JFYWNoKHNuYWtlMSA9PiB7XHJcbiAgICAgICAgICAgIC8vaWYgdGhlIHNuYWtlIGlzIGRlYWQgaWdub3JlIGl0XHJcbiAgICAgICAgICAgIGlmICghc25ha2UxLmlzQWxpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlIGhlYWQgb2YgdGhlIHNuYWtlIGlzIG5vdCBjb2xsaWRhYmxlIHdlIGNhbiBza2lwIGFsbCBmdXJ0aGVyIGNoZWNrc1xyXG4gICAgICAgICAgICBpZiAoIXNuYWtlMS5oZWFkLmlzQ29sbGlkYWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGUgYW5nbGUgb2YgdGhlIGFyYyBzZWdtZW50IGF0IHRoZSBoZWFkIGV4ZWVkcyAzNjAgZGVnIGtpbGwgdGhlIHNuYWtlXHJcbiAgICAgICAgICAgIGlmIChzbmFrZTEuaGVhZCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQgJiYgTWF0aC5hYnMoc25ha2UxLmhlYWQuZW5kQW5nbGUgLSBzbmFrZTEuaGVhZC5zdGFydEFuZ2xlKSA+IDIgKiBNYXRoLlBJKSB7XHJcbiAgICAgICAgICAgICAgICBzbmFrZTEua2lsbCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHNuYWtlICR7c25ha2UxfSBjb21taXRlZCBjaXJjbGljaWRlYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VzLmZvckVhY2goc25ha2UyID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzbmFrZTIuc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9za2lwIHRoZSBjaGVja3MgaWYgdGhlIHNlZ21lbnQgaXMgbm9uIGNvbGxpZGFibGUgb3IgaWYgdGhlIHNlZ21lbnQgaXMgaXRzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWdtZW50LmlzQ29sbGlkYWJsZSB8fCBzZWdtZW50ID09PSBzbmFrZTEuaGVhZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3doZW4gdHVybmluZyBpZ25vcmUgdGhlIGxpbmUgcmlnaHQgYmVmb3JlLCBzaG91bGQgbm90IGJlIHBvc3NpYmxlIHRvIGhpdCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzbmFrZTIgPT09IHNuYWtlMSAmJiBzZWdtZW50ID09PSBzbmFrZTEuc2VnbWVudHMuc2xpY2UoLTIsIC0xKS5wb3AoKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUG9pbnRPbkxpbmUoc2VnbWVudCwgc25ha2UxLmhlYWQuZW5kUG9pbnQsIDAuNSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25ha2UxLmtpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQb2ludE9uQXJjKHNlZ21lbnQsIHNuYWtlMS5oZWFkLmVuZFBvaW50LCAyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFrZTEua2lsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGlzUG9pbnRPbkxpbmUobGluZTogTGluZVNlZ21lbnQsIHBvaW50OiBWZWN0b3IsIGVwc2lsb246IG51bWJlcikge1xyXG4gICAgICAgIGxldCBsaW5lTGVuZ3RoID0gbGluZS5sZW5ndGhcclxuICAgICAgICBsZXQgZDEgPSBwb2ludC5kaXN0YW5jZShsaW5lLnN0YXJ0UG9pbnQpXHJcbiAgICAgICAgbGV0IGQyID0gcG9pbnQuZGlzdGFuY2UobGluZS5lbmRQb2ludClcclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGQxICsgZDIgLSBsaW5lTGVuZ3RoKSA+IGVwc2lsb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzUG9pbnRPbkFyYyhhcmM6IEFyY1NlZ21lbnQsIHBvaW50OiBWZWN0b3IsIGVwc2lsb246IG51bWJlcikge1xyXG4gICAgICAgIC8vaWYgKE1hdGguYXRhbigoYXJjLmNlbnRlci55IC0gcG9pbnQueSkgLyAoYXJjLmNlbnRlci54IC0gcG9pbnQueCkpKVxyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHBvaW50LmRpc3RhbmNlKGFyYy5jZW50ZXIpO1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UgLSBhcmMucmFkaXVzKSA+IGVwc2lsb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYW5nbGUgb2YgdGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBhcmMncyBjZW50ZXJcclxuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIocG9pbnQueSAtIGFyYy5jZW50ZXIueSwgcG9pbnQueCAtIGFyYy5jZW50ZXIueCk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyYy5zdGFydEFuZ2xlO1xyXG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gYXJjLmVuZEFuZ2xlO1xyXG5cclxuICAgICAgICAvLyBOb3JtYWxpemUgYW5nbGVzIHRvIGJlIGJldHdlZW4gMCBhbmQgMipQSVxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZUFuZ2xlID0gKGFuZ2xlOiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbm9ybWFsaXplZCA9IGFuZ2xlICUgKDIgKiBNYXRoLlBJKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkICs9IDIgKiBNYXRoLlBJO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRBbmdsZSA9IG5vcm1hbGl6ZUFuZ2xlKGFuZ2xlKTtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkU3RhcnRBbmdsZSA9IG5vcm1hbGl6ZUFuZ2xlKHN0YXJ0QW5nbGUpO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbmRBbmdsZSA9IG5vcm1hbGl6ZUFuZ2xlKGVuZEFuZ2xlKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFuZ2xlIGxpZXMgd2l0aGluIHRoZSBzdGFydCBhbmQgZW5kIGFuZ2xlc1xyXG4gICAgICAgIC8vVGhlIGlzQ291bnRlckNsb2Nrd2lzZSBjaGVjayBpcyBmb3Igd2hlbiB0aGUgc3RhcnQgdG8gZW5kIGhhcyByb2xsZWQgb3ZlciAycGlcclxuICAgICAgICBpZiAobm9ybWFsaXplZFN0YXJ0QW5nbGUgPD0gbm9ybWFsaXplZEVuZEFuZ2xlKSB7XHJcbiAgICAgICAgICAgICBpZihub3JtYWxpemVkQW5nbGUgPj0gbm9ybWFsaXplZFN0YXJ0QW5nbGUgJiYgbm9ybWFsaXplZEFuZ2xlIDw9IG5vcm1hbGl6ZWRFbmRBbmdsZSAmJiAhYXJjLmlzQ291bnRlckNsb2Nrd2lzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtub3JtYWxpemVkU3RhcnRBbmdsZX0gPCAke25vcm1hbGl6ZWRBbmdsZX0gPCAke25vcm1hbGl6ZWRFbmRBbmdsZX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmKG5vcm1hbGl6ZWRBbmdsZSA+PSBub3JtYWxpemVkRW5kQW5nbGUgJiYgbm9ybWFsaXplZEFuZ2xlIDw9IG5vcm1hbGl6ZWRTdGFydEFuZ2xlICYmIGFyYy5pc0NvdW50ZXJDbG9ja3dpc2UoKSApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke25vcm1hbGl6ZWRTdGFydEFuZ2xlfSA+ICR7bm9ybWFsaXplZEFuZ2xlfSA+ICR7bm9ybWFsaXplZEVuZEFuZ2xlfWApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XG5pbXBvcnQgeyBiYWNrZ3JvdW5kQ2FudmFzLCBiYWNrZ3JvdW5kQ2FudmFzQ3R4LCBncmlkU2l6ZSB9IGZyb20gXCIuL2luZGV4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3R3JpZCgpIHtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoLCBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCk7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuMyknO1xuICAgIGJhY2tncm91bmRDYW52YXNDdHgubGluZVdpZHRoID0gMjtcbiAgICBmb3IgKHZhciB4ID0gZ3JpZFNpemU7IHggPCBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoOyB4ICs9IGdyaWRTaXplKSB7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHgubW92ZVRvKHgsIDApO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyh4LCBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCk7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGZvciAodmFyIHkgPSBncmlkU2l6ZTsgeSA8IGJhY2tncm91bmRDYW52YXMuaGVpZ2h0OyB5ICs9IGdyaWRTaXplKSB7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGJhY2tncm91bmRDYW52YXNDdHgubW92ZVRvKDAsIHkpO1xuICAgICAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmxpbmVUbyhiYWNrZ3JvdW5kQ2FudmFzLndpZHRoLCB5KTtcbiAgICAgICAgYmFja2dyb3VuZENhbnZhc0N0eC5zdHJva2UoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3RG90KGRvdFg6IG51bWJlciwgZG90WTogbnVtYmVyLCBkb3RTaXplOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgIGJhY2tncm91bmRDYW52YXNDdHguYXJjKFxuICAgICAgICBkb3RYLFxuICAgICAgICBkb3RZLFxuICAgICAgICBkb3RTaXplLFxuICAgICAgICAwLFxuICAgICAgICAyICogTWF0aC5QSSxcbiAgICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmZpbGwoKTtcblxuICAgIGJhY2tncm91bmRDYW52YXNDdHguY2xvc2VQYXRoKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3QXJjKGRvdFg6IG51bWJlciwgZG90WTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBlbmRBbmdsZTogbnVtYmVyLCBjb3VudGVyQ2xvY2t3aXNlOiBib29sZWFuKSB7XG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlU3R5bGUgPSBcIiMzNDY2YWFcIjtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgIGJhY2tncm91bmRDYW52YXNDdHguYXJjKGRvdFgsIGRvdFksIHJhZGl1cywgMCwgMiAqIE1hdGguUEksIGNvdW50ZXJDbG9ja3dpc2UpO1xuXG4gICAgYmFja2dyb3VuZENhbnZhc0N0eC5saW5lV2lkdGggPSA1O1xuICAgIGJhY2tncm91bmRDYW52YXNDdHguc3Ryb2tlKCk7XG5cbiAgICBiYWNrZ3JvdW5kQ2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xufVxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0Fycm93KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBmcm9tOiBWZWN0b3IsIHRvOiBWZWN0b3IpIHtcbiAgICBpZiAoZnJvbS54ICE9IHRvLnggJiYgZnJvbS55ICE9IHRvLnkpIHtcbiAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuMih0by55IC0gZnJvbS55LCB0by54IC0gZnJvbS54KTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAxMDtcbiAgICAgICAgdmFyIGhlYWRMZW5ndGggPSAxMDtcbiAgICAgICAgdmFyIG5ld190byA9IG5ldyBWZWN0b3IodG8ueCwgdG8ueSk7XG4gICAgICAgIC8vIFRoaXMgbWFrZXMgaXQgc28gdGhlIGVuZCBvZiB0aGUgYXJyb3cgaGVhZCBpcyBsb2NhdGVkIGF0IHRveCwgdG95LCBkb24ndCBhc2sgd2hlcmUgMS4xNSBjb21lcyBmcm9tXG4gICAgICAgIG5ld190by54IC09IE1hdGguY29zKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XG4gICAgICAgIG5ld190by55IC09IE1hdGguc2luKGFuZ2xlKSAqICgod2lkdGggKiAxLjE1KSk7XG5cblxuXG4gICAgICAgIC8vc3RhcnRpbmcgcGF0aCBvZiB0aGUgYXJyb3cgZnJvbSB0aGUgc3RhcnQgc3F1YXJlIHRvIHRoZSBlbmQgc3F1YXJlIGFuZCBkcmF3aW5nIHRoZSBzdHJva2VcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKGZyb20ueCwgZnJvbS55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgLy9zdGFydGluZyBhIG5ldyBwYXRoIGZyb20gdGhlIGhlYWQgb2YgdGhlIGFycm93IHRvIG9uZSBvZiB0aGUgc2lkZXMgb2YgdGhlIHBvaW50XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xuICAgICAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZExlbmd0aCAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRMZW5ndGggKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XG5cbiAgICAgICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgb2YgdGhlIGFycm93LCB0byB0aGUgb3RoZXIgc2lkZSBwb2ludFxuICAgICAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZExlbmd0aCAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRMZW5ndGggKiBNYXRoLnNpbihhbmdsZSArIE1hdGguUEkgLyA3KSk7XG5cbiAgICAgICAgLy9wYXRoIGZyb20gdGhlIHNpZGUgcG9pbnQgYmFjayB0byB0aGUgdGlwIG9mIHRoZSBhcnJvdywgYW5kIHRoZW4gYWdhaW4gdG8gdGhlIG9wcG9zaXRlIHNpZGUgcG9pbnRcbiAgICAgICAgY3R4LmxpbmVUbyhuZXdfdG8ueCwgbmV3X3RvLnkpO1xuICAgICAgICBjdHgubGluZVRvKG5ld190by54IC0gaGVhZExlbmd0aCAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDcpLCBuZXdfdG8ueSAtIGhlYWRMZW5ndGggKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA3KSk7XG5cbiAgICAgICAgLy9kcmF3cyB0aGUgcGF0aHMgY3JlYXRlZCBhYm92ZVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNiYmJiYmJcIjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNiYmJiYmJcIjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xyXG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSBcIi4vTGluZVNlZ21lbnRcIjtcclxuaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gIHByaXZhdGUga2V5TWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gIHByaXZhdGUgc25ha2U6IFNuYWtlO1xyXG4gIHByaXZhdGUgbGVmdEtleTogc3RyaW5nO1xyXG4gIHByaXZhdGUgcmlnaHRLZXk6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3Ioc25ha2U6IFNuYWtlLCBsZWZ0S2V5OiBzdHJpbmcsIHJpZ2h0S2V5OiBzdHJpbmcpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnNuYWtlID0gc25ha2U7XHJcbiAgICB0aGlzLmxlZnRLZXkgPSBsZWZ0S2V5O1xyXG4gICAgdGhpcy5yaWdodEtleSA9IHJpZ2h0S2V5O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIC8vaWYgc25ha2UgaXMgZGVhZCwgaWdub3JlIHRoZSBrZXkgcHJlc3Nlc1xyXG4gICAgaWYoIXRoaXMuc25ha2UuaXNBbGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgXHJcblxyXG4gICAgLy9pZ25vcmUga2V5cyBub3QgYXNzaWduZWQgdG8gc2VsZiwgdGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlIGtleW1hcCBoYXZpbmcgdW5uZWNlc3Nhcnkga2V5cyBhbmQgdHJpZ2dlcmluZyB0aGUgb25rZXlVcCBldmVudHNcclxuICAgIGlmKGtleSAhPSB0aGlzLmxlZnRLZXkgJiYga2V5ICE9IHRoaXMucmlnaHRLZXkpe1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy9zd2l0Y2ggb2ZmIHRoZSBjdXJyZW50IGRvd24ga2V5IGlmIHRoZSBvdGhlciBkaXJlY3Rpb24gaXMgcHJlc3NlZFxyXG4gICAgaWYgKHRoaXMua2V5TWFwW3RoaXMucmlnaHRLZXldICYmIGtleSA9PSB0aGlzLmxlZnRLZXkpIHtcclxuICAgICAgdGhpcy5rZXlNYXBbdGhpcy5yaWdodEtleV0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMua2V5TWFwW3RoaXMubGVmdEtleV0gJiYga2V5ID09IHRoaXMucmlnaHRLZXkpIHtcclxuICAgICAgdGhpcy5rZXlNYXBbdGhpcy5sZWZ0S2V5XSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy9yZXR1cm4gaWYgdGhlIGtleSBpcyBhbHJhZWR5IGluIHRoZSBtYXAsIHByZXZlbnRzIGF1dG9jbGlja2luZ1xyXG4gICAgZWxzZSBpZiAodGhpcy5rZXlNYXBba2V5XSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIHRoaXMua2V5TWFwW2tleV0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICBsZXQgaGVhZCA9IHRoaXMuc25ha2UuaGVhZDtcclxuICAgIGxldCBlbmRQb2ludCA9IGhlYWQuZW5kUG9pbnQ7XHJcbiAgICBsZXQgdGFuZ2VudEFuZ2xlID0gMDtcclxuXHJcbiAgICAvL2NhbGN1bGF0ZSB0aGUgc3RhcnRpbmcgdGFuZ2VudCBhbmdsZSBvZiB0aGUgbGluZVxyXG4gICAgaWYgKGhlYWQgaW5zdGFuY2VvZiBMaW5lU2VnbWVudCkge1xyXG4gICAgICB0YW5nZW50QW5nbGUgKz0gTWF0aC5QSSAvIDI7XHJcblxyXG4gICAgICBpZiAoa2V5ID09IHRoaXMucmlnaHRLZXkpIHtcclxuICAgICAgICB0aGlzLnNuYWtlLmFkZFNlZ21lbnQobmV3IEFyY1NlZ21lbnQobmV3IFZlY3RvcihcclxuICAgICAgICAgIGVuZFBvaW50LnggKyB0aGlzLnNuYWtlLnR1cm5SYWRpdXMgKiBNYXRoLmNvcyh0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgKyB0YW5nZW50QW5nbGUpLFxyXG4gICAgICAgICAgZW5kUG9pbnQueSArIHRoaXMuc25ha2UudHVyblJhZGl1cyAqIE1hdGguc2luKHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSArIHRhbmdlbnRBbmdsZSkpLFxyXG4gICAgICAgICAgdGhpcy5zbmFrZS50dXJuUmFkaXVzLCB0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgLSB0YW5nZW50QW5nbGUsIHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSAtIHRhbmdlbnRBbmdsZSwgZmFsc2UsIGhlYWQuaXNDb2xsaWRhYmxlKSlcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09IHRoaXMubGVmdEtleSkge1xyXG4gICAgICAgIHRoaXMuc25ha2UuYWRkU2VnbWVudChuZXcgQXJjU2VnbWVudChuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgZW5kUG9pbnQueCArIHRoaXMuc25ha2UudHVyblJhZGl1cyAqIE1hdGguY29zKHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSAtIHRhbmdlbnRBbmdsZSksXHJcbiAgICAgICAgICBlbmRQb2ludC55ICsgdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5zaW4odGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlKSksXHJcbiAgICAgICAgICB0aGlzLnNuYWtlLnR1cm5SYWRpdXMsIHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSArIHRhbmdlbnRBbmdsZSwgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlLCB0cnVlLCBoZWFkLmlzQ29sbGlkYWJsZSkpXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IFxyXG4gICAgLy8gXHJcbiAgICBlbHNlIGlmIChoZWFkIGluc3RhbmNlb2YgQXJjU2VnbWVudCkge1xyXG5cclxuICAgICAgdGFuZ2VudEFuZ2xlID0gaGVhZC5pc0NvdW50ZXJDbG9ja3dpc2UgPyAtTWF0aC5QSSA6IE1hdGguUEk7XHJcbiAgICAgIGlmIChrZXkgPT0gdGhpcy5yaWdodEtleSkge1xyXG4gICAgICAgIHRoaXMuc25ha2UuYWRkU2VnbWVudChuZXcgQXJjU2VnbWVudChuZXcgVmVjdG9yKFxyXG4gICAgICAgICAgZW5kUG9pbnQueCAtIHRoaXMuc25ha2UudHVyblJhZGl1cyAqIE1hdGguY29zKHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSArIHRhbmdlbnRBbmdsZSksXHJcbiAgICAgICAgICBlbmRQb2ludC55IC0gdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5zaW4odGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlKSksXHJcbiAgICAgICAgICB0aGlzLnNuYWtlLnR1cm5SYWRpdXMsIHRoaXMuc25ha2UuaGVhZC5lbmRBbmdsZSAtIHRhbmdlbnRBbmdsZSwgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlLCBmYWxzZSwgaGVhZC5pc0NvbGxpZGFibGUpKVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gdGhpcy5sZWZ0S2V5KSB7XHJcbiAgICAgICAgdGhpcy5zbmFrZS5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KG5ldyBWZWN0b3IoXHJcbiAgICAgICAgICBlbmRQb2ludC54IC0gdGhpcy5zbmFrZS50dXJuUmFkaXVzICogTWF0aC5jb3ModGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlIC0gdGFuZ2VudEFuZ2xlKSxcclxuICAgICAgICAgIGVuZFBvaW50LnkgLSB0aGlzLnNuYWtlLnR1cm5SYWRpdXMgKiBNYXRoLnNpbih0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgLSB0YW5nZW50QW5nbGUpKSxcclxuICAgICAgICAgIHRoaXMuc25ha2UudHVyblJhZGl1cywgdGhpcy5zbmFrZS5oZWFkLmVuZEFuZ2xlICsgdGFuZ2VudEFuZ2xlLCB0aGlzLnNuYWtlLmhlYWQuZW5kQW5nbGUgKyB0YW5nZW50QW5nbGUsIHRydWUsIGhlYWQuaXNDb2xsaWRhYmxlKSlcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBcclxuICB9XHJcbiAgcHJpdmF0ZSBvbktleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAvL2lmIHNuYWtlIGlzIGRlYWQsIGlnbm9yZSB0aGUga2V5IHByZXNzZXNcclxuICAgIGlmKCF0aGlzLnNuYWtlLmlzQWxpdmUpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3Qga2V5ID0gZXZlbnQua2V5LnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgLy9jaGVjayBpZiB0aGUga2V5IGlzIGluIHRoZSBrZXltYXAsIGlmIG5vdCBqdXN0IGlnbm9yZSBpdFxyXG4gICAgaWYgKCF0aGlzLmtleU1hcFtrZXldKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMua2V5TWFwW2tleV0gPSBmYWxzZTtcclxuXHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuc25ha2UuaGVhZCk7XHJcblxyXG4gICAgbGV0IGhlYWQgPSB0aGlzLnNuYWtlLmhlYWQ7XHJcbiAgICBsZXQgZW5kUG9pbnQgPSBoZWFkLmVuZFBvaW50O1xyXG4gICAgbGV0IGFuZ2xlID0gaGVhZC5lbmRBbmdsZTtcclxuXHJcbiAgICBpZiAoa2V5ID09IHRoaXMubGVmdEtleSAmJiBoZWFkIGluc3RhbmNlb2YgQXJjU2VnbWVudCAmJiBoZWFkLmlzQ291bnRlckNsb2Nrd2lzZSgpKSB7XHJcblxyXG4gICAgICBhbmdsZSAtPSBNYXRoLlBJIC8gMjtcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09IHRoaXMucmlnaHRLZXkgJiYgaGVhZCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQgJiYgIWhlYWQuaXNDb3VudGVyQ2xvY2t3aXNlKCkpIHtcclxuXHJcbiAgICAgIGFuZ2xlICs9IE1hdGguUEkgLyAyO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgdGhpcy5zbmFrZS5hZGRTZWdtZW50KG5ldyBMaW5lU2VnbWVudChlbmRQb2ludCxcclxuICAgICAgbmV3IFZlY3RvcihlbmRQb2ludC54ICsgNSAqIE1hdGguY29zKGFuZ2xlKSwgZW5kUG9pbnQueSArIDUgKiBNYXRoLnNpbihhbmdsZSkpLCBoZWFkLmlzQ29sbGlkYWJsZSAsYW5nbGUpKTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5zbmFrZS5oZWFkKTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcclxuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vU2VnbWVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZVNlZ21lbnQgZXh0ZW5kcyBTZWdtZW50IHtcclxuXHJcblxyXG4gICAgcHVibGljIHN0YXJ0UG9pbnQ6IFZlY3RvcjtcclxuICAgIHB1YmxpYyBlbmRQb2ludDogVmVjdG9yO1xyXG4gICAgcHVibGljIGVuZEFuZ2xlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaXNDb2xsaWRhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydDogVmVjdG9yLCBlbmQ6IFZlY3RvciwgaXNDb2xsaWRhYmxlOiBib29sZWFuLCBhbmdsZT86IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IGVuZDtcclxuICAgICAgICB0aGlzLmlzQ29sbGlkYWJsZSA9IGlzQ29sbGlkYWJsZTtcclxuICAgICAgICB0aGlzLmVuZEFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRyYXcoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29udGV4dC5zdHJva2VTdHlsZSA9ICcjZmYwMGZmZmYnXHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIGNvbnRleHQubGluZUNhcCA9IFwicm91bmRcIjtcclxuICAgICAgICBpZiAodGhpcy5pc0NvbGxpZGFibGUgPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMuc3RhcnRQb2ludC54LCB0aGlzLnN0YXJ0UG9pbnQueSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHRoaXMuZW5kUG9pbnQueCwgdGhpcy5lbmRQb2ludC55KTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNhbGNFbmRBbmdsZSgpOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbigodGhpcy5lbmRQb2ludC55IC0gdGhpcy5zdGFydFBvaW50LnkpIC8gKHRoaXMuZW5kUG9pbnQueCAtIHRoaXMuc3RhcnRQb2ludC54KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxlbmd0aCgpOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodGhpcy5zdGFydFBvaW50LnggLSB0aGlzLmVuZFBvaW50LngpKioyICsgKHRoaXMuc3RhcnRQb2ludC55IC0gdGhpcy5lbmRQb2ludC55KSoqMik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udGludWluZ1NlZ21lbnQodHJhbnNmb3JtOiBWZWN0b3IpOiBTZWdtZW50IHtcclxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZEVuZHBvaW50ID0gdGhpcy5lbmRQb2ludC5jbG9uZSgpLmFkZCh0cmFuc2Zvcm0pIGFzIFZlY3RvcjtcclxuICAgICAgICByZXR1cm4gbmV3IExpbmVTZWdtZW50KFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZEVuZHBvaW50LCBcclxuICAgICAgICAgICAgdHJhbnNmb3JtZWRFbmRwb2ludCwgXHJcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsaWRhYmxlLCBcclxuICAgICAgICAgICAgdGhpcy5lbmRBbmdsZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSwgeyBzaGFwZSB9IGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbURpcmVjdGlvbiB9IGZyb20gXCIuL1BhcnRpY2xlU3lzdGVtVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtaXR0ZXJ7XHJcbiAgICBwcml2YXRlIGFsaXZlUGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjtcclxuICAgIHB1YmxpYyBlbWl0VGltZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHNoYXBlOiBzaGFwZTtcclxuICAgIHB1YmxpYyBzaXplOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3BlZWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBjb2xvcjoge3I6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcn07XHJcbiAgICBwdWJsaWMgZmFkZUNvbG9yOiBib29sZWFuO1xyXG4gICAgcHVibGljIGZhZGVTaXplOiBib29sZWFuO1xyXG4gICAgcHVibGljIHBhcnRpY2xlTWF4QWdlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBwdWJsaWMgZW1pdFRpbWVNaWxsaXM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGlja3M6IG51bWJlciA9IDA7XHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogVmVjdG9yLCBlbWl0SW50ZXJ2YWw6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCBzaGFwZTogc2hhcGUgPSAnY2lyY2xlJywgY29sb3I6IHtyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXJ9LCBjYW52YXNDdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCAgZmFkZUNvbG9yOiBib29sZWFuID0gdHJ1ZSwgZmFkZVNpemU6IGJvb2xlYW4gPSB0cnVlLCBhZ2U6IG51bWJlciwgZW1pdFRpbWVNaWxsaXM6IG51bWJlciA9IDApe1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgdGhpcy5lbWl0VGltZSA9IGVtaXRJbnRlcnZhbDtcclxuICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XHJcbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLmNhbnZhc0N0eCA9IGNhbnZhc0N0eDtcclxuICAgIHRoaXMuZmFkZUNvbG9yID0gZmFkZUNvbG9yO1xyXG4gICAgdGhpcy5mYWRlU2l6ZSA9IGZhZGVTaXplOyBcclxuICAgIHRoaXMucGFydGljbGVNYXhBZ2UgPSBhZ2U7XHJcbiAgICB0aGlzLmVtaXRUaW1lTWlsbGlzID0gZW1pdFRpbWVNaWxsaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpY2soZHQ6IG51bWJlcil7XHJcbiAgICAgICAgaWYgKCh0aGlzLmVtaXRUaW1lTWlsbGlzICsgdGhpcy5wYXJ0aWNsZU1heEFnZSkgPCAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZW1pdFRpbWVNaWxsaXMgLT0gZHQ7XHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy50aWNrcyAlIHRoaXMuZW1pdFRpbWUgPT0gMCAmJiB0aGlzLmVtaXRUaW1lTWlsbGlzID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMucHVzaChuZXcgUGFydGljbGUodGhpcy5wb3NpdGlvbi5jbG9uZSgpIGFzIFZlY3RvciwgZ2V0UmFuZG9tRGlyZWN0aW9uKCksIHRoaXMuc2l6ZSwgdGhpcy5zcGVlZCwgdGhpcy5zaGFwZSx7Li4udGhpcy5jb2xvcn0sdGhpcy5jYW52YXNDdHgsIHRoaXMucGFydGljbGVNYXhBZ2UsIHRoaXMuZmFkZUNvbG9yLCB0aGlzLmZhZGVTaXplKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLnRpY2soZHQpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMgPSB0aGlzLmFsaXZlUGFydGljbGVzLmZpbHRlcihwYXJ0aWNsZSA9PiBwYXJ0aWNsZS5hZ2UgPiAwKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudGlja3MrKztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpe1xyXG4gICAgICAgIHRoaXMuYWxpdmVQYXJ0aWNsZXMuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLmRyYXcoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5leHBvcnQgdHlwZSBzaGFwZSA9ICdjaXJjbGUnIHwgJ3NxdWFyZSc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlIHtcclxuICAgIHBvc2l0aW9uOiBWZWN0b3I7XHJcbiAgICB2ZWxvY2l0eTogVmVjdG9yO1xyXG4gICAgc2hhcGU6IHNoYXBlO1xyXG4gICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgc3BlZWQ6IG51bWJlcjtcclxuICAgIGNvbG9yOiB7cjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyfTtcclxuICAgIGZhZGVDb2xvcjogYm9vbGVhbjtcclxuICAgIGZhZGVTaXplOiBib29sZWFuO1xyXG4gICAgYWdlOiBudW1iZXI7XHJcbiAgICBjYW52YXNDdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgc2l6ZUZhZGVBbW91bnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29sb3JGYWRlQW1vdW50OiBudW1iZXI7XHJcblxyXG4gXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBWZWN0b3IsIHZlbG9jaXR5OiBWZWN0b3IsIHNpemU6IG51bWJlciwgc3BlZWQ6IG51bWJlciwgIHNoYXBlOiBzaGFwZSA9ICdjaXJjbGUnLCBjb2xvcjoge3I6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcn0sIGNhbnZhc0N0eDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGFnZTogbnVtYmVyLCAgZmFkZUNvbG9yPzogYm9vbGVhbiwgZmFkZVNpemU/OiBib29sZWFuKXtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHZlbG9jaXR5O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHggPSBjYW52YXNDdHg7XHJcbiAgICAgICAgdGhpcy5mYWRlQ29sb3IgPSBmYWRlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5mYWRlU2l6ZSA9IGZhZGVTaXplOyBcclxuICAgICAgICB0aGlzLmFnZSA9IGFnZTtcclxuICAgICAgICB0aGlzLmNvbG9yRmFkZUFtb3VudCA9IHRoaXMuY29sb3IuYS90aGlzLmFnZTtcclxuICAgICAgICB0aGlzLnNpemVGYWRlQW1vdW50ID0gdGhpcy5zaXplL3RoaXMuYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0aWNrKGR0OiBudW1iZXIpe1xyXG5cclxuICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5LmNsb25lKCkubXVsdGlwbHlCeVNjYWxhcihkdCAqIHRoaXMuc3BlZWQpKTtcclxuICAgICAgICBpZih0aGlzLmZhZGVDb2xvcil7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IuYSAtPSB0aGlzLmNvbG9yRmFkZUFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5mYWRlU2l6ZSl7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSAtPSAgdGhpcy5zaXplRmFkZUFtb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZ2UtLTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdygpe1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4Lm1vdmVUbyh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYHJnYmEoJHt0aGlzLmNvbG9yLnJ9LCR7dGhpcy5jb2xvci5nfSwgJHt0aGlzLmNvbG9yLmJ9LCAke3RoaXMuY29sb3IuYX0pYDtcclxuICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc2hhcGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmFyYyh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgdGhpcy5zaXplLCAwLCAyKk1hdGguUEkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NxdWFyZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsUmVjdCh0aGlzLnBvc2l0aW9uLngtdGhpcy5zaXplLCB0aGlzLnBvc2l0aW9uLnktdGhpcy5zaXplLCB0aGlzLnNpemUqMiwgdGhpcy5zaXplKjIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbURpcmVjdGlvbigpOiBWZWN0b3J7XHJcblxyXG4gICAgcmV0dXJuKG5ldyBWZWN0b3IoTWF0aC5yYW5kb20oKSoyLTEsIE1hdGgucmFuZG9tKCkqMi0xKSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhleFRvUmdiKGhleDogc3RyaW5nKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XHJcbiAgICByZXR1cm4gcmVzdWx0ID8ge1xyXG4gICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcclxuICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXHJcbiAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXHJcbiAgICB9IDogbnVsbDtcclxuICB9IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcInZlY3RvcjJkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFNlZ21lbnQge1xuICAgIGFic3RyYWN0IGlzQ29sbGlkYWJsZTogYm9vbGVhbjtcbiAgICBhYnN0cmFjdCBkcmF3KGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZyk6IHZvaWQ7XG4gICAgYWJzdHJhY3QgZ2V0IGVuZEFuZ2xlKCk6IG51bWJlcjtcbiAgICBhYnN0cmFjdCBnZXQgZW5kUG9pbnQoKTogVmVjdG9yO1xuICAgIGFic3RyYWN0IGdldENvbnRpbnVpbmdTZWdtZW50KHRyYW5zZm9ybTogVmVjdG9yKTogU2VnbWVudDtcbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwidmVjdG9yMmRcIjtcbmltcG9ydCBBcmNTZWdtZW50IGZyb20gXCIuL0FyY1NlZ21lbnRcIjtcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tIFwiLi9MaW5lU2VnbWVudFwiO1xuaW1wb3J0IFNlZ21lbnQgZnJvbSBcIi4vU2VnbWVudFwiO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4vUGFydGljbGVTeXN0ZW0vRW1pdHRlclwiO1xuaW1wb3J0IHsgaGV4VG9SZ2IgfSBmcm9tIFwiLi9QYXJ0aWNsZVN5c3RlbS9QYXJ0aWNsZVN5c3RlbVV0aWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIHtcbiAgICBwdWJsaWMgc2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcbiAgICBwdWJsaWMgaXNBbGl2ZTogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIHR1cm5SYWRpdXM6IG51bWJlciA9IDYwO1xuICAgIHByaXZhdGUgZW1pdHRlcjogRW1pdHRlciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgcHJpdmF0ZSBkaXN0YW5jZVRvQ2hhbmdlT2ZTdGF0ZTogbnVtYmVyID0gMTA7XG5cblxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0UG9zOiBMaW5lU2VnbWVudCwgY29sb3I6IHN0cmluZywgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICAgICAgdGhpcy5hZGRTZWdtZW50KHN0YXJ0UG9zKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IGNhbnZhc0N0eFxuICAgIH1cbiAgICBhZGRTZWdtZW50KHNlZ21lbnQ6IFNlZ21lbnQpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIGdldCBoZWFkKCk6IFNlZ21lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50cy5zbGljZSgtMSkucG9wKCk7XG4gICAgfVxuXG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5jYW52YXNDdHgubGluZVdpZHRoID0gMTI7XG4gICAgICAgIC8vVE9ETyBmaXggdGhpcyB0byBiZSBhIHNpbmdsZSBwYXRoXG4gICAgICAgIC8vIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgdGhpcy5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgc2VnbWVudC5kcmF3KHRoaXMuY2FudmFzQ3R4LCB0aGlzLmNvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWQgIT0gc2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWdtZW50IGluc3RhbmNlb2YgQXJjU2VnbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIHNlZ21lbnQuZHJhd0RlYnVnKHRoaXMuY2FudmFzQ3R4LCAnIzY2NjY2NicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmFyYyhzZWdtZW50LmNlbnRlci54LCBzZWdtZW50LmNlbnRlci55LCBzZWdtZW50LnJhZGl1cywgc2VnbWVudC5lbmRBbmdsZSwgc2VnbWVudC5lbmRBbmdsZSwgc2VnbWVudC5pc0NvdW50ZXJDbG9ja3dpc2UoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzZWdtZW50IGluc3RhbmNlb2YgTGluZVNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5tb3ZlVG8oc2VnbWVudC5lbmRQb2ludC54LCBzZWdtZW50LmVuZFBvaW50LnkpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmxpbmVUbyhzZWdtZW50LmVuZFBvaW50LngsIHNlZ21lbnQuZW5kUG9pbnQueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIG1vdmUoZGlzdGFuY2U6IG51bWJlcikge1xuICAgICAgICAvL2RvIG5vdCBtb3ZlIGlzIGRlYWQsIHNpbXBsZVxuICAgICAgICBpZiAoIXRoaXMuaXNBbGl2ZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2hlY2tXYWxscygpO1xuXG4gICAgICAgIC8vIGRvIG5vdCBtb3ZlIGlmIHNuYWtlIGhhcyBubyBzZWdtZW50c1xuICAgICAgICBjb25zdCBsYXN0U2VnbWVudCA9IHRoaXMuaGVhZDtcbiAgICAgICAgaWYgKCFsYXN0U2VnbWVudCkgcmV0dXJuO1xuXG5cbiAgICAgICAgXG5cblxuICAgICAgICAvL21vdmUgdGhlIHNuYWtlIHRoZSBjb3JyZWN0IGFtb3VudCwgZGVwZW5kaW5nIG9uIHRoZSBoZWFkIHNlZ21lbnRcbiAgICAgICAgaWYgKGxhc3RTZWdtZW50IGluc3RhbmNlb2YgTGluZVNlZ21lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGR4ID0gZGlzdGFuY2UgKiBNYXRoLmNvcyhsYXN0U2VnbWVudC5lbmRBbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBkeSA9IGRpc3RhbmNlICogTWF0aC5zaW4obGFzdFNlZ21lbnQuZW5kQW5nbGUpO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdFbmQgPSBuZXcgVmVjdG9yKGxhc3RTZWdtZW50LmVuZFBvaW50LnggKyBkeCwgbGFzdFNlZ21lbnQuZW5kUG9pbnQueSArIGR5KTtcbiAgICAgICAgICAgIGxhc3RTZWdtZW50LmVuZFBvaW50ID0gbmV3RW5kO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFzdFNlZ21lbnQgaW5zdGFuY2VvZiBBcmNTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZUV4dGVuc2lvbiA9IGRpc3RhbmNlIC8gbGFzdFNlZ21lbnQucmFkaXVzO1xuXG4gICAgICAgICAgICBsYXN0U2VnbWVudC5lbmRBbmdsZSA9IGxhc3RTZWdtZW50LmlzQ291bnRlckNsb2Nrd2lzZSgpID8gbGFzdFNlZ21lbnQuZW5kQW5nbGUgLSBhbmdsZUV4dGVuc2lvbiA6IGxhc3RTZWdtZW50LmVuZEFuZ2xlICsgYW5nbGVFeHRlbnNpb247XG5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy9hZGQgbmV3IHNlZ21lbnQgbGFzdHNlZ21lbnQuY3JlYXRlZmxpcHBlZHN0YXRlXG4gICAgICAgIGlmIChsYXN0U2VnbWVudC5pc0NvbGxpZGFibGUgJiYgdGhpcy5kaXN0YW5jZVRvQ2hhbmdlT2ZTdGF0ZSA8IDApIHtcblxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZVRvQ2hhbmdlT2ZTdGF0ZSA9IE1hdGgucmFuZG9tKCkgKiA4MCArIDMwIC8vIDQwLTkwXG5cbiAgICAgICAgICAgIGlmIChsYXN0U2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTZWdtZW50KG5ldyBMaW5lU2VnbWVudChsYXN0U2VnbWVudC5lbmRQb2ludCwgbmV3IFZlY3RvcihsYXN0U2VnbWVudC5lbmRQb2ludC54LCBsYXN0U2VnbWVudC5lbmRQb2ludC55KSwgZmFsc2UsIGxhc3RTZWdtZW50LmVuZEFuZ2xlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0U2VnbWVudCBpbnN0YW5jZW9mIEFyY1NlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNlZ21lbnQobmV3IEFyY1NlZ21lbnQobGFzdFNlZ21lbnQuY2VudGVyLCBsYXN0U2VnbWVudC5yYWRpdXMsIGxhc3RTZWdtZW50LmVuZEFuZ2xlLCBsYXN0U2VnbWVudC5lbmRBbmdsZSwgbGFzdFNlZ21lbnQuaXNDb3VudGVyQ2xvY2t3aXNlKCksIGZhbHNlKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbGFzdFNlZ21lbnQuaXNDb2xsaWRhYmxlICYmIHRoaXMuZGlzdGFuY2VUb0NoYW5nZU9mU3RhdGUgPCAwKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2VUb0NoYW5nZU9mU3RhdGUgPSBNYXRoLnJhbmRvbSgpICogNTAwICsgODAgLy8gODAtMzIwXG5cbiAgICAgICAgICAgIGlmIChsYXN0U2VnbWVudCBpbnN0YW5jZW9mIExpbmVTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTZWdtZW50KG5ldyBMaW5lU2VnbWVudChsYXN0U2VnbWVudC5lbmRQb2ludCwgbmV3IFZlY3RvcihsYXN0U2VnbWVudC5lbmRQb2ludC54LCBsYXN0U2VnbWVudC5lbmRQb2ludC55KSwgdHJ1ZSwgbGFzdFNlZ21lbnQuZW5kQW5nbGUpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdFNlZ21lbnQgaW5zdGFuY2VvZiBBcmNTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTZWdtZW50KG5ldyBBcmNTZWdtZW50KGxhc3RTZWdtZW50LmNlbnRlciwgbGFzdFNlZ21lbnQucmFkaXVzLCBsYXN0U2VnbWVudC5lbmRBbmdsZSwgbGFzdFNlZ21lbnQuZW5kQW5nbGUsIGxhc3RTZWdtZW50LmlzQ291bnRlckNsb2Nrd2lzZSgpLCB0cnVlKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy91cGRhdGUgdGhlIGRpc3RhbmNlIHRyYXZlbGxlZFxuICAgICAgICB0aGlzLmRpc3RhbmNlVG9DaGFuZ2VPZlN0YXRlIC09IGRpc3RhbmNlO1xuICAgIH1cblxua2lsbCgpIHtcbiAgICBjb25zb2xlLmxvZyhcIlNOQUtFIERFQURcIilcbiAgICB0aGlzLmlzQWxpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcih0aGlzLmhlYWQuZW5kUG9pbnQsIDEsIDcsIDQsICdjaXJjbGUnLCB7IC4uLmhleFRvUmdiKHRoaXMuY29sb3IpLCBhOiAxIH0sIHRoaXMuY2FudmFzQ3R4LCB0cnVlLCB0cnVlLCA3MCwgNCk7XG59XG5cbnVwZGF0ZUVtaXR0ZXIoZHQ6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmVtaXR0ZXIpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnRpY2soZHQpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIuZHJhdygpO1xuICAgIH1cbn1cblxuY2hlY2tXYWxscygpIHtcbiAgICBjb25zdCBsYXN0U2VnbWVudCA9IHRoaXMuaGVhZDtcbiAgICBpZiAobGFzdFNlZ21lbnQuZW5kUG9pbnQueCA8IDApIHtcbiAgICAgICAgdGhpcy5hZGRTZWdtZW50KGxhc3RTZWdtZW50LmdldENvbnRpbnVpbmdTZWdtZW50KG5ldyBWZWN0b3IodGhpcy5jYW52YXNDdHguY2FudmFzLndpZHRoLCAwKSkpO1xuICAgIH0gXG4gICAgZWxzZSBpZiAobGFzdFNlZ21lbnQuZW5kUG9pbnQueCA+IHRoaXMuY2FudmFzQ3R4LmNhbnZhcy53aWR0aCkge1xuICAgICAgICB0aGlzLmFkZFNlZ21lbnQobGFzdFNlZ21lbnQuZ2V0Q29udGludWluZ1NlZ21lbnQobmV3IFZlY3RvcigtdGhpcy5jYW52YXNDdHguY2FudmFzLndpZHRoLCAwKSkpO1xuICAgIH1cbiAgICBcbiAgICBpZiAobGFzdFNlZ21lbnQuZW5kUG9pbnQueSA8IDApIHtcbiAgICAgICAgdGhpcy5hZGRTZWdtZW50KGxhc3RTZWdtZW50LmdldENvbnRpbnVpbmdTZWdtZW50KG5ldyBWZWN0b3IoMCwgdGhpcy5jYW52YXNDdHguY2FudmFzLmhlaWdodCkpKTtcbiAgICB9IFxuICAgIGVsc2UgaWYgKGxhc3RTZWdtZW50LmVuZFBvaW50LnkgPiB0aGlzLmNhbnZhc0N0eC5jYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuYWRkU2VnbWVudChsYXN0U2VnbWVudC5nZXRDb250aW51aW5nU2VnbWVudChuZXcgVmVjdG9yKDAsIC10aGlzLmNhbnZhc0N0eC5jYW52YXMuaGVpZ2h0KSkpO1xuICAgIH1cbiAgICBcbn1cblxuICAgIFxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCJ2ZWN0b3IyZFwiO1xuaW1wb3J0IEFyY1NlZ21lbnQgZnJvbSBcIi4vQXJjU2VnbWVudFwiO1xuaW1wb3J0IHsgZHJhd0dyaWQgfSBmcm9tIFwiLi9EcmF3ZXJcIjtcbmltcG9ydCBJbnB1dE1hbmFnZXIgZnJvbSBcIi4vSW5wdXRNYW5hZ2VyXCI7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSBcIi4vTGluZVNlZ21lbnRcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9TbmFrZVwiO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4vUGFydGljbGVTeXN0ZW0vRW1pdHRlclwiO1xuaW1wb3J0IENvbGxpc2lvbkhhbmRsZXIgZnJvbSBcIi4vQ29sbGlzaW9uSGFuZGxlclwiO1xuXG52YXIgZnBzQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZnBzQ291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5mcHNDb3VudGVyLnN0eWxlLnRvcCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUubGVmdCA9ICcxMHB4JztcbmZwc0NvdW50ZXIuc3R5bGUuY29sb3IgPSAnYmxhY2snO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcHNDb3VudGVyKTtcbmV4cG9ydCB2YXIgZnBzID0gNjA7XG5cbmV4cG9ydCB2YXIgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgZ2FtZUNhbnZhc0N0eCA9IGdhbWVDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrZ3JvdW5kLWNhbnZhcycpICBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmV4cG9ydCB2YXIgYmFja2dyb3VuZENhbnZhc0N0eCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbmJhY2tncm91bmRDYW52YXMhLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbmJhY2tncm91bmRDYW52YXMhLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuZ2FtZUNhbnZhcyEud2lkdGggPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuZ2FtZUNhbnZhcyEuaGVpZ2h0ID0gZ2FtZUNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5leHBvcnQgdmFyIGdyaWRTaXplID0gNjA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUoKSB7XG4gICAgZ2FtZUNhbnZhcy53aWR0aCA9IGdhbWVDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgZ2FtZUNhbnZhcy5oZWlnaHQgPSBnYW1lQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLndpZHRoID0gYmFja2dyb3VuZENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBiYWNrZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIGRyYXdHcmlkKCk7XG4gIH1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB2YXIgbXVsdCA9IGZwcyAvIDYwO1xuICAgIGZyYW1lQ291bnQrKztcbiAgICBpZiAoZnJhbWVDb3VudCAlIDEwID09PSAwKSB7XG4gICAgICAgIGZwcyA9IGNhbGN1bGF0ZUZQUygpO1xuICAgICAgICBmcHNDb3VudGVyLmlubmVyVGV4dCA9IGBGUFM6ICR7ZnBzfWA7XG4gICAgfVxuICAgIGdhbWVDYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGdhbWVDYW52YXMud2lkdGgsIGdhbWVDYW52YXMuaGVpZ2h0KTtcblxuICAgIHNuYWtlcy5mb3JFYWNoKHNuYWtlID0+IHtcbiAgICAgICAgc25ha2UuZHJhdygpO1xuICAgICAgICBpZihwZXJmb3JtYW5jZS5ub3coKSA+IDIwMDApe1xuICAgICAgICAgICAgc25ha2UubW92ZSgocGVyZm9ybWFuY2Uubm93KCkvMTAgLSBsYXN0VGltZSkvMik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNuYWtlLnVwZGF0ZUVtaXR0ZXIoKHBlcmZvcm1hbmNlLm5vdygpLzEwIC0gbGFzdFRpbWUpLzEwKTtcbiAgICB9KTtcbiAgICBjb2xsaXNpb25IYW5kbGVyLmNoZWNrQ29sbGlzaW9ucygpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICBcbiAgICAvLyBlbWl0dGVyLnRpY2soMC4zKTtcbiAgICAvLyBlbWl0dGVyLmRyYXcoKTtcbn1cbnZhciBmcmFtZUNvdW50ID0gMDtcbnZhciBsYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTA7XG5mdW5jdGlvbiBjYWxjdWxhdGVGUFMoKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLyAxMDtcbiAgICB2YXIgdGltZURpZmYgPSBjdXJyZW50VGltZSAtIGxhc3RUaW1lO1xuICAgIHZhciBmcHMgPSBNYXRoLnJvdW5kKDEwMDAgLyB0aW1lRGlmZik7XG4gICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICByZXR1cm4gZnBzO1xufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVDYW52YXNTaXplKTtcbmRyYXdHcmlkKCk7XG5jb25zdCBzbmFrZXM6IFNuYWtlW10gPSBbXVxuY29uc3QgaW5wdXRNYW5hZ2VyczogSW5wdXRNYW5hZ2VyW10gPSBbXVxuY29uc3QgY29sb3JzOiBzdHJpbmdbXSA9IFtcIiNlZjg4ODhcIiwgXCIjZmYwMDAwXCIsIFwiIzAwYWFiYlwiLCBcIiMwMDAwZWVcIl1cbmNvbnN0IGtleW1hcHM6IHN0cmluZ1tdW10gPVtbJ0EnLCdEJ10sWydGJywnSCddLFsnSicsJ0wnXSwgWyc4JywnMCddXSBcbmZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICBsZXQgc3RhcnRQb3MgPSBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkqIDE4MDAsIE1hdGgucmFuZG9tKCkqOTAwKTtcbiAgICBzbmFrZXMucHVzaChuZXcgU25ha2UobmV3IExpbmVTZWdtZW50KHN0YXJ0UG9zLCBzdGFydFBvcy5hZGQobmV3IFZlY3RvcigxMCwxMCkpLCB0cnVlICxNYXRoLnJhbmRvbSgpKiAyKiBNYXRoLlBJKSwgY29sb3JzW2ldLCBnYW1lQ2FudmFzQ3R4KSk7XG4gICAgaW5wdXRNYW5hZ2Vycy5wdXNoKG5ldyBJbnB1dE1hbmFnZXIoc25ha2VzW2ldLCBrZXltYXBzW2ldWzBdLCBrZXltYXBzW2ldWzFdKSlcbn1cblxuY29uc3QgY29sbGlzaW9uSGFuZGxlciA9IG5ldyBDb2xsaXNpb25IYW5kbGVyKHNuYWtlcylcbi8vIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcihuZXcgVmVjdG9yKGdhbWVDYW52YXMud2lkdGgvMiwgZ2FtZUNhbnZhcy5oZWlnaHQvMiksIDIsIDEwLCA1LCAnY2lyY2xlJywge3I6MjU1LCBnOjAsIGI6MjU1LCBhOjAuNX0sIGdhbWVDYW52YXNDdHgsIHRydWUsIHRydWUsIDIwMClcblxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBUaGVzZSB2YWx1ZXMgYXJlIHVzZWQgYnkgdGhlIGBBYnN0cmFjdFZlY3Rvci5yb3VuZGAgbWV0aG9kIHRvIGluY3JlYXNlXG4gKiBwZXJmb3JtYW5jZSB2cy4gdXNpbmcgIE51bWJlci50b0ZpeGVkLlxuICovXG52YXIgcHJlY2lzaW9uID0gW1xuICAgIDEsXG4gICAgMTAsXG4gICAgMTAwLFxuICAgIDEwMDAsXG4gICAgMTAwMDAsXG4gICAgMTAwMDAwLFxuICAgIDEwMDAwMDAsXG4gICAgMTAwMDAwMDAsXG4gICAgMTAwMDAwMDAwLFxuICAgIDEwMDAwMDAwMDAsXG4gICAgMTAwMDAwMDAwMDBcbl07XG4vKipcbiAqIFRoZSBjbGFzcyB0aGF0IGFsbCBvdGhlciB2ZWN0b3IgcmVwcmVzZW50YXRpb25zIGFyZSBkZXJpdmVkIGZyb20uXG4gKlxuICogQ29udGFpbnMgdGhlIGNvcmUgaW1wbGVtZW50YXRpb24gZm9yIGFsbCBtZXRob2RzIHRoYXQgd2lsbCBiZSBleHBvc2VkIGJ5XG4gKiB2ZWN0b3IgaW5zdGFuY2VzLlxuICpcbiAqIEV4YW1wbGUgb2YgY3JlYXRpbmcgYSBjdXN0b20gaW1wbGVtZW50YXRpb246XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEFic3RyYWN0VmVjdG9yIH0gZnJvbSBcIi4vQWJzdHJhY3RWZWN0b3JcIlxuICpcbiAqIGV4cG9ydCBjbGFzcyBNeUN1c3RvbVZlY3RvciBleHRlbmRzIEFic3RyYWN0VmVjdG9yIHtcbiAqICBjb25zdHJ1Y3RvciAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAqICAgIHN1cGVyKEN1c3RvbVZlY3RvclR5cGUpXG4gKiAgfVxuICogfVxuICogYGBgXG4gKi9cbnZhciBBYnN0cmFjdFZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFZlY3RvcihjdG9yKSB7XG4gICAgICAgIHRoaXMuY3RvciA9IGN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBib3RoIHggYW5kIHkgYXhpcyB2YWx1ZVxuICAgICAqIEBwYXJhbSB4ICAgTmV3IHggdmFsXG4gICAgICogQHBhcmFtIHkgICBOZXcgeSB2YWxcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuc2V0QXhlcyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0dGVyIGZvciB4IHRoZSBheGlzIHZhbHVlXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZm9yIHggYXhpcyB2YWx1ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5zZXRYID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXR0ZXIgZm9yIHkgYXhpcyB2YWx1ZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dGVyIGZvciB5IGF4aXMuXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnNldFkgPSBmdW5jdGlvbiAoeSkge1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdmVjdG9yIGFzIGEgZm9ybWF0dGVkIHN0cmluZywgZS5nIFwiKDAsIDQpXCJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAocm91bmQpIHtcbiAgICAgICAgaWYgKHJvdW5kID09PSB2b2lkIDApIHsgcm91bmQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAocm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIihcIiArIE1hdGgucm91bmQodGhpcy54KSArIFwiLCBcIiArIE1hdGgucm91bmQodGhpcy55KSArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIihcIiArIHRoaXMueCArIFwiLCBcIiArIHRoaXMueSArIFwiKVwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIEFycmF5IGNvbnRhaW5pbmcgdGhlIHZlY3RvciBheGVzLCBlLmcgWzAsIDRdXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIE9iamVjdCBjb250YWluaW5nIHRoZSB2ZWN0b3IgYXhlcywgZS5nIHsgeDogMCwgeTogNCB9XG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHByb3ZpZGVkIHZlY3RvciB0byB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCArPSB2ZWMueDtcbiAgICAgICAgdGhpcy55ICs9IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoZSBwcm92aWRlZCB2ZWN0b3IgZnJvbSB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgdGhpcy54IC09IHZlYy54O1xuICAgICAgICB0aGlzLnkgLT0gdmVjLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHByb3ZpZGVkIHZlY3RvciBlcXVhbCB0byB0aGlzIG9uZVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB2ZWMueCA9PT0gdGhpcy54ICYmIHZlYy55ID09PSB0aGlzLnk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bHRpcGx5QnlWZWN0b3IgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCAqPSB2ZWMueDtcbiAgICAgICAgdGhpcy55ICo9IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubXVsViA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlCeVZlY3Rvcih2ZWMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aWRlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2aWRlQnlWZWN0b3IgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHRoaXMueCAvPSB2ZWMueDtcbiAgICAgICAgdGhpcy55IC89IHZlYy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmRpdlYgPSBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZpZGVCeVZlY3Rvcih2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubXVsdGlwbHlCeVNjYWxhciA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHRoaXMueCAqPSBuO1xuICAgICAgICB0aGlzLnkgKj0gbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciBieSB0aGUgcHJvdmlkZWQgbnVtYmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm11bFMgPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseUJ5U2NhbGFyKG4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aXZlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2aWRlQnlTY2FsYXIgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB0aGlzLnggLz0gbjtcbiAgICAgICAgdGhpcy55IC89IG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGl2aXZlIHRoaXMgdmVjdG9yIGJ5IHRoZSBwcm92aWRlZCBudW1iZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGl2UyA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmlkZUJ5U2NhbGFyKG4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXNlIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm5vcm1hbGlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlQnlTY2FsYXIodGhpcy5tYWduaXR1ZGUoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3IgQW1lcmljYW4gc3BlbGxpbmcuIFNhbWUgYXMgdW5pdC9ub3JtYWxpc2UgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpc2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzYW1lIGFzIG5vcm1hbGlzZSBhbmQgbm9ybWFsaXplXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGlzZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLm1hZ25pdHVkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHggPSB0aGlzLng7XG4gICAgICAgIHZhciB5ID0gdGhpcy55O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFnbml0dWRlIChsZW5ndGgpIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFnbml0dWRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVyZWQgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLmxlbmd0aFNxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB4ICogeCArIHkgKiB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3Qgb2YgdGhpcyB2ZWN0b3IgYnkgYW5vdGhlclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5kb3QgPSBmdW5jdGlvbiAodmVjKSB7XG4gICAgICAgIHJldHVybiB2ZWMueCAqIHRoaXMueCArIHZlYy55ICogdGhpcy55O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGlzIHZlY3RvciBieSBhbm90aGVyLlxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5jcm9zcyA9IGZ1bmN0aW9uICh2ZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHZlYy55IC0gdGhpcy55ICogdmVjLng7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGlzIHZlY3RvciBpLmUgbXVsdGlwbGllcyBpdCBieSAtMVxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnggPSAtdGhpcy54O1xuICAgICAgICB0aGlzLnkgPSAtdGhpcy55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmVjdG9yIGF4ZXMgdmFsdWVzIHRvIGFic29sdXRlIHZhbHVlc1xuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMueCA9IE1hdGguYWJzKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGguYWJzKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogWmVyb2VzIHRoZSB2ZWN0b3IgaS5lIHNldHMgYWxsIGF4ZXMgdG8gMFxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS56ZXJvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnggPSB0aGlzLnkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIGFub3RoZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdFZlY3Rvci5wcm90b3R5cGUuZGlzdGFuY2UgPSBmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgeCA9IHRoaXMueCAtIHYueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnkgLSB2Lnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSB2ZXRvciBieSBwcm92aWRlZCByYWRpYW5zXG4gICAgICovXG4gICAgQWJzdHJhY3RWZWN0b3IucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIChyYWRzKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyYWRzKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKHJhZHMpO1xuICAgICAgICB2YXIgb3ggPSB0aGlzLng7XG4gICAgICAgIHZhciBveSA9IHRoaXMueTtcbiAgICAgICAgdGhpcy54ID0gb3ggKiBjb3MgLSBveSAqIHNpbjtcbiAgICAgICAgdGhpcy55ID0gb3ggKiBzaW4gKyBveSAqIGNvcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhpcyB2ZWN0b3IgdG8gbiBkZWNpbWFsIHBsYWNlc1xuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIGlmIChuID09PSB2b2lkIDApIHsgbiA9IDI7IH1cbiAgICAgICAgdmFyIHAgPSBwcmVjaXNpb25bbl07XG4gICAgICAgIC8vIFRoaXMgcGVyZm9ybXMgd2FhYXkgYmV0dGVyIHRoYW4gdG9GaXhlZCBhbmQgZ2l2ZSBGbG9hdDMyIHRoZSBlZGdlIGFnYWluLlxuICAgICAgICAvLyBodHRwOi8vd3d3LmR5bmFtaWNndXJ1LmNvbS9qYXZhc2NyaXB0L3JvdW5kLW51bWJlcnMtd2l0aC1wcmVjaXNpb24vXG4gICAgICAgIHRoaXMueCA9ICgoMC41ICsgdGhpcy54ICogcCkgPDwgMCkgLyBwO1xuICAgICAgICB0aGlzLnkgPSAoKDAuNSArIHRoaXMueSAqIHApIDw8IDApIC8gcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIHZlY3RvclxuICAgICAqL1xuICAgIEFic3RyYWN0VmVjdG9yLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmN0b3IodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0VmVjdG9yO1xufSgpKTtcbmV4cG9ydHMuQWJzdHJhY3RWZWN0b3IgPSBBYnN0cmFjdFZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0VmVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWJzdHJhY3RWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpO1xuLyoqXG4gKiBBIHZlY3RvciByZXByZXNlbnRhdGlvbiB0aGF0IHN0b3JlcyB0aGUgYXhlcyBpbiBhbiBBcnJheVxuICpcbiAqIGBgYFxuICogY29uc3QgdiA9IG5ldyBWZWMyRC5BcnJheVZlY3RvcigyLCA1KVxuICogYGBgXG4gKi9cbnZhciBBcnJheVZlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlWZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlWZWN0b3IoeCwgeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBBcnJheVZlY3RvcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYXhlcyA9IFt4LCB5XTtcbiAgICAgICAgX3RoaXMuY3RvciA9IEFycmF5VmVjdG9yO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheVZlY3Rvci5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgdGhpcy5heGVzWzBdID0geDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5VmVjdG9yLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5heGVzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICB0aGlzLmF4ZXNbMV0gPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQXJyYXlWZWN0b3I7XG59KEFic3RyYWN0VmVjdG9yXzEuQWJzdHJhY3RWZWN0b3IpKTtcbmV4cG9ydHMuQXJyYXlWZWN0b3IgPSBBcnJheVZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycmF5VmVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWJzdHJhY3RWZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VmVjdG9yXCIpO1xuLyoqXG4gKiBBIHZlY3RvciByZXByZXNlbnRhdGlvbiB0aGF0IHN0b3JlcyB0aGUgYXhlcyBpbiBhIEZsb2F0MzJBcnJheVxuICpcbiAqIGBgYFxuICogY29uc3QgdiA9IG5ldyBWZWMyRC5GbG9hdDMyVmVjdG9yKDIsIDUpXG4gKiBgYGBcbiAqL1xudmFyIEZsb2F0MzJWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZsb2F0MzJWZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmxvYXQzMlZlY3Rvcih4LCB5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIEZsb2F0MzJWZWN0b3IpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmF4ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICBfdGhpcy5heGVzWzBdID0geDtcbiAgICAgICAgX3RoaXMuYXhlc1sxXSA9IHk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZsb2F0MzJWZWN0b3IucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF4ZXNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHRoaXMuYXhlc1swXSA9IHg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdDMyVmVjdG9yLnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5heGVzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5KSB7XG4gICAgICAgICAgICB0aGlzLmF4ZXNbMV0gPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRmxvYXQzMlZlY3Rvcjtcbn0oQWJzdHJhY3RWZWN0b3JfMS5BYnN0cmFjdFZlY3RvcikpO1xuZXhwb3J0cy5GbG9hdDMyVmVjdG9yID0gRmxvYXQzMlZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZsb2F0MzJWZWN0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vQWJzdHJhY3RWZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vQXJyYXlWZWN0b3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vRmxvYXQzMlZlY3RvclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9WZWN0b3JcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmVjMkQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBYnN0cmFjdFZlY3Rvcl8xID0gcmVxdWlyZShcIi4vQWJzdHJhY3RWZWN0b3JcIik7XG4vKipcbiAqIEEgdmVjdG9yIHJlcHJlc2VudGF0aW9uIHRoYXQgc3RvcmVzIHRoZSBheGVzIGFzIHBhcnQgb2YgdGhlIGluc3RhbmNlIGl0c2VsZlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCB2ID0gbmV3IFZlYzJELlZlY3RvcigyLCA1KVxuICogYGBgXG4gKi9cbnZhciBWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZlY3RvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWZWN0b3IoeCwgeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBWZWN0b3IpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl94ID0geDtcbiAgICAgICAgX3RoaXMuX3kgPSB5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZWN0b3IucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlY3Rvci5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVmVjdG9yO1xufShBYnN0cmFjdFZlY3Rvcl8xLkFic3RyYWN0VmVjdG9yKSk7XG5leHBvcnRzLlZlY3RvciA9IFZlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlY3Rvci5qcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXgudHNcIik7XG4iXSwibmFtZXMiOlsiY2VudGVyIiwicmFkaXVzIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiY291bnRlckNsb2Nrd2lzZSIsImlzQ29sbGlkYWJsZSIsImRyYXciLCJjb250ZXh0IiwiY29sb3IiLCJsaW5lQ2FwIiwic3Ryb2tlU3R5bGUiLCJ0aGlzIiwiYmVnaW5QYXRoIiwiYXJjIiwieCIsInkiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJkcmF3RGVidWciLCJ0YW5nZW50X2FuZ2xlIiwiTWF0aCIsIlBJIiwiZHJhd0RvdCIsImRyYXdBcnJvdyIsImVuZFBvaW50IiwiY29zIiwic2luIiwiZHJhd0FyYyIsImlzQ291bnRlckNsb2Nrd2lzZSIsImdldENvbnRpbnVpbmdTZWdtZW50IiwidHJhbnNmb3JtIiwiQXJjU2VnbWVudCIsImNsb25lIiwiYWRkIiwic25ha2VzIiwiY2hlY2tDb2xsaXNpb25zIiwiZm9yRWFjaCIsInNuYWtlMSIsImlzQWxpdmUiLCJoZWFkIiwiYWJzIiwia2lsbCIsImNvbnNvbGUiLCJsb2ciLCJzbmFrZTIiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJzbGljZSIsInBvcCIsImlzUG9pbnRPbkxpbmUiLCJpc1BvaW50T25BcmMiLCJsaW5lIiwicG9pbnQiLCJlcHNpbG9uIiwibGluZUxlbmd0aCIsImxlbmd0aCIsImQxIiwiZGlzdGFuY2UiLCJzdGFydFBvaW50IiwiZDIiLCJhbmdsZSIsImF0YW4yIiwibm9ybWFsaXplQW5nbGUiLCJub3JtYWxpemVkIiwibm9ybWFsaXplZEFuZ2xlIiwibm9ybWFsaXplZFN0YXJ0QW5nbGUiLCJub3JtYWxpemVkRW5kQW5nbGUiLCJkcmF3R3JpZCIsImJhY2tncm91bmRDYW52YXNDdHgiLCJjbGVhclJlY3QiLCJiYWNrZ3JvdW5kQ2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJsaW5lV2lkdGgiLCJncmlkU2l6ZSIsIm1vdmVUbyIsImxpbmVUbyIsImRvdFgiLCJkb3RZIiwiZG90U2l6ZSIsImZpbGxTdHlsZSIsImZpbGwiLCJjdHgiLCJmcm9tIiwidG8iLCJoZWFkTGVuZ3RoIiwibmV3X3RvIiwiVmVjdG9yIiwic25ha2UiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJrZXlNYXAiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwib25LZXlEb3duIiwiYmluZCIsIm9uS2V5VXAiLCJldmVudCIsImtleSIsInRvVXBwZXJDYXNlIiwidGFuZ2VudEFuZ2xlIiwiYWRkU2VnbWVudCIsInR1cm5SYWRpdXMiLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXJ0IiwiZW5kIiwiY2FsY0VuZEFuZ2xlIiwiYXRhbiIsInNxcnQiLCJ0cmFuc2Zvcm1lZEVuZHBvaW50IiwiTGluZVNlZ21lbnQiLCJwb3NpdGlvbiIsImVtaXRJbnRlcnZhbCIsInNpemUiLCJzcGVlZCIsInNoYXBlIiwiY2FudmFzQ3R4IiwiZmFkZUNvbG9yIiwiZmFkZVNpemUiLCJhZ2UiLCJlbWl0VGltZU1pbGxpcyIsImFsaXZlUGFydGljbGVzIiwidGlja3MiLCJlbWl0VGltZSIsInBhcnRpY2xlTWF4QWdlIiwidGljayIsImR0IiwicHVzaCIsImdldFJhbmRvbURpcmVjdGlvbiIsInBhcnRpY2xlIiwiZmlsdGVyIiwidmVsb2NpdHkiLCJjb2xvckZhZGVBbW91bnQiLCJhIiwic2l6ZUZhZGVBbW91bnQiLCJtdWx0aXBseUJ5U2NhbGFyIiwiciIsImciLCJiIiwiZmlsbFJlY3QiLCJyYW5kb20iLCJoZXhUb1JnYiIsImhleCIsInJlc3VsdCIsImV4ZWMiLCJwYXJzZUludCIsInN0YXJ0UG9zIiwiZW1pdHRlciIsImRpc3RhbmNlVG9DaGFuZ2VPZlN0YXRlIiwiaW5kZXgiLCJtb3ZlIiwiY2hlY2tXYWxscyIsImxhc3RTZWdtZW50IiwiZHgiLCJkeSIsIm5ld0VuZCIsImFuZ2xlRXh0ZW5zaW9uIiwidXBkYXRlRW1pdHRlciIsImNhbnZhcyIsImZwc0NvdW50ZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJmcHMiLCJnYW1lQ2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJnYW1lQ2FudmFzQ3R4IiwiZ2V0Q29udGV4dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZyYW1lQ291bnQiLCJsYXN0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiaW5wdXRNYW5hZ2VycyIsImNvbG9ycyIsImtleW1hcHMiLCJpIiwiY29sbGlzaW9uSGFuZGxlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJjdXJyZW50VGltZSIsInRpbWVEaWZmIiwicm91bmQiLCJjYWxjdWxhdGVGUFMiLCJpbm5lclRleHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInByZWNpc2lvbiIsIkFic3RyYWN0VmVjdG9yIiwiY3RvciIsInByb3RvdHlwZSIsInNldEF4ZXMiLCJnZXRYIiwic2V0WCIsImdldFkiLCJzZXRZIiwidG9TdHJpbmciLCJ0b0FycmF5IiwidG9PYmplY3QiLCJ2ZWMiLCJzdWJ0cmFjdCIsImVxdWFscyIsIm11bHRpcGx5QnlWZWN0b3IiLCJtdWxWIiwiZGl2aWRlQnlWZWN0b3IiLCJkaXZWIiwidiIsIm4iLCJtdWxTIiwiZGl2aWRlQnlTY2FsYXIiLCJkaXZTIiwibm9ybWFsaXNlIiwibWFnbml0dWRlIiwibm9ybWFsaXplIiwidW5pdCIsImxlbmd0aFNxIiwiZG90IiwiY3Jvc3MiLCJyZXZlcnNlIiwiemVybyIsInJvdGF0ZSIsInJhZHMiLCJveCIsIm95IiwicCIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiZCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIkFycmF5VmVjdG9yIiwiX3N1cGVyIiwiX3RoaXMiLCJjYWxsIiwiYXhlcyIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJGbG9hdDMyVmVjdG9yIiwiRmxvYXQzMkFycmF5IiwiX19leHBvcnQiLCJtIiwiX3giLCJfeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9